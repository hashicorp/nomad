(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{covz:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return o}));var n=t("wx14"),c=t("Ff2n"),b=t("q1tI"),r=t.n(b),i=t("7ljp"),l=t("zwcN"),s=(r.a.createElement,{}),p=Object(l.a)({layout:"api",page_title:"JSON Job Specification - HTTP API",sidebar_title:"JSON Jobs",description:"Jobs can also be specified via the HTTP API using a JSON format. This guide\ndiscusses the job specification in JSON format.",__resourcePath:"api-docs/json-jobs.mdx",__scans:{}});function o(e){var a=e.components,t=Object(c.a)(e,["components"]);return Object(i.b)(p,Object(n.a)({},s,t,{components:a,mdxType:"MDXLayout"}),Object(i.b)("h1",{className:"g-type-display-2"},Object(i.b)("a",Object(n.a)({parentName:"h1"},{className:"__permalink-h",href:"#json-job-specification","aria-label":"json job specification permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h1"},{className:"__target-h",id:"json-job-specification","aria-hidden":""})),"JSON Job Specification"),Object(i.b)("p",null,"This guide covers the JSON syntax for submitting jobs to Nomad. A useful command\nfor generating valid JSON versions of HCL jobs is:"),Object(i.b)("pre",{className:"language-shell-session"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad job run -output my-job.nomad")),"\n")),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#syntax","aria-label":"syntax permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"syntax","aria-hidden":""})),"Syntax"),Object(i.b)("p",null,"Below is the JSON representation of the job outputted by ",Object(i.b)("inlineCode",{parentName:"p"},"$ nomad init"),":"),Object(i.b)("pre",{className:"language-json"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Job"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ID"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"example"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Name"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"example"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Type"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"service"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Priority"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"50"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Datacenters"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"dc1"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"TaskGroups"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Name"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"cache"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n        ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Count"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"1"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n        ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Migrate"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"HealthCheck"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"checks"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"HealthyDeadline"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"300000000000"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"MaxParallel"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"1"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"MinHealthyTime"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"10000000000"),"\n        ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n        ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Tasks"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Name"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"redis"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n            ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Driver"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"docker"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n            ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"User"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n            ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Config"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n              ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"image"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"redis:3.2"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n              ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"port_map"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n                ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n                  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"db"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"6379"),"\n                ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n              ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n            ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n            ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Services"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n              ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n                ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Id"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Name"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"redis-cache"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Tags"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"global"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"cache"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Meta"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n                  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"meta"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"for my service"'),"\n                ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"PortLabel"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"db"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"AddressMode"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Checks"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n                  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Id"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Name"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"alive"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Type"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"tcp"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Command"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Args"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token null keyword"}),"null"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Header"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Method"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Path"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Protocol"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"PortLabel"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Interval"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"10000000000"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Timeout"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"2000000000"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"InitialStatus"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"TLSSkipVerify"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"CheckRestart"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n                      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Limit"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"3"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Grace"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"30000000000"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"IgnoreWarnings"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n                  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n                ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n              ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n            ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n            ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Resources"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n              ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"CPU"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"500"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n              ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"MemoryMB"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"256"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n              ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Networks"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n                ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n                  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Device"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"CIDR"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"IP"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"MBits"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"10"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"DynamicPorts"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n                      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Label"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"db"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n                      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Value"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"0"),"\n                    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n                  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n                ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n              ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n            ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n            ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Leader"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n        ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n        ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"RestartPolicy"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Interval"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"1800000000000"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Attempts"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"2"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Delay"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"15000000000"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Mode"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"fail"'),"\n        ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n        ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ReschedulePolicy"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Attempts"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"10"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Delay"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"30000000000"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"DelayFunction"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"exponential"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Interval"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"0"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"MaxDelay"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"3600000000000"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Unlimited"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),"\n        ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n        ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"EphemeralDisk"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n          ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"SizeMB"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"300"),"\n        ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Update"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"MaxParallel"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"1"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"MinHealthyTime"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"10000000000"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"HealthyDeadline"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"180000000000"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"AutoRevert"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Canary"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"0"),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(i.b)("p",null,"The example JSON could be submitted as a job using the following:"),Object(i.b)("pre",{className:"language-shell-session"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token function"}),"curl")," -XPUT -d @example.json http://127.0.0.1:4646/v1/job/example")),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),'{\n  "EvalID": "5d6ded54-0b2a-8858-6583-be5f476dec9d",\n  "EvalCreateIndex": 12,\n  "JobModifyIndex": 11,\n  "Warnings": "",\n  "Index": 12,\n  "LastContact": 0,\n  "KnownLeader": false\n}\n'))),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#syntax-reference","aria-label":"syntax reference permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"syntax-reference","aria-hidden":""})),"Syntax Reference"),Object(i.b)("p",null,"Following is a syntax reference for the possible keys that are supported and\ntheir default values if any for each type of object."),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#job","aria-label":"job permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"job","aria-hidden":""})),"Job"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Job")," object supports the following keys:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"allatonce",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#allatonce","aria-label":"allatonce permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"AllAtOnce"))," - Controls whether the scheduler can make partial placements if\noptimistic scheduling resulted in an oversubscribed node. This does not\ncontrol whether all allocations for the job, where all would be the desired\ncount for each task group, must be placed atomically. This should only be\nused for special circumstances. Defaults to ",Object(i.b)("inlineCode",{parentName:"p"},"false"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"constraints",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#constraints","aria-label":"constraints permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Constraints"))," - A list to define additional constraints where a job can be\nrun. See the constraint reference for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"affinities",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#affinities","aria-label":"affinities permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Affinities"))," - A list to define placement preferences on nodes where a job can be\nrun. See the affinity reference for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"spreads",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#spreads","aria-label":"spreads permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Spreads"))," - A list to define allocation spread across attributes. See the spread reference\nfor more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"datacenters",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#datacenters","aria-label":"datacenters permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Datacenters"))," - A list of datacenters in the region which are eligible\nfor task placement. This must be provided, and does not have a default.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"taskgroups",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#taskgroups","aria-label":"taskgroups permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"TaskGroups"))," - A list to define additional task groups. See the task group\nreference for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"meta",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#meta","aria-label":"meta permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Meta"))," - Annotates the job with opaque metadata.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"namespace",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#namespace","aria-label":"namespace permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Namespace")),' - The namespace to execute the job in, defaults to "default".\nValues other than default are not allowed in non-Enterprise versions of Nomad.')),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"parameterizedjob",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#parameterizedjob","aria-label":"parameterizedjob permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"ParameterizedJob"))," - Specifies the job as a parameterized job such that it can\nbe dispatched against. The ",Object(i.b)("inlineCode",{parentName:"p"},"ParameterizedJob")," object supports the following\nattributes:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"metaoptional",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#metaoptional","aria-label":"metaoptional permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"MetaOptional"))," - Specifies the set of metadata keys that may be provided\nwhen dispatching against the job as a string array.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"metarequired",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#metarequired","aria-label":"metarequired permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"MetaRequired"))," - Specifies the set of metadata keys that must be provided\nwhen dispatching against the job as a string array.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"payload",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#payload","aria-label":"payload permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Payload")),' - Specifies the requirement of providing a payload when\ndispatching against the parameterized job. The options for this field are\n"optional", "required" and "forbidden". The default value is "optional".')))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"payload-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#payload-1","aria-label":"payload permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Payload"))," - The payload may not be set when submitting a job but may appear in\na dispatched job. The ",Object(i.b)("inlineCode",{parentName:"p"},"Payload")," will be a base64 encoded string containing the\npayload that the job was dispatched with. The ",Object(i.b)("inlineCode",{parentName:"p"},"payload")," has a ",Object(i.b)("strong",{parentName:"p"},"maximum size\nof 16 KiB"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"priority",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#priority","aria-label":"priority permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Priority"))," - Specifies the job priority which is used to prioritize\nscheduling and access to resources. Must be between 1 and 100 inclusively,\nand defaults to 50.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"region",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#region","aria-label":"region permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Region")),' - The region to run the job in, defaults to "global".')),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"type",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#type","aria-label":"type permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Type"))," - Specifies the job type and switches which scheduler\nis used. Nomad provides the ",Object(i.b)("inlineCode",{parentName:"p"},"service"),", ",Object(i.b)("inlineCode",{parentName:"p"},"system")," and ",Object(i.b)("inlineCode",{parentName:"p"},"batch")," schedulers,\nand defaults to ",Object(i.b)("inlineCode",{parentName:"p"},"service"),". To learn more about each scheduler type visit\n",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/schedulers"}),"here"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"update",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#update","aria-label":"update permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Update"))," - Specifies an update strategy to be applied to all task groups\nwithin the job. When specified both at the job level and the task group level,\nthe update blocks are merged with the task group's taking precedence. For more\ndetails on the update stanza, please see below.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"periodic",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#periodic","aria-label":"periodic permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Periodic"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"Periodic")," allows the job to be scheduled at fixed times, dates\nor intervals. The periodic expression is always evaluated in the UTC\ntimezone to ensure consistent evaluation when Nomad Servers span multiple\ntime zones. The ",Object(i.b)("inlineCode",{parentName:"p"},"Periodic")," object is optional and supports the following attributes:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"enabled",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#enabled","aria-label":"enabled permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Enabled"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"Enabled")," determines whether the periodic job will spawn child\njobs.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"timezone",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#timezone","aria-label":"timezone permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"TimeZone"))," - Specifies the time zone to evaluate the next launch interval\nagainst. This is useful when wanting to account for day light savings in\nvarious time zones. The time zone must be parsable by Golang's\n",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://golang.org/pkg/time/#LoadLocation"}),"LoadLocation"),". The default is\nUTC.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"spectype",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#spectype","aria-label":"spectype permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"SpecType"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"SpecType")," determines how Nomad is going to interpret the\nperiodic expression. ",Object(i.b)("inlineCode",{parentName:"p"},"cron")," is the only supported ",Object(i.b)("inlineCode",{parentName:"p"},"SpecType")," currently.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"spec",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#spec","aria-label":"spec permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Spec")),' - A cron expression configuring the interval the job is launched\nat. Supports predefined expressions such as "@daily" and "@weekly" See\n',Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/gorhill/cronexpr#implementation"}),"here")," for full\ndocumentation of supported cron specs and the predefined expressions.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",{id:"prohibit_overlap"},"`ProhibitOverlap`")," - `ProhibitOverlap` can be set to true to enforce that the periodic job doesn't spawn a new instance of the job if any of the previous jobs are still running. It is defaulted to false.")),Object(i.b)("p",{parentName:"li"},"An example ",Object(i.b)("inlineCode",{parentName:"p"},"periodic")," block:"),Object(i.b)("pre",Object(n.a)({parentName:"li"},{className:"language-json"}),Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Periodic"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Spec"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"*/15 - *"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"TimeZone"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"Europe/Berlin"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"SpecType"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"cron"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Enabled"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ProhibitOverlap"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"reschedulepolicy",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#reschedulepolicy","aria-label":"reschedulepolicy permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"ReschedulePolicy"))," - Specifies a reschedule policy to be applied to all task groups\nwithin the job. When specified both at the job level and the task group level,\nthe reschedule blocks are merged, with the task group's taking precedence. For more\ndetails on ",Object(i.b)("inlineCode",{parentName:"p"},"ReschedulePolicy"),", please see below."))),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#task-group","aria-label":"task group permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"task-group","aria-hidden":""})),"Task Group"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"TaskGroups")," is a list of ",Object(i.b)("inlineCode",{parentName:"p"},"TaskGroup")," objects, each supports the following\nattributes:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"constraints-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#constraints-1","aria-label":"constraints permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Constraints"))," - This is a list of ",Object(i.b)("inlineCode",{parentName:"p"},"Constraint")," objects. See the constraint\nreference for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"affinities-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#affinities-1","aria-label":"affinities permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Affinities"))," - This is a list of ",Object(i.b)("inlineCode",{parentName:"p"},"Affinity")," objects. See the affinity\nreference for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"spreads-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#spreads-1","aria-label":"spreads permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Spreads"))," - This is a list of ",Object(i.b)("inlineCode",{parentName:"p"},"Spread")," objects. See the spread\nreference for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"count",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#count","aria-label":"count permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Count"))," - Specifies the number of the task groups that should\nbe running. Must be non-negative, defaults to one.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"meta-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#meta-1","aria-label":"meta permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Meta"))," - A key-value map that annotates the task group with opaque metadata.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"migrate",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#migrate","aria-label":"migrate permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Migrate"))," - Specifies a migration strategy to be applied during ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/commands/node/drain"}),"node\ndrains"),"."),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"healthcheck",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#healthcheck","aria-label":"healthcheck permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"HealthCheck"))," - One of ",Object(i.b)("inlineCode",{parentName:"p"},"checks")," or ",Object(i.b)("inlineCode",{parentName:"p"},"task_states"),". Indicates how task health\nshould be determined: either via Consul health checks or whether the task\nwas able to run successfully.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"healthydeadline",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#healthydeadline","aria-label":"healthydeadline permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"HealthyDeadline"))," - Specifies duration a task must become healthy within\nbefore it is considered unhealthy.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"maxparallel",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#maxparallel","aria-label":"maxparallel permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"MaxParallel"))," - Specifies how many allocations may be migrated at once.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"minhealthytime",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#minhealthytime","aria-label":"minhealthytime permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"MinHealthyTime"))," - Specifies duration a task must be considered healthy\nbefore the migration is considered healthy.")))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"name",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#name","aria-label":"name permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Name"))," - The name of the task group. Must be specified.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"restartpolicy",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#restartpolicy","aria-label":"restartpolicy permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"RestartPolicy"))," - Specifies the restart policy to be applied to tasks in this group.\nIf omitted, a default policy for batch and non-batch jobs is used based on the\njob type. See the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#restart_policy"}),"restart policy reference")," for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"reschedulepolicy-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#reschedulepolicy-1","aria-label":"reschedulepolicy permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"ReschedulePolicy"))," - Specifies the reschedule policy to be applied to tasks in this group.\nIf omitted, a default policy is used for batch and service jobs. System jobs are not eligible\nfor rescheduling. See the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#reschedule_policy"}),"reschedule policy reference")," for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"scaling",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#scaling","aria-label":"scaling permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Scaling"))," - Specifies the autoscaling policy for the task group. This is primarily for supporting\nexternal autoscalers. See the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#scaling_policy"}),"scaling policy reference")," for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"ephemeraldisk",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#ephemeraldisk","aria-label":"ephemeraldisk permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"EphemeralDisk"))," - Specifies the group's ephemeral disk requirements. See the\n",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#ephemeral_disk"}),"ephemeral disk reference")," for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"update-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#update-1","aria-label":"update permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Update"))," - Specifies an update strategy to be applied to all task groups\nwithin the job. When specified both at the job level and the task group level,\nthe update blocks are merged with the task group's taking precedence. For more\ndetails on the update stanza, please see below.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"tasks",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#tasks","aria-label":"tasks permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Tasks"))," - A list of ",Object(i.b)("inlineCode",{parentName:"p"},"Task")," object that are part of the task group."))),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#task","aria-label":"task permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"task","aria-hidden":""})),"Task"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Task")," object supports the following keys:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"artifacts",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#artifacts","aria-label":"artifacts permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Artifacts"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"Artifacts")," is a list of ",Object(i.b)("inlineCode",{parentName:"p"},"Artifact")," objects which define\nartifacts to be downloaded before the task is run. See the artifacts\nreference for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"config",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#config","aria-label":"config permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Config"))," - A map of key-value configuration passed into the driver\nto start the task. The details of configurations are specific to\neach driver.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"constraints-2",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#constraints-2","aria-label":"constraints permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Constraints"))," - This is a list of ",Object(i.b)("inlineCode",{parentName:"p"},"Constraint")," objects. See the constraint\nreference for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"affinities-2",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#affinities-2","aria-label":"affinities permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Affinities"))," - This is a list of ",Object(i.b)("inlineCode",{parentName:"p"},"Affinity")," objects. See the affinity\nreference for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"spreads-2",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#spreads-2","aria-label":"spreads permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Spreads"))," - This is a list of ",Object(i.b)("inlineCode",{parentName:"p"},"Spread")," objects. See the spread\nreference for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"dispatchpayload",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#dispatchpayload","aria-label":"dispatchpayload permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"DispatchPayload"))," - Configures the task to have access to dispatch payloads.\nThe ",Object(i.b)("inlineCode",{parentName:"p"},"DispatchPayload")," object supports the following attributes:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"file",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#file","aria-label":"file permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"File"))," - Specifies the file name to write the content of dispatch payload\nto. The file is written relative to the task's local directory."))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"driver",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#driver","aria-label":"driver permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Driver"))," - Specifies the task driver that should be used to run the\ntask. See the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/drivers"}),"driver documentation")," for what\nis available. Examples include ",Object(i.b)("inlineCode",{parentName:"p"},"docker"),", ",Object(i.b)("inlineCode",{parentName:"p"},"qemu"),", ",Object(i.b)("inlineCode",{parentName:"p"},"java"),", and ",Object(i.b)("inlineCode",{parentName:"p"},"exec"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"env",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#env","aria-label":"env permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Env"))," - A map of key-value representing environment variables that\nwill be passed along to the running process. Nomad variables are\ninterpreted when set in the environment variable values. See the table of\ninterpreted variables ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/runtime/interpolation"}),"here"),"."),Object(i.b)("p",{parentName:"li"},"For example the below environment map will be reinterpreted:"),Object(i.b)("pre",Object(n.a)({parentName:"li"},{className:"language-json"}),Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Env"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"NODE_CLASS"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"${nomad.class}"'),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"killsignal",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#killsignal","aria-label":"killsignal permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"KillSignal"))," - Specifies a configurable kill signal for a task, where the\ndefault is SIGINT. Note that this is only supported for drivers which accept\nsending signals (currently ",Object(i.b)("inlineCode",{parentName:"p"},"docker"),", ",Object(i.b)("inlineCode",{parentName:"p"},"exec"),", ",Object(i.b)("inlineCode",{parentName:"p"},"raw_exec"),", and ",Object(i.b)("inlineCode",{parentName:"p"},"java")," drivers).")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"killtimeout",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#killtimeout","aria-label":"killtimeout permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"KillTimeout"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"KillTimeout")," is a time duration in nanoseconds. It can be\nused to configure the time between signaling a task it will be killed and\nactually killing it. Drivers first sends a task the ",Object(i.b)("inlineCode",{parentName:"p"},"SIGINT")," signal and then\nsends ",Object(i.b)("inlineCode",{parentName:"p"},"SIGTERM")," if the task doesn't die after the ",Object(i.b)("inlineCode",{parentName:"p"},"KillTimeout")," duration has\nelapsed. The default ",Object(i.b)("inlineCode",{parentName:"p"},"KillTimeout")," is 5 seconds.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"leader",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#leader","aria-label":"leader permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Leader"))," - Specifies whether the task is the leader task of the task group. If\nset to true, when the leader task completes, all other tasks within the task\ngroup will be gracefully shutdown.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"logconfig",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#logconfig","aria-label":"logconfig permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"LogConfig"))," - This allows configuring log rotation for the ",Object(i.b)("inlineCode",{parentName:"p"},"stdout")," and ",Object(i.b)("inlineCode",{parentName:"p"},"stderr"),"\nbuffers of a Task. See the log rotation reference below for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"meta-2",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#meta-2","aria-label":"meta permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Meta"))," - Annotates the task group with opaque metadata.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"name-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#name-1","aria-label":"name permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Name"))," - The name of the task. This field is required.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"resources",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#resources","aria-label":"resources permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Resources"))," - Provides the resource requirements of the task.\nSee the resources reference for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"restartpolicy-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#restartpolicy-1","aria-label":"restartpolicy permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"RestartPolicy"))," - Specifies the task-specific restart policy.\nIf omitted, the restart policy from the encapsulating task group is used. If both\nare present, they are merged. See the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#restart_policy"}),"restart policy reference"),"\nfor more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"services",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#services","aria-label":"services permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Services"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"Services")," is a list of ",Object(i.b)("inlineCode",{parentName:"p"},"Service")," objects. Nomad integrates with\nConsul for service discovery. A ",Object(i.b)("inlineCode",{parentName:"p"},"Service")," object represents a routable and\ndiscoverable service on the network. Nomad automatically registers when a task\nis started and de-registers it when the task transitions to the dead state.\n",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/integrations/consul-integration#service-discovery"}),"Click here")," to learn more about\nservices. Below is the fields in the ",Object(i.b)("inlineCode",{parentName:"p"},"Service")," object:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"name-2",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#name-2","aria-label":"name permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Name")),": An explicit name for the Service. Nomad will replace ",Object(i.b)("inlineCode",{parentName:"p"},"${JOB}"),",\n",Object(i.b)("inlineCode",{parentName:"p"},"${TASKGROUP}")," and ",Object(i.b)("inlineCode",{parentName:"p"},"${TASK}")," by the name of the job, task group or task,\nrespectively. ",Object(i.b)("inlineCode",{parentName:"p"},"${BASE}")," expands to the equivalent of\n",Object(i.b)("inlineCode",{parentName:"p"},"${JOB}-${TASKGROUP}-${TASK}"),", and is the default name for a Service.\nEach service defined for a given task must have a distinct name, so if\na task has multiple services only one of them can use the default name\nand the others must be explicitly named. Names must adhere to\n",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://tools.ietf.org/html/rfc1123#section-2"}),"RFC-1123 \xa72.1")," and are\nlimited to alphanumeric and hyphen characters (i.e. ",Object(i.b)("inlineCode",{parentName:"p"},"[a-z0-9\\-]"),"), and be\nless than 64 characters in length.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"tags",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#tags","aria-label":"tags permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Tags")),": A list of string tags associated with this Service. String\ninterpolation is supported in tags.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"meta-3",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#meta-3","aria-label":"meta permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Meta")),": A key-value map that annotates the Consul service with\nuser-defined metadata. String interpolation is supported in meta.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"canarytags",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#canarytags","aria-label":"canarytags permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"CanaryTags")),": A list of string tags associated with this Service while it\nis a canary. Once the canary is promoted, the registered tags will be\nupdated to the set defined in the ",Object(i.b)("inlineCode",{parentName:"p"},"Tags")," field. String interpolation is\nsupported in tags.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"canarymeta",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#canarymeta","aria-label":"canarymeta permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"CanaryMeta")),": A key-value map that annotates this Service while it\nis a canary. Once the canary is promoted, the registered meta will be\nupdated to the set defined in the ",Object(i.b)("inlineCode",{parentName:"p"},"Meta")," field or removed if the ",Object(i.b)("inlineCode",{parentName:"p"},"Meta"),"\nfield is not set. String interpolation is supported in meta keys and\nvalues.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"portlabel",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#portlabel","aria-label":"portlabel permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"PortLabel")),": ",Object(i.b)("inlineCode",{parentName:"p"},"PortLabel")," is an optional string and is used to associate\na port with the service. If specified, the port label must match one\ndefined in the resources block. This could be a label of either a\ndynamic or a static port.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"addressmode",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#addressmode","aria-label":"addressmode permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"AddressMode")),": Specifies what address (host or driver-specific) this\nservice should advertise. This setting is supported in Docker since\nNomad 0.6 and rkt since Nomad 0.7. Valid options are:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"auto",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#auto","aria-label":"auto permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"auto"))," - Allows the driver to determine whether the host or driver\naddress should be used. Defaults to ",Object(i.b)("inlineCode",{parentName:"p"},"host")," and only implemented by\nDocker. If you use a Docker network plugin such as weave, Docker will\nautomatically use its address.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"driver-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#driver-1","aria-label":"driver permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"driver"))," - Use the IP specified by the driver, and the port specified\nin a port map. A numeric port may be specified since port maps aren't\nrequired by all network plugins. Useful for advertising SDN and\noverlay network addresses. Task will fail if driver network cannot be\ndetermined. Only implemented for Docker and rkt.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"host",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#host","aria-label":"host permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"host"))," - Use the host IP and port.")))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"checks",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#checks","aria-label":"checks permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Checks")),": ",Object(i.b)("inlineCode",{parentName:"p"},"Checks")," is an array of check objects. A check object defines a\nhealth check associated with the service. Nomad supports the ",Object(i.b)("inlineCode",{parentName:"p"},"script"),",\n",Object(i.b)("inlineCode",{parentName:"p"},"http")," and ",Object(i.b)("inlineCode",{parentName:"p"},"tcp")," Consul Checks. Script checks are not supported for the\nqemu driver since the Nomad client doesn't have access to the file system\nof a task using the Qemu driver."),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"type-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#type-1","aria-label":"type permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Type")),": This indicates the check types supported by Nomad. Valid\noptions are currently ",Object(i.b)("inlineCode",{parentName:"p"},"script"),", ",Object(i.b)("inlineCode",{parentName:"p"},"http")," and ",Object(i.b)("inlineCode",{parentName:"p"},"tcp"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"name-3",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#name-3","aria-label":"name permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Name")),": The name of the health check.")))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"addressmode-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#addressmode-1","aria-label":"addressmode permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"AddressMode")),": Same as ",Object(i.b)("inlineCode",{parentName:"p"},"AddressMode")," on ",Object(i.b)("inlineCode",{parentName:"p"},"Service"),". Unlike services,\nchecks do not have an ",Object(i.b)("inlineCode",{parentName:"p"},"auto")," address mode as there's no way for\nNomad to know which is the best address to use for checks. Consul\nneeds access to the address for any HTTP or TCP checks. Added in\nNomad 0.7.1. Unlike ",Object(i.b)("inlineCode",{parentName:"p"},"PortLabel"),", this setting is ",Object(i.b)("em",{parentName:"p"},"not")," inherited\nfrom the ",Object(i.b)("inlineCode",{parentName:"p"},"Service"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"portlabel-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#portlabel-1","aria-label":"portlabel permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"PortLabel")),": Specifies the label of the port on which the check will\nbe performed. Note this is the ",Object(i.b)("em",{parentName:"p"},"label")," of the port and not the port\nnumber unless ",Object(i.b)("inlineCode",{parentName:"p"},'AddressMode: "driver"'),". The port label must match one\ndefined in the Network stanza. If a port value was declared on the\n",Object(i.b)("inlineCode",{parentName:"p"},"Service"),", this will inherit from that value if not supplied. If\nsupplied, this value takes precedence over the ",Object(i.b)("inlineCode",{parentName:"p"},"Service.PortLabel"),"\nvalue. This is useful for services which operate on multiple ports.\n",Object(i.b)("inlineCode",{parentName:"p"},"http")," and ",Object(i.b)("inlineCode",{parentName:"p"},"tcp")," checks require a port while ",Object(i.b)("inlineCode",{parentName:"p"},"script")," checks do not.\nChecks will use the host IP and ports by default. In Nomad 0.7.1 or\nlater numeric ports may be used if ",Object(i.b)("inlineCode",{parentName:"p"},'AddressMode: "driver"')," is set on\nthe check.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"header",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#header","aria-label":"header permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Header")),": Headers for HTTP checks. Should be an object where the values are an\narray of values. Headers will be written once for each value."),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"interval",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#interval","aria-label":"interval permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Interval")),": This indicates the frequency of the health checks that\nConsul will perform.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"timeout",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#timeout","aria-label":"timeout permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Timeout")),": This indicates how long Consul will wait for a health\ncheck query to succeed.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"method",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#method","aria-label":"method permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Method")),": The HTTP method to use for HTTP checks. Defaults to GET.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"path",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#path","aria-label":"path permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Path")),": The path of the HTTP endpoint which Consul will query to query\nthe health of a service if the type of the check is ",Object(i.b)("inlineCode",{parentName:"p"},"http"),". Nomad\nwill add the IP of the service and the port, users are only required\nto add the relative URL of the health check endpoint. Absolute paths\nare not allowed.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"protocol",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#protocol","aria-label":"protocol permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Protocol")),": This indicates the protocol for the HTTP checks. Valid\noptions are ",Object(i.b)("inlineCode",{parentName:"p"},"http")," and ",Object(i.b)("inlineCode",{parentName:"p"},"https"),". We default it to ",Object(i.b)("inlineCode",{parentName:"p"},"http"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"command",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#command","aria-label":"command permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Command")),": This is the command that the Nomad client runs for doing\nscript based health check.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"args",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#args","aria-label":"args permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Args")),": Additional arguments to the ",Object(i.b)("inlineCode",{parentName:"p"},"command")," for script based health\nchecks.")))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"tlsskipverify",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#tlsskipverify","aria-label":"tlsskipverify permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"TLSSkipVerify")),": If true, Consul will not attempt to verify the\ncertificate when performing HTTPS checks. Requires Consul >= 0.7.2."),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"checkrestart",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#checkrestart","aria-label":"checkrestart permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"CheckRestart")),": ",Object(i.b)("inlineCode",{parentName:"p"},"CheckRestart")," is an object which enables\nrestarting of tasks based upon Consul health checks."),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"limit",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#limit","aria-label":"limit permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Limit")),": The number of unhealthy checks allowed before the\nservice is restarted. Defaults to ",Object(i.b)("inlineCode",{parentName:"p"},"0")," which disables health-based restarts.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"grace",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#grace","aria-label":"grace permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Grace")),': The duration to wait after a task starts or restarts\nbefore counting unhealthy checks count against the limit. Defaults to "1s".')),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"ignorewarnings",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#ignorewarnings","aria-label":"ignorewarnings permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"IgnoreWarnings")),": Treat checks that are warning as passing.\nDefaults to false which means warnings are considered unhealthy.")))))))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"shutdowndelay",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#shutdowndelay","aria-label":"shutdowndelay permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"ShutdownDelay"))," - Specifies the duration to wait when killing a task between\nremoving it from Consul and sending it a shutdown signal. Ideally services\nwould fail healthchecks once they receive a shutdown signal. Alternatively\n",Object(i.b)("inlineCode",{parentName:"p"},"ShutdownDelay")," may be set to give in flight requests time to complete before\nshutting down.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"templates",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#templates","aria-label":"templates permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Templates"))," - Specifies the set of ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#template"}),Object(i.b)("inlineCode",{parentName:"a"},"Template"))," objects to render for the task.\nTemplates can be used to inject both static and dynamic configuration with\ndata populated from environment variables, Consul and Vault.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"user",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#user","aria-label":"user permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"User"))," - Set the user that will run the task. It defaults to the same user\nthe Nomad client is being run as. This can only be set on Linux platforms."))),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#resources-1","aria-label":"resources permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"resources-1","aria-hidden":""})),"Resources"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Resources")," object supports the following keys:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"cpu",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#cpu","aria-label":"cpu permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"CPU"))," - The CPU required in MHz.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"memorymb",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#memorymb","aria-label":"memorymb permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"MemoryMB"))," - The memory required in MB.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"networks",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#networks","aria-label":"networks permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Networks"))," - A list of network objects.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"devices",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#devices","aria-label":"devices permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Devices"))," - A list of device objects."))),Object(i.b)("p",null,"The Network object supports the following keys:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"mbits",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#mbits","aria-label":"mbits permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"MBits"))," - The number of MBits in bandwidth required.")),Object(i.b)("p",null,"Nomad can allocate two types of ports to a task - Dynamic and Static/Reserved\nports. A network object allows the user to specify a list of ",Object(i.b)("inlineCode",{parentName:"p"},"DynamicPorts")," and\n",Object(i.b)("inlineCode",{parentName:"p"},"ReservedPorts"),". Each object supports the following attributes:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"value",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#value","aria-label":"value permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Value"))," - The port number for static ports. If the port is dynamic, then this\nattribute is ignored."),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"label",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#label","aria-label":"label permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Label"))," - The label to annotate a port so that it can be referred in the\nservice discovery block or environment variables.")),Object(i.b)("p",null,"The Device object supports the following keys:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"name-4",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#name-4","aria-label":"name permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Name"))," - Specifies the device required. The following inputs are valid:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#","aria-label":" permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"<device_type>")),': If a single value is given, it is assumed to be the device\ntype, such as "gpu", or "fpga".')),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#-1","aria-label":" permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"<vendor>/<device_type>")),": If two values are given separated by a ",Object(i.b)("inlineCode",{parentName:"p"},"/"),', the\ngiven device type will be selected, constraining on the provided vendor.\nExamples include "nvidia/gpu" or "amd/gpu".')),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"-2",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#-2","aria-label":" permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"<vendor>/<device_type>/<model>")),": If three values are given separated by a ",Object(i.b)("inlineCode",{parentName:"p"},"/"),', the\ngiven device type will be selected, constraining on the provided vendor, and\nmodel name. Examples include "nvidia/gpu/1080ti" or "nvidia/gpu/2080ti".'))))),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"count-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#count-1","aria-label":"count permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Count"))," - The count of devices being requested per task. Defaults to 1.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"constraints-3",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#constraints-3","aria-label":"constraints permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Constraints"))," - A list to define constraints on which device can satisfy the\nrequest. See the constraint reference for more details.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"affinities-3",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#affinities-3","aria-label":"affinities permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Affinities"))," - A list to define preferences for which device should be\nchosen. See the affinity reference for more details."))),Object(i.b)("a",{id:"ephemeral_disk"}),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#ephemeral-disk","aria-label":"ephemeral disk permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"ephemeral-disk","aria-hidden":""})),"Ephemeral Disk"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"EphemeralDisk")," object supports the following keys:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"migrate-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#migrate-1","aria-label":"migrate permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Migrate"))," - Specifies that the Nomad client should make a best-effort attempt\nto migrate the data from a remote machine if placement cannot be made on the\noriginal node. During data migration, the task will block starting until the\ndata migration has completed. Value is a boolean and the default is false.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"sizemb",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#sizemb","aria-label":"sizemb permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"SizeMB"))," - Specifies the size of the ephemeral disk in MB. Default is 300.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"sticky",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#sticky","aria-label":"sticky permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Sticky"))," - Specifies that Nomad should make a best-effort attempt to place the\nupdated allocation on the same machine. This will move the ",Object(i.b)("inlineCode",{parentName:"p"},"local/")," and\n",Object(i.b)("inlineCode",{parentName:"p"},"alloc/data")," directories to the new allocation. Value is a boolean and the\ndefault is false."))),Object(i.b)("a",{id:"reschedule_policy"}),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#reschedule-policy","aria-label":"reschedule policy permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"reschedule-policy","aria-hidden":""})),"Reschedule Policy"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"ReschedulePolicy")," object supports the following keys:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"attempts",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#attempts","aria-label":"attempts permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Attempts"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"Attempts")," is the number of reschedule attempts allowed\nin an ",Object(i.b)("inlineCode",{parentName:"p"},"Interval"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"interval-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#interval-1","aria-label":"interval permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Interval"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"Interval")," is a time duration that is specified in nanoseconds.\nThe ",Object(i.b)("inlineCode",{parentName:"p"},"Interval")," is a sliding window within which at most ",Object(i.b)("inlineCode",{parentName:"p"},"Attempts")," number\nof reschedule attempts are permitted.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"delay",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#delay","aria-label":"delay permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Delay"))," - A duration to wait before attempting rescheduling. It is specified in\nnanoseconds.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"delayfunction",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#delayfunction","aria-label":"delayfunction permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"DelayFunction"))," - Specifies the function that is used to calculate subsequent reschedule delays.\nThe initial delay is specified by the ",Object(i.b)("inlineCode",{parentName:"p"},"Delay")," parameter. Allowed values for ",Object(i.b)("inlineCode",{parentName:"p"},"DelayFunction")," are listed below:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"constant",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#constant","aria-label":"constant permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"constant"))," - The delay between reschedule attempts stays at the ",Object(i.b)("inlineCode",{parentName:"li"},"Delay")," value."),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"exponential",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#exponential","aria-label":"exponential permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"exponential"))," - The delay between reschedule attempts doubles."),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"fibonacci",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#fibonacci","aria-label":"fibonacci permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"fibonacci"))," - The delay between reschedule attempts is calculated by adding the two most recent\ndelays applied. For example if ",Object(i.b)("inlineCode",{parentName:"li"},"Delay")," is set to 5 seconds, the next five reschedule attempts will be\ndelayed by 5 seconds, 5 seconds, 10 seconds, 15 seconds, and 25 seconds respectively."))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"maxdelay",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#maxdelay","aria-label":"maxdelay permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"MaxDelay"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"MaxDelay")," is an upper bound on the delay beyond which it will not increase. This parameter is used when\n",Object(i.b)("inlineCode",{parentName:"p"},"DelayFunction")," is ",Object(i.b)("inlineCode",{parentName:"p"},"exponential")," or ",Object(i.b)("inlineCode",{parentName:"p"},"fibonacci"),", and is ignored when ",Object(i.b)("inlineCode",{parentName:"p"},"constant")," delay is used.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"unlimited",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#unlimited","aria-label":"unlimited permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Unlimited"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"Unlimited")," enables unlimited reschedule attempts. If this is set to true\nthe ",Object(i.b)("inlineCode",{parentName:"p"},"Attempts")," and ",Object(i.b)("inlineCode",{parentName:"p"},"Interval")," fields are not used."))),Object(i.b)("a",{id:"restart_policy"}),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#restart-policy","aria-label":"restart policy permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"restart-policy","aria-hidden":""})),"Restart Policy"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"RestartPolicy")," object supports the following keys:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"attempts-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#attempts-1","aria-label":"attempts permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Attempts"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"Attempts")," is the number of restarts allowed in an ",Object(i.b)("inlineCode",{parentName:"p"},"Interval"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"interval-2",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#interval-2","aria-label":"interval permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Interval"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"Interval")," is a time duration that is specified in nanoseconds.\nThe ",Object(i.b)("inlineCode",{parentName:"p"},"Interval")," begins when the first task starts and ensures that only\n",Object(i.b)("inlineCode",{parentName:"p"},"Attempts")," number of restarts happens within it. If more than ",Object(i.b)("inlineCode",{parentName:"p"},"Attempts"),"\nnumber of failures happen, behavior is controlled by ",Object(i.b)("inlineCode",{parentName:"p"},"Mode"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"delay-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#delay-1","aria-label":"delay permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Delay"))," - A duration to wait before restarting a task. It is specified in\nnanoseconds. A random jitter of up to 25% is added to the delay.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"mode",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#mode","aria-label":"mode permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Mode"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"Mode")," is given as a string and controls the behavior when the task\nfails more than ",Object(i.b)("inlineCode",{parentName:"p"},"Attempts")," times in an ",Object(i.b)("inlineCode",{parentName:"p"},"Interval"),". Possible values are listed\nbelow:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"delay-2",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#delay-2","aria-label":"delay permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"delay"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"delay")," will delay the next restart until the next ",Object(i.b)("inlineCode",{parentName:"p"},"Interval")," is\nreached.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"fail",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#fail","aria-label":"fail permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"fail"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"fail")," will not restart the task again."))))),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#update-2","aria-label":"update permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"update-2","aria-hidden":""})),"Update"),Object(i.b)("p",null,"Specifies the task group update strategy. When omitted, rolling updates are\ndisabled. The update stanza can be specified at the job or task group level.\nWhen specified at the job, the update stanza is inherited by all task groups.\nWhen specified in both the job and in a task group, the stanzas are merged with\nthe task group's taking precedence. The ",Object(i.b)("inlineCode",{parentName:"p"},"Update")," object supports the following\nattributes:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"maxparallel-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#maxparallel-1","aria-label":"maxparallel permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"MaxParallel"))," - ",Object(i.b)("inlineCode",{parentName:"p"},"MaxParallel")," is given as an integer value and specifies\nthe number of tasks that can be updated at the same time.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"healthcheck-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#healthcheck-1","aria-label":"healthcheck permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"HealthCheck"))," - Specifies the mechanism in which allocations health is\ndetermined. The potential values are:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("p",{parentName:"li"},'"checks" - Specifies that the allocation should be considered healthy when\nall of its tasks are running and their associated checks are healthy,\nand unhealthy if any of the tasks fail or not all checks become healthy.\nThis is a superset of "task_states" mode.')),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("p",{parentName:"li"},'"task_states" - Specifies that the allocation should be considered healthy\nwhen all its tasks are running and unhealthy if tasks fail.')),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("p",{parentName:"li"},'"manual" - Specifies that Nomad should not automatically determine health\nand that the operator will specify allocation health using the ',Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs/deployments#set-allocation-health-in-deployment"}),"HTTP\nAPI"),".")))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"minhealthytime-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#minhealthytime-1","aria-label":"minhealthytime permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"MinHealthyTime"))," - Specifies the minimum time the allocation must be in the\nhealthy state before it is marked as healthy and unblocks further allocations\nfrom being updated.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"healthydeadline-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#healthydeadline-1","aria-label":"healthydeadline permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"HealthyDeadline"))," - Specifies the deadline in which the allocation must be\nmarked as healthy after which the allocation is automatically transitioned to\nunhealthy.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"progressdeadline",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#progressdeadline","aria-label":"progressdeadline permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"ProgressDeadline"))," - Specifies the deadline in which an allocation must be\nmarked as healthy. The deadline begins when the first allocation for the\ndeployment is created and is reset whenever an allocation as part of the\ndeployment transitions to a healthy state. If no allocation transitions to the\nhealthy state before the progress deadline, the deployment is marked as\nfailed. If the ",Object(i.b)("inlineCode",{parentName:"p"},"progress_deadline")," is set to ",Object(i.b)("inlineCode",{parentName:"p"},"0"),", the first allocation to be\nmarked as unhealthy causes the deployment to fail.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"autorevert",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#autorevert","aria-label":"autorevert permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"AutoRevert"))," - Specifies if the job should auto-revert to the last stable job\non deployment failure. A job is marked as stable if all the allocations as\npart of its deployment were marked healthy.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"canary",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#canary","aria-label":"canary permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Canary"))," - Specifies that changes to the job that would result in destructive\nupdates should create the specified number of canaries without stopping any\nprevious allocations. Once the operator determines the canaries are healthy,\nthey can be promoted which unblocks a rolling update of the remaining\nallocations at a rate of ",Object(i.b)("inlineCode",{parentName:"p"},"max_parallel"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"autopromote",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#autopromote","aria-label":"autopromote permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"AutoPromote"))," - Specifies if the job should automatically promote to\nthe new deployment if all canaries become healthy.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"stagger",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#stagger","aria-label":"stagger permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Stagger"))," - Specifies the delay between migrating allocations off nodes marked\nfor draining."))),Object(i.b)("p",null,"An example ",Object(i.b)("inlineCode",{parentName:"p"},"Update")," block:"),Object(i.b)("pre",{className:"language-json"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Update"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"MaxParallel"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"3"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"HealthCheck"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"checks"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"MinHealthyTime"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"15000000000"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"HealthyDeadline"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"180000000000"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"AutoRevert"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"AutoPromote"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Canary"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"1"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#constraint","aria-label":"constraint permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"constraint","aria-hidden":""})),"Constraint"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Constraint")," object supports the following keys:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"ltarget",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#ltarget","aria-label":"ltarget permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"LTarget"))," - Specifies the attribute to examine for the\nconstraint. See the table of attributes ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/runtime/interpolation#interpreted_node_vars"}),"here"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"rtarget",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#rtarget","aria-label":"rtarget permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"RTarget"))," - Specifies the value to compare the attribute against.\nThis can be a literal value, another attribute or a regular expression if\nthe ",Object(i.b)("inlineCode",{parentName:"p"},"Operator"),' is in "regexp" mode.')),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"operand",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#operand","aria-label":"operand permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Operand"))," - Specifies the test to be performed on the two targets. It takes on the\nfollowing values:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"regexp",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#regexp","aria-label":"regexp permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"regexp"))," - Allows the ",Object(i.b)("inlineCode",{parentName:"p"},"RTarget")," to be a regular expression to be matched.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"set_contains",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#set_contains","aria-label":"set_contains permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"set_contains"))," - Allows the ",Object(i.b)("inlineCode",{parentName:"p"},"RTarget")," to be a comma separated list of values\nthat should be contained in the LTarget's value.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"distinct_hosts",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#distinct_hosts","aria-label":"distinct_hosts permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"distinct_hosts"))," - If set, the scheduler will not co-locate any task groups on the same\nmachine. This can be specified as a job constraint which applies the\nconstraint to all task groups in the job, or as a task group constraint which\nscopes the effect to just that group. The constraint may not be\nspecified at the task level."),Object(i.b)("p",{parentName:"li"},"Placing the constraint at both the job level and at the task group level is\nredundant since when placed at the job level, the constraint will be applied\nto all task groups. When specified, ",Object(i.b)("inlineCode",{parentName:"p"},"LTarget")," and ",Object(i.b)("inlineCode",{parentName:"p"},"RTarget")," should be\nomitted.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"distinct_property",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#distinct_property","aria-label":"distinct_property permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"distinct_property"))," - If set, the scheduler selects nodes that have a\ndistinct value of the specified property. The ",Object(i.b)("inlineCode",{parentName:"p"},"RTarget")," specifies how\nmany allocations are allowed to share the value of a property. The\n",Object(i.b)("inlineCode",{parentName:"p"},"RTarget")," must be 1 or greater and if omitted, defaults to 1. This can\nbe specified as a job constraint which applies the constraint to all\ntask groups in the job, or as a task group constraint which scopes the\neffect to just that group. The constraint may not be specified at the\ntask level."),Object(i.b)("p",{parentName:"li"},"Placing the constraint at both the job level and at the task group level is\nredundant since when placed at the job level, the constraint will be applied\nto all task groups. When specified, ",Object(i.b)("inlineCode",{parentName:"p"},"LTarget")," should be the property\nthat should be distinct and ",Object(i.b)("inlineCode",{parentName:"p"},"RTarget")," should be omitted.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("p",{parentName:"li"},"Comparison Operators - ",Object(i.b)("inlineCode",{parentName:"p"},"="),", ",Object(i.b)("inlineCode",{parentName:"p"},"=="),", ",Object(i.b)("inlineCode",{parentName:"p"},"is"),", ",Object(i.b)("inlineCode",{parentName:"p"},"!="),", ",Object(i.b)("inlineCode",{parentName:"p"},"not"),", ",Object(i.b)("inlineCode",{parentName:"p"},">"),", ",Object(i.b)("inlineCode",{parentName:"p"},">="),", ",Object(i.b)("inlineCode",{parentName:"p"},"<"),", ",Object(i.b)("inlineCode",{parentName:"p"},"<="),". The\nordering is compared lexically."))))),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#affinity","aria-label":"affinity permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"affinity","aria-hidden":""})),"Affinity"),Object(i.b)("p",null,"Affinities allow operators to express placement preferences. More details on how they work\nare described in ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/job-specification/affinity"}),"affinities")),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Affinity")," object supports the following keys:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"ltarget-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#ltarget-1","aria-label":"ltarget permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"LTarget"))," - Specifies the attribute to examine for the\naffinity. See the table of attributes ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/runtime/interpolation#interpreted_node_vars"}),"here"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"rtarget-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#rtarget-1","aria-label":"rtarget permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"RTarget"))," - Specifies the value to compare the attribute against.\nThis can be a literal value, another attribute or a regular expression if\nthe ",Object(i.b)("inlineCode",{parentName:"p"},"Operator"),' is in "regexp" mode.')),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"operand-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#operand-1","aria-label":"operand permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Operand"))," - Specifies the test to be performed on the two targets. It takes on the\nfollowing values:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"regexp-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#regexp-1","aria-label":"regexp permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"regexp"))," - Allows the ",Object(i.b)("inlineCode",{parentName:"p"},"RTarget")," to be a regular expression to be matched.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"set_contains_all",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#set_contains_all","aria-label":"set_contains_all permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"set_contains_all"))," - Allows the ",Object(i.b)("inlineCode",{parentName:"p"},"RTarget")," to be a comma separated list of values\nthat should be contained in the LTarget's value.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"set_contains_any",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#set_contains_any","aria-label":"set_contains_any permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"set_contains_any"))," - Allows the ",Object(i.b)("inlineCode",{parentName:"p"},"RTarget")," to be a comma separated list of values\nany of which should be contained in the LTarget's value.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("p",{parentName:"li"},"Comparison Operators - ",Object(i.b)("inlineCode",{parentName:"p"},"="),", ",Object(i.b)("inlineCode",{parentName:"p"},"=="),", ",Object(i.b)("inlineCode",{parentName:"p"},"is"),", ",Object(i.b)("inlineCode",{parentName:"p"},"!="),", ",Object(i.b)("inlineCode",{parentName:"p"},"not"),", ",Object(i.b)("inlineCode",{parentName:"p"},">"),", ",Object(i.b)("inlineCode",{parentName:"p"},">="),", ",Object(i.b)("inlineCode",{parentName:"p"},"<"),", ",Object(i.b)("inlineCode",{parentName:"p"},"<="),". The\nordering is compared lexically.")))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"weight",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#weight","aria-label":"weight permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Weight"))," - A non zero weight, valid values are from -100 to 100. Used to express\nrelative preference when there is more than one affinity."))),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#log-rotation","aria-label":"log rotation permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"log-rotation","aria-hidden":""})),"Log Rotation"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"LogConfig")," object configures the log rotation policy for a task's ",Object(i.b)("inlineCode",{parentName:"p"},"stdout")," and\n",Object(i.b)("inlineCode",{parentName:"p"},"stderr"),". The ",Object(i.b)("inlineCode",{parentName:"p"},"LogConfig")," object supports the following attributes:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"maxfiles",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#maxfiles","aria-label":"maxfiles permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"MaxFiles"))," - The maximum number of rotated files Nomad will retain for\n",Object(i.b)("inlineCode",{parentName:"p"},"stdout")," and ",Object(i.b)("inlineCode",{parentName:"p"},"stderr"),", each tracked individually.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"maxfilesizemb",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#maxfilesizemb","aria-label":"maxfilesizemb permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"MaxFileSizeMB"))," - The size of each rotated file. The size is specified in\n",Object(i.b)("inlineCode",{parentName:"p"},"MB"),"."))),Object(i.b)("p",null,"If the amount of disk resource requested for the task is less than the total\namount of disk space needed to retain the rotated set of files, Nomad will return\na validation error when a job is submitted."),Object(i.b)("pre",{className:"language-json"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"LogConfig"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"MaxFiles"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"3"),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"MaxFileSizeMB"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"10"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(i.b)("p",null,"In the above example we have asked Nomad to retain 3 rotated files for both\n",Object(i.b)("inlineCode",{parentName:"p"},"stderr")," and ",Object(i.b)("inlineCode",{parentName:"p"},"stdout")," and size of each file is 10 MB. The minimum disk space that\nwould be required for the task would be 60 MB."),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#artifact","aria-label":"artifact permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"artifact","aria-hidden":""})),"Artifact"),Object(i.b)("p",null,"Nomad downloads artifacts using\n",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/hashicorp/go-getter"}),Object(i.b)("inlineCode",{parentName:"a"},"go-getter")),". The ",Object(i.b)("inlineCode",{parentName:"p"},"go-getter")," library\nallows downloading of artifacts from various sources using a URL as the input\nsource. The key-value pairs given in the ",Object(i.b)("inlineCode",{parentName:"p"},"options")," block map directly to\nparameters appended to the supplied ",Object(i.b)("inlineCode",{parentName:"p"},"source")," URL. These are then used by\n",Object(i.b)("inlineCode",{parentName:"p"},"go-getter")," to appropriately download the artifact. ",Object(i.b)("inlineCode",{parentName:"p"},"go-getter")," also has a CLI\ntool to validate its URL and can be used to check if the Nomad ",Object(i.b)("inlineCode",{parentName:"p"},"artifact")," is\nvalid."),Object(i.b)("p",null,"Nomad allows downloading ",Object(i.b)("inlineCode",{parentName:"p"},"http"),", ",Object(i.b)("inlineCode",{parentName:"p"},"https"),", and ",Object(i.b)("inlineCode",{parentName:"p"},"S3")," artifacts. If these artifacts\nare archives (zip, tar.gz, bz2, etc.), these will be unarchived before the task\nis started."),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Artifact")," object supports the following keys:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"gettersource",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#gettersource","aria-label":"gettersource permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"GetterSource"))," - The path to the artifact to download.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"relativedest",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#relativedest","aria-label":"relativedest permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"RelativeDest"))," - An optional path to download the artifact into relative to the\nroot of the task's directory. If omitted, it will default to ",Object(i.b)("inlineCode",{parentName:"p"},"local/"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"getteroptions",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#getteroptions","aria-label":"getteroptions permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"GetterOptions"))," - A ",Object(i.b)("inlineCode",{parentName:"p"},"map[string]string")," block of options for ",Object(i.b)("inlineCode",{parentName:"p"},"go-getter"),".\nFull documentation of supported options are available\n",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/hashicorp/go-getter/tree/ef5edd3d8f6f482b775199be2f3734fd20e04d4a#protocol-specific-options-1"}),"here"),".\nAn example is given below:"))),Object(i.b)("pre",{className:"language-json"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"GetterOptions"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"checksum"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"md5:c4aa853ad2215426eb7d70a21922e794"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"aws_access_key_id"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"<id>"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"aws_access_key_secret"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"<secret>"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"aws_access_token"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"<token>"'),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(i.b)("p",null,"An example of downloading and unzipping an archive is as simple as:"),Object(i.b)("pre",{className:"language-json"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Artifacts"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"GetterSource"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"https://example.com/my.zip"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"GetterOptions"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"checksum"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"md5:7f4b3e3b4dd5150d4e5aaaa5efada4c3"'),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(i.b)("h4",{className:"g-type-display-5"},Object(i.b)("a",Object(n.a)({parentName:"h4"},{className:"__permalink-h",href:"#s3-examples","aria-label":"s3 examples permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h4"},{className:"__target-h",id:"s3-examples","aria-hidden":""})),"S3 examples"),Object(i.b)("p",null,"S3 has several different types of addressing and more detail can be found\n",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html#access-bucket-intro"}),"here")),Object(i.b)("p",null,"S3 region specific endpoints can be found\n",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"http://docs.aws.amazon.com/general/latest/gr/rande.html#s3_region"}),"here")),Object(i.b)("p",null,"Path based style:"),Object(i.b)("pre",{className:"language-json"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Artifacts"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"GetterSource"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"https://my-bucket-example.s3-us-west-2.amazonaws.com/my_app.tar.gz"'),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(i.b)("p",null,"or to override automatic detection in the URL, use the S3-specific syntax"),Object(i.b)("pre",{className:"language-json"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Artifacts"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"GetterSource"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"s3::https://my-bucket-example.s3-eu-west-1.amazonaws.com/my_app.tar.gz"'),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(i.b)("p",null,"Virtual hosted based style"),Object(i.b)("pre",{className:"language-json"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Artifacts"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"GetterSource"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"my-bucket-example.s3-eu-west-1.amazonaws.com/my_app.tar.gz"'),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#template","aria-label":"template permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"template","aria-hidden":""})),"Template"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Template")," block instantiates an instance of a template renderer. This\ncreates a convenient way to ship configuration files that are populated from\nenvironment variables, Consul data, Vault secrets, or just general\nconfigurations within a Nomad task."),Object(i.b)("p",null,"Nomad utilizes a tool called ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/hashicorp/consul-template",title:"Consul Template by HashiCorp"}),"Consul Template"),". Since Nomad v0.5.3, the\ntemplate can reference ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/runtime/environment",title:"Nomad Runtime Environment"}),"Nomad's runtime environment variables"),". For a full\nlist of the API template functions, please refer to the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/hashicorp/consul-template",title:"Consul Template by HashiCorp"}),"Consul Template\nREADME"),"."),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"Template")," object supports following attributes:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"changemode",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#changemode","aria-label":"changemode permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"ChangeMode"))," - Specifies the behavior Nomad should take if the rendered\ntemplate changes. The default value is ",Object(i.b)("inlineCode",{parentName:"p"},'"restart"'),". The possible values are:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"noop",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#noop","aria-label":"noop permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},'"noop"'))," - take no action (continue running the task)"),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"restart",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#restart","aria-label":"restart permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},'"restart"'))," - restart the task"),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"signal",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#signal","aria-label":"signal permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},'"signal"'))," - send a configurable signal to the task"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"changesignal",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#changesignal","aria-label":"changesignal permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"ChangeSignal")),' - Specifies the signal to send to the task as a string like\n"SIGUSR1" or "SIGINT". This option is required if the ',Object(i.b)("inlineCode",{parentName:"p"},"ChangeMode")," is\n",Object(i.b)("inlineCode",{parentName:"p"},"signal"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"destpath",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#destpath","aria-label":"destpath permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"DestPath"))," - Specifies the location where the resulting template should be\nrendered, relative to the task directory.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"embeddedtmpl",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#embeddedtmpl","aria-label":"embeddedtmpl permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"EmbeddedTmpl"))," - Specifies the raw template to execute. One of ",Object(i.b)("inlineCode",{parentName:"p"},"SourcePath"),"\nor ",Object(i.b)("inlineCode",{parentName:"p"},"EmbeddedTmpl")," must be specified, but not both. This is useful for smaller\ntemplates, but we recommend using ",Object(i.b)("inlineCode",{parentName:"p"},"SourcePath")," for larger templates.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"envvars",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#envvars","aria-label":"envvars permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Envvars"))," - Specifies the template should be read back as environment\nvariables for the task.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"leftdelim",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#leftdelim","aria-label":"leftdelim permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"LeftDelim")),' - Specifies the left delimiter to use in the template. The default\nis "{{" for some templates, it may be easier to use a different delimiter that\ndoes not conflict with the output file itself.')),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"perms",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#perms","aria-label":"perms permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Perms"))," - Specifies the rendered template's permissions. File permissions are\ngiven as octal of the Unix file permissions ",Object(i.b)("inlineCode",{parentName:"p"},"rwxrwxrwx"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"rightdelim",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#rightdelim","aria-label":"rightdelim permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"RightDelim")),' - Specifies the right delimiter to use in the template. The default\nis "}}" for some templates, it may be easier to use a different delimiter that\ndoes not conflict with the output file itself.')),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"sourcepath",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#sourcepath","aria-label":"sourcepath permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"SourcePath"))," - Specifies the path to the template to be rendered. ",Object(i.b)("inlineCode",{parentName:"p"},"SourcePath"),"\nis mutually exclusive with ",Object(i.b)("inlineCode",{parentName:"p"},"EmbeddedTmpl")," attribute. The source can be fetched\nusing an ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#artifact"}),Object(i.b)("inlineCode",{parentName:"a"},"Artifact"))," resource. The template must exist on the\nmachine prior to starting the task; it is not possible to reference a template\ninside of a Docker container, for example.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"splay",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#splay","aria-label":"splay permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Splay"))," - Specifies a random amount of time to wait between 0 ms and the given\nsplay value before invoking the change mode. Should be specified in\nnanoseconds.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"vaultgrace",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#vaultgrace","aria-label":"vaultgrace permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"VaultGrace"))," - ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/hashicorp/consul-template/issues/1268"}),"Deprecated")))),Object(i.b)("pre",{className:"language-json"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Templates"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"SourcePath"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"local/config.conf.tpl"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"DestPath"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"local/config.conf"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"EmbeddedTmpl"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'""'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ChangeMode"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"signal"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ChangeSignal"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"SIGUSR1"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Splay"'),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"5000000000"),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#spread","aria-label":"spread permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"spread","aria-hidden":""})),"Spread"),Object(i.b)("p",null,"Spread allow operators to target specific percentages of allocations based on\nany node attribute or metadata. More details on how they work are described\nin ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/job-specification/spread"}),"spread"),"."),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Spread")," object supports the following keys:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"attribute",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#attribute","aria-label":"attribute permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Attribute"))," - Specifies the attribute to examine for the\nspread. See the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/runtime/interpolation#interpreted_node_vars"}),"table of attributes")," for examples.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"spreadtarget",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#spreadtarget","aria-label":"spreadtarget permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"SpreadTarget"))," - Specifies a list of attribute values and percentages. This is an optional field, when\nleft empty Nomad will evenly spread allocations across values of the attribute."),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"value-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#value-1","aria-label":"value permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Value")),' - The value of a specific target attribute, like "dc1" for ',Object(i.b)("inlineCode",{parentName:"li"},"${node.datacenter}"),"."),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"percent",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#percent","aria-label":"percent permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Percent"))," - Desired percentage of allocations for this attribute value. The sum of\nall spread target percentages must add up to 100."))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"weight-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#weight-1","aria-label":"weight permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Weight"))," - A non zero weight, valid values are from -100 to 100. Used to express\nrelative preference when there is more than one spread or affinity."))),Object(i.b)("a",{id:"scaling_policy"}),Object(i.b)("h3",{className:"g-type-display-4"},Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#scaling-1","aria-label":"scaling permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"scaling-1","aria-hidden":""})),"Scaling"),Object(i.b)("p",null,"Scaling policies allow operators to attach autoscaling configuration to a task group. This information\ncan be queried by ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/hashicorp/nomad-autoscaler"}),"external autoscalers"),"."),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Scaling")," object supports the following keys:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"min",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#min","aria-label":"min permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Min"))," - The minimum allowable count for the task group. This is optional; if absent, the default\nis the ",Object(i.b)("inlineCode",{parentName:"p"},"Count")," specified in the task group. Attempts to set the task group ",Object(i.b)("inlineCode",{parentName:"p"},"Count")," below ",Object(i.b)("inlineCode",{parentName:"p"},"Min")," will\nresult in a 400 error during job registration.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"max",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#max","aria-label":"max permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Max"))," - The maximum allowable count for the task group. This is required if a scaling policy is provided.\nThis must be larger than ",Object(i.b)("inlineCode",{parentName:"p"},"Min"),". Attempts to set the task group ",Object(i.b)("inlineCode",{parentName:"p"},"Count")," above ",Object(i.b)("inlineCode",{parentName:"p"},"Max")," wil result in a 400\nerror during job registration.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"enabled-1",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#enabled-1","aria-label":"enabled permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Enabled"))," - An optional boolean (default: ",Object(i.b)("inlineCode",{parentName:"p"},"true"),"). This indicates to the autoscaler that this\nscaling policy should be ignored. It is intended to allow autoscaling to be temporarily disabled\nfor a task group.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"policy",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#policy","aria-label":"policy permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"Policy"))," - An optional JSON block. This is opaque to Nomad; see the documentation for the external\nautoscaler (e.g., ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/hashicorp/nomad-autoscaler"}),"nomad-autoscaler"),")."))))}o.isMDXComponent=!0}}]);