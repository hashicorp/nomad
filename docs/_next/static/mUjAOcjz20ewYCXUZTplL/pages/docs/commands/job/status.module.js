(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{"8Tgb":function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/commands/job/status",function(){return t("9889")}])},9889:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return m}));var n=t("wx14"),s=t("Ff2n"),c=t("q1tI"),i=t.n(c),l=t("7ljp"),r=t("j1un"),b=(i.a.createElement,{}),o=Object(r.a)({layout:"docs",page_title:"Commands: job status",sidebar_title:"status",description:"Display information and status of jobs.\n",__resourcePath:"docs/commands/job/status.mdx",__scans:{}});function m(e){var{components:a}=e,t=Object(s.a)(e,["components"]);return Object(l.b)(o,Object(n.a)({},b,t,{components:a,mdxType:"MDXLayout"}),Object(l.b)("h1",{className:"g-type-display-2"},Object(l.b)("a",Object(n.a)({parentName:"h1"},{className:"__permalink-h",href:"#command-job-status","aria-label":"command job status permalink"}),"\xbb"),Object(l.b)("a",Object(n.a)({parentName:"h1"},{className:"__target-h",id:"command-job-status","aria-hidden":""})),"Command: job status"),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"job status")," command displays status information for a job."),Object(l.b)("h2",{className:"g-type-display-3"},Object(l.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#usage","aria-label":"usage permalink"}),"\xbb"),Object(l.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"usage","aria-hidden":""})),"Usage"),Object(l.b)("pre",{className:"language-plaintext"},Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-plaintext"}),"nomad job status [options] [job]\n")),Object(l.b)("p",null,"This command accepts an optional job ID or prefix as the sole argument. If there\nis an exact match based on the provided job ID or prefix, then information about\nthe specific job is queried and displayed. Otherwise, a list of matching jobs\nand information will be displayed."),Object(l.b)("p",null,"If the ID is omitted, the command lists out all of the existing jobs and a few\nof the most useful status fields for each. As of Nomad 0.7.1, alloc status also\nshows allocation modification time in addition to create time. When the\n",Object(l.b)("inlineCode",{parentName:"p"},"-verbose")," flag is not set, allocation creation and modify times are shown in a\nshortened relative time format like ",Object(l.b)("inlineCode",{parentName:"p"},"5m ago"),"."),Object(l.b)("h2",{className:"g-type-display-3"},Object(l.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#general-options","aria-label":"general options permalink"}),"\xbb"),Object(l.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"general-options","aria-hidden":""})),"General Options"),Object(l.b)("ul",null,Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"address",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#address","aria-label":"address permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-address=<addr>")),": The address of the Nomad server. Overrides the ",Object(l.b)("inlineCode",{parentName:"p"},"NOMAD_ADDR"),"\nenvironment variable if set. Defaults to ",Object(l.b)("inlineCode",{parentName:"p"},"http://127.0.0.1:4646"),".")),Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"region",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#region","aria-label":"region permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-region=<region>")),": The region of the Nomad server to forward commands to.\nOverrides the ",Object(l.b)("inlineCode",{parentName:"p"},"NOMAD_REGION")," environment variable if set. Defaults to the\nAgent's local region.")),Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"namespace",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#namespace","aria-label":"namespace permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-namespace=<namespace>")),": The target namespace for queries and actions bound\nto a namespace. Overrides the NOMAD_NAMESPACE environment variable if set.\nIf set to '*', job and alloc subcommands query all namespacecs authorized to\nuser. Defaults to the \"default\" namespace.")),Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"no-color",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#no-color","aria-label":"no color permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-no-color")),": Disables colored command output. Alternatively,\n",Object(l.b)("inlineCode",{parentName:"p"},"NOMAD_CLI_NO_COLOR")," may be set.")),Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"ca-cert",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#ca-cert","aria-label":"ca cert permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-ca-cert=<path>")),": Path to a PEM encoded CA cert file to use to verify the\nNomad server SSL certificate. Overrides the ",Object(l.b)("inlineCode",{parentName:"p"},"NOMAD_CACERT")," environment\nvariable if set.")),Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"ca-path",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#ca-path","aria-label":"ca path permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-ca-path=<path>")),": Path to a directory of PEM encoded CA cert files to verify\nthe Nomad server SSL certificate. If both ",Object(l.b)("inlineCode",{parentName:"p"},"-ca-cert")," and ",Object(l.b)("inlineCode",{parentName:"p"},"-ca-path")," are\nspecified, ",Object(l.b)("inlineCode",{parentName:"p"},"-ca-cert")," is used. Overrides the ",Object(l.b)("inlineCode",{parentName:"p"},"NOMAD_CAPATH")," environment\nvariable if set.")),Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"client-cert",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#client-cert","aria-label":"client cert permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-client-cert=<path>")),": Path to a PEM encoded client certificate for TLS\nauthentication to the Nomad server. Must also specify ",Object(l.b)("inlineCode",{parentName:"p"},"-client-key"),". Overrides\nthe ",Object(l.b)("inlineCode",{parentName:"p"},"NOMAD_CLIENT_CERT")," environment variable if set.")),Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"client-key",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#client-key","aria-label":"client key permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-client-key=<path>")),": Path to an unencrypted PEM encoded private key matching\nthe client certificate from ",Object(l.b)("inlineCode",{parentName:"p"},"-client-cert"),". Overrides the ",Object(l.b)("inlineCode",{parentName:"p"},"NOMAD_CLIENT_KEY"),"\nenvironment variable if set.")),Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"tls-server-name",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#tls-server-name","aria-label":"tls server name permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-tls-server-name=<value>")),": The server name to use as the SNI host when connecting\nvia TLS. Overrides the ",Object(l.b)("inlineCode",{parentName:"p"},"NOMAD_TLS_SERVER_NAME")," environment variable if set.")),Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"tls-skip-verify",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#tls-skip-verify","aria-label":"tls skip verify permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-tls-skip-verify")),": Do not verify TLS certificate. This is highly not\nrecommended. Verification will also be skipped if ",Object(l.b)("inlineCode",{parentName:"p"},"NOMAD_SKIP_VERIFY")," is set.")),Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"token",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#token","aria-label":"token permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-token")),": The SecretID of an ACL token to use to authenticate API requests with.\nOverrides the ",Object(l.b)("inlineCode",{parentName:"p"},"NOMAD_TOKEN")," environment variable if set."))),Object(l.b)("h2",{className:"g-type-display-3"},Object(l.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#status-options","aria-label":"status options permalink"}),"\xbb"),Object(l.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"status-options","aria-hidden":""})),"Status Options"),Object(l.b)("ul",null,Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"all-allocs",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#all-allocs","aria-label":"all allocs permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-all-allocs")),": Display all allocations matching the job ID, even those from an\nolder instance of the job.")),Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"evals",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#evals","aria-label":"evals permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-evals")),": Display the evaluations associated with the job.")),Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"short",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#short","aria-label":"short permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-short")),": Display short output. Used only when a single node is being queried.\nDrops verbose node allocation data from the output.")),Object(l.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(l.b)("a",Object(n.a)({parentName:"li"},{id:"verbose",className:"__target-lic","aria-hidden":""})),Object(l.b)("p",{parentName:"li"},Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#verbose","aria-label":"verbose permalink",className:"__permalink-lic"}),Object(l.b)("inlineCode",{parentName:"a"},"-verbose")),": Show full information. Allocation create and modify times are\nshown in ",Object(l.b)("inlineCode",{parentName:"p"},"yyyy/mm/dd hh:mm:ss")," format."))),Object(l.b)("h2",{className:"g-type-display-3"},Object(l.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#examples","aria-label":"examples permalink"}),"\xbb"),Object(l.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"examples","aria-hidden":""})),"Examples"),Object(l.b)("p",null,"List of all jobs:"),Object(l.b)("pre",{className:"language-shell-session"},Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad job status")),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"ID       Type     Priority  Status          Submit Date\njob1     service  80        running         07/25/17 15:47:11 UTC\njob2     batch    40        complete        07/24/17 19:22:11 UTC\njob3     service  50        dead (stopped)  07/22/17 16:34:48 UTC\n"))),Object(l.b)("p",null,"Short view of a specific job:"),Object(l.b)("pre",{className:"language-shell-session"},Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad job status -short job1")),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"ID            = job1\nName          = Test Job\nSubmit Date   = 07/25/17 15:47:11 UTC\nType          = service\nPriority      = 3\nDatacenters   = dc1,dc2,dc3\nStatus        = pending\nPeriodic      = false\nParameterized = false\n"))),Object(l.b)("p",null,"Full status information of a job:"),Object(l.b)("pre",{className:"language-shell-session"},Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad job status example")),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"ID            = example\nName          = example\nSubmit Date   = 07/25/17 15:53:04 UTC\nType          = service\nPriority      = 50\nDatacenters   = dc1\nStatus        = running\nPeriodic      = false\nParameterized = false\n\nSummary\nTask Group  Queued  Starting  Running  Failed  Complete  Lost\ncache       0       0         1        0       0         0\n\nLatest Deployment\nID          = 6294be0c\nStatus      = successful\nDescription = Deployment completed successfully\n\nDeployed\nTask Group  Desired  Placed  Healthy  Unhealthy\ncache       1        1       1        0\n\nAllocations\nID        Node ID   Task Group  Version  Desired  Status   Created   Modified\n478ce836  5ed166e8  cache       0        run      running  5m ago    5m ago\n"))),Object(l.b)("p",null,"Full status information of a periodic job:"),Object(l.b)("pre",{className:"language-shell-session"},Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad job status example")),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"ID                   = example\nName                 = example\nSubmit Date          = 07/25/17 15:59:52 UTC\nType                 = batch\nPriority             = 50\nDatacenters          = dc1\nStatus               = running\nPeriodic             = true\nParameterized        = false\nNext Periodic Launch = 07/25/17 16:00:30 UTC (5s from now)\n\nChildren Job Summary\nPending  Running  Dead\n0        3        0\n\nPreviously Launched Jobs\nID                           Status\nexample/periodic-1500998400  running\nexample/periodic-1500998410  running\nexample/periodic-1500998420  running\n"))),Object(l.b)("p",null,"Full status information of a parameterized job:"),Object(l.b)("pre",{className:"language-shell-session"},Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad job status example")),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"ID            = example\nName          = example\nSubmit Date   = 07/25/17 15:59:52 UTC\nType          = batch\nPriority      = 50\nDatacenters   = dc1\nStatus        = running\nPeriodic      = false\nParameterized = true\n\nParameterized Job\nPayload           = required\nRequired Metadata = foo\nOptional Metadata = bar\n\nParameterized Job Summary\nPending  Running  Dead\n0        2        0\n\nDispatched Jobs\nID                                    Status\nexample/dispatch-1485411496-58f24d2d  running\nexample/dispatch-1485411499-fa2ee40e  running\n"))),Object(l.b)("p",null,"Full status information of a job with placement failures:"),Object(l.b)("pre",{className:"language-shell-session"},Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad job status example")),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),'ID            = example\nName          = example\nSubmit Date   = 07/25/17 15:55:27 UTC\nType          = service\nPriority      = 50\nDatacenters   = dc1\nStatus        = running\nPeriodic      = false\nParameterized = false\n\nSummary\nTask Group  Queued  Starting  Running  Failed  Complete  Lost\ncache       1       0         4        0       0         0\n\nPlacement Failure\nTask Group "cache":\n  * Resources exhausted on 1 nodes\n  * Dimension "cpu" exhausted on 1 nodes\n\nLatest Deployment\nID          = bb4b2fb1\nStatus      = running\nDescription = Deployment is running\n\nDeployed\nTask Group  Desired  Placed  Healthy  Unhealthy\ncache       5        4       4        0\n\nAllocations\nID        Node ID   Task Group  Version  Desired  Status   Created   Modified\n048c1e9e  3f38ecb4  cache       0        run      running  5m ago    5m ago\n250f9dec  3f38ecb4  cache       0        run      running  5m ago    5m ago\n2eb772a1  3f38ecb4  cache       0        run      running  5m ago    5m ago\na17b7d3d  3f38ecb4  cache       0        run      running  5m ago    5m ago\n'))),Object(l.b)("p",null,"Full status information showing evaluations with a placement failure. The in\nprogress evaluation denotes that Nomad is blocked waiting for resources to\nbecome available so that it can place the remaining allocations."),Object(l.b)("pre",{className:"language-shell-session"},Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(l.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad job status -evals example")),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),'ID            = example\nName          = example\nSubmit Date   = 07/25/17 15:55:27 UTC\nType          = service\nPriority      = 50\nDatacenters   = dc1\nStatus        = running\nPeriodic      = false\nParameterized = false\n\nSummary\nTask Group  Queued  Starting  Running  Failed  Complete  Lost\ncache       1       0         4        0       0         0\n\nEvaluations\nID        Priority  Triggered By        Status    Placement Failures\ne44a39e8  50        deployment-watcher  canceled  false\n97018573  50        deployment-watcher  complete  true\nd5a7300c  50        deployment-watcher  canceled  false\nf05a4495  50        deployment-watcher  complete  true\ne3f3bdb4  50        deployment-watcher  canceled  false\nb5f08700  50        deployment-watcher  complete  true\n73bb867a  50        job-register        blocked   N/A - In Progress\n85052989  50        job-register        complete  true\n\nPlacement Failure\nTask Group "cache":\n  * Resources exhausted on 1 nodes\n  * Dimension "cpu exhausted" exhausted on 1 nodes\n\nLatest Deployment\nID          = bb4b2fb1\nStatus      = running\nDescription = Deployment is running\n\nDeployed\nTask Group  Desired  Placed  Healthy  Unhealthy\ncache       5        4       4        0\n\nAllocations\nID        Node ID   Task Group  Version  Desired  Status   Created                    Modified\n048c1e9e  3f38ecb4  cache       0        run      running  07/25/17 15:55:27 UTC      07/25/17 15:55:27 UTC\n250f9dec  3f38ecb4  cache       0        run      running  07/25/17 15:55:27 UTC      07/25/17 15:55:27 UTC\n2eb772a1  3f38ecb4  cache       0        run      running  07/25/17 15:55:27 UTC      07/25/17 15:55:27 UTC\na17b7d3d  3f38ecb4  cache       0        run      running  07/25/17 15:55:27 UTC      07/25/17 15:55:27 UTC\n'))))}m.isMDXComponent=!0}},[["8Tgb",0,1,2,4,3,5,6]]]);