(window.webpackJsonp=window.webpackJsonp||[]).push([[246],{"D+uu":function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return j}));var c,n=t("wx14"),s=t("Ff2n"),b=t("q1tI"),r=t.n(b),p=t("7ljp"),o=t("j1un"),m=(r.a.createElement,c="Placement",function(e){return console.warn("Component "+c+" was not imported, exported, or provided by MDXProvider as global scope"),Object(p.b)("div",e)}),i={},l=Object(o.a)({layout:"docs",page_title:"resources Stanza - Job Specification",sidebar_title:"resources",description:'The "resources" stanza describes the requirements a task needs to execute.\nResource requirements include memory, cpu, and more.',__resourcePath:"docs/job-specification/resources.mdx",__scans:{}});function j(e){var{components:a}=e,t=Object(s.a)(e,["components"]);return Object(p.b)(l,Object(n.a)({},i,t,{components:a,mdxType:"MDXLayout"}),Object(p.b)("h1",{className:"g-type-display-2"},Object(p.b)("a",Object(n.a)({parentName:"h1"},{className:"__permalink-h",href:"#resources-stanza","aria-label":"resources stanza permalink"}),"\xbb"),Object(p.b)("a",Object(n.a)({parentName:"h1"},{className:"__target-h",id:"resources-stanza","aria-hidden":""})),Object(p.b)("inlineCode",{parentName:"h1"},"resources")," Stanza"),Object(p.b)(m,{groups:["job","group","task","resources"],mdxType:"Placement"}),Object(p.b)("p",null,"The ",Object(p.b)("inlineCode",{parentName:"p"},"resources")," stanza describes the requirements a task needs to execute.\nResource requirements include memory, CPU, and more."),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),"job ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"docs"')," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  group ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"example"')," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    task ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"server"')," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"resources")," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"cpu"),"    ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"100"),"\n        ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"memory")," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"256"),"\n\n        device ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"nvidia/gpu"')," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n          ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"count")," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"2"),"\n        ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n      ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("h2",{className:"g-type-display-3"},Object(p.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#resources-parameters","aria-label":"resources parameters permalink"}),"\xbb"),Object(p.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"resources-parameters","aria-hidden":""})),Object(p.b)("inlineCode",{parentName:"h2"},"resources")," Parameters"),Object(p.b)("ul",null,Object(p.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(p.b)("a",Object(n.a)({parentName:"li"},{id:"cpu",className:"__target-lic","aria-hidden":""})),Object(p.b)("p",{parentName:"li"},Object(p.b)("a",Object(n.a)({parentName:"p"},{href:"#cpu","aria-label":"cpu permalink",className:"__permalink-lic"}),Object(p.b)("inlineCode",{parentName:"a"},"cpu"))," ",Object(p.b)("inlineCode",{parentName:"p"},"(int: 100)")," - Specifies the CPU required to run this task in MHz.")),Object(p.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(p.b)("a",Object(n.a)({parentName:"li"},{id:"memory",className:"__target-lic","aria-hidden":""})),Object(p.b)("p",{parentName:"li"},Object(p.b)("a",Object(n.a)({parentName:"p"},{href:"#memory","aria-label":"memory permalink",className:"__permalink-lic"}),Object(p.b)("inlineCode",{parentName:"a"},"memory"))," ",Object(p.b)("inlineCode",{parentName:"p"},"(int: 300)")," - Specifies the memory required in MB")),Object(p.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(p.b)("a",Object(n.a)({parentName:"li"},{id:"device",className:"__target-lic","aria-hidden":""})),Object(p.b)("p",{parentName:"li"},Object(p.b)("a",Object(n.a)({parentName:"p"},{href:"#device","aria-label":"device permalink",className:"__permalink-lic"}),Object(p.b)("inlineCode",{parentName:"a"},"device"))," ",Object(p.b)("code",null,"(",Object(p.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/job-specification/device",title:"Nomad device Job Specification"}),"Device"),": ","<","optional",">",")")," - Specifies the device\nrequirements. This may be repeated to request multiple device types."))),Object(p.b)("h2",{className:"g-type-display-3"},Object(p.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#resources-examples","aria-label":"resources examples permalink"}),"\xbb"),Object(p.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"resources-examples","aria-hidden":""})),Object(p.b)("inlineCode",{parentName:"h2"},"resources")," Examples"),Object(p.b)("p",null,"The following examples only show the ",Object(p.b)("inlineCode",{parentName:"p"},"resources")," stanzas. Remember that the\n",Object(p.b)("inlineCode",{parentName:"p"},"resources")," stanza is only valid in the placements listed above."),Object(p.b)("h3",{className:"g-type-display-4"},Object(p.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#memory-1","aria-label":"memory permalink"}),"\xbb"),Object(p.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"memory-1","aria-hidden":""})),"Memory"),Object(p.b)("p",null,"This example specifies the task requires 2 GB of RAM to operate. 2 GB is the\nequivalent of 2000 MB:"),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"resources")," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"memory")," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"2000"),"\n",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("h3",{className:"g-type-display-4"},Object(p.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#devices","aria-label":"devices permalink"}),"\xbb"),Object(p.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"devices","aria-hidden":""})),"Devices"),Object(p.b)("p",null,"This example shows a device constraints as specified in the ",Object(p.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/job-specification/device",title:"Nomad device Job Specification"}),"device")," stanza\nwhich require two nvidia GPUs to be made available:"),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"resources")," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  device ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"nvidia/gpu"')," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"count")," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"2"),"\n  ",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(p.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")))}j.isMDXComponent=!0},cwI6:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/job-specification/resources",function(){return t("D+uu")}])}},[["cwI6",0,1,2,4,3,5,6]]]);