{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
~}}
<Breadcrumb @crumb={{hash label=this.activeToken.name args=(array "access-control.tokens.token" this.activeToken.id)}} />
{{page-title "Token"}}
<section class="section">
	<h1 class="title with-flex" data-test-title>
		<div>
			Edit Token
		</div>
		{{#if (can "destroy token")}}
      <TwoStepButton
          data-test-delete-token
          @alignRight={{true}}
          @idleText="Delete Token"
          @cancelText="Cancel"
          @confirmText="Yes, Delete Token"
          @confirmationMessage="Are you sure?"
          @awaitingConfirmation={{this.deleteToken.isRunning}}
          @disabled={{this.deleteToken.isRunning}}
          @onConfirm={{perform this.deleteToken}}
        />
		{{/if}}
	</h1>
  <TokenEditor
    @token={{this.activeToken}}
    @policies={{this.policies}}
    @roles={{this.roles}}
  />
</section>
