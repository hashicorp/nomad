(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{K4xy:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/commands/volume/status",function(){return t("Nujx")}])},Nujx:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return o}));var n=t("wx14"),s=t("Ff2n"),c=t("q1tI"),l=t.n(c),i=t("7ljp"),r=t("j1un"),b=(l.a.createElement,{}),p=Object(r.a)({layout:"docs",page_title:"Commands: volume status",sidebar_title:"status",description:"Display information and status of volumes.\n",__resourcePath:"docs/commands/volume/status.mdx",__scans:{}});function o(e){var a=e.components,t=Object(s.a)(e,["components"]);return Object(i.b)(p,Object(n.a)({},b,t,{components:a,mdxType:"MDXLayout"}),Object(i.b)("h1",{className:"g-type-display-2"},Object(i.b)("a",Object(n.a)({parentName:"h1"},{className:"__permalink-h",href:"#command-volume-status","aria-label":"command volume status permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h1"},{className:"__target-h",id:"command-volume-status","aria-hidden":""})),"Command: volume status"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"volume status")," command displays status information for ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/container-storage-interface/spec"}),"Container\nStorage Interface (CSI)")," volumes."),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#usage","aria-label":"usage permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"usage","aria-hidden":""})),"Usage"),Object(i.b)("pre",{className:"language-plaintext"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-plaintext"}),"nomad volume status [options] [volume]\n")),Object(i.b)("p",null,"This command accepts an optional volume ID or prefix as the sole argument. If there\nis an exact match based on the provided volume ID or prefix, then information about\nthe specific volume is queried and displayed. Otherwise, a list of matching volumes\nand information will be displayed."),Object(i.b)("p",null,"If the ID is omitted, the command lists out all of the existing volumes and a few\nof the most useful status fields for each."),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#general-options","aria-label":"general options permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"general-options","aria-hidden":""})),"General Options"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"address",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#address","aria-label":"address permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-address=<addr>")),": The address of the Nomad server. Overrides the ",Object(i.b)("inlineCode",{parentName:"p"},"NOMAD_ADDR"),"\nenvironment variable if set. Defaults to ",Object(i.b)("inlineCode",{parentName:"p"},"http://127.0.0.1:4646"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"region",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#region","aria-label":"region permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-region=<region>")),": The region of the Nomad server to forward commands to.\nOverrides the ",Object(i.b)("inlineCode",{parentName:"p"},"NOMAD_REGION")," environment variable if set. Defaults to the\nAgent's local region.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"namespace",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#namespace","aria-label":"namespace permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-namespace=<namespace>")),": The target namespace for queries and actions bound\nto a namespace. Overrides the NOMAD_NAMESPACE environment variable if set.\nIf set to '*', job and alloc subcommands query all namespacecs authorized to\nuser. Defaults to the \"default\" namespace.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"no-color",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#no-color","aria-label":"no color permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-no-color")),": Disables colored command output. Alternatively,\n",Object(i.b)("inlineCode",{parentName:"p"},"NOMAD_CLI_NO_COLOR")," may be set.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"ca-cert",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#ca-cert","aria-label":"ca cert permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-ca-cert=<path>")),": Path to a PEM encoded CA cert file to use to verify the\nNomad server SSL certificate. Overrides the ",Object(i.b)("inlineCode",{parentName:"p"},"NOMAD_CACERT")," environment\nvariable if set.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"ca-path",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#ca-path","aria-label":"ca path permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-ca-path=<path>")),": Path to a directory of PEM encoded CA cert files to verify\nthe Nomad server SSL certificate. If both ",Object(i.b)("inlineCode",{parentName:"p"},"-ca-cert")," and ",Object(i.b)("inlineCode",{parentName:"p"},"-ca-path")," are\nspecified, ",Object(i.b)("inlineCode",{parentName:"p"},"-ca-cert")," is used. Overrides the ",Object(i.b)("inlineCode",{parentName:"p"},"NOMAD_CAPATH")," environment\nvariable if set.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"client-cert",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#client-cert","aria-label":"client cert permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-client-cert=<path>")),": Path to a PEM encoded client certificate for TLS\nauthentication to the Nomad server. Must also specify ",Object(i.b)("inlineCode",{parentName:"p"},"-client-key"),". Overrides\nthe ",Object(i.b)("inlineCode",{parentName:"p"},"NOMAD_CLIENT_CERT")," environment variable if set.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"client-key",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#client-key","aria-label":"client key permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-client-key=<path>")),": Path to an unencrypted PEM encoded private key matching\nthe client certificate from ",Object(i.b)("inlineCode",{parentName:"p"},"-client-cert"),". Overrides the ",Object(i.b)("inlineCode",{parentName:"p"},"NOMAD_CLIENT_KEY"),"\nenvironment variable if set.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"tls-server-name",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#tls-server-name","aria-label":"tls server name permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-tls-server-name=<value>")),": The server name to use as the SNI host when connecting\nvia TLS. Overrides the ",Object(i.b)("inlineCode",{parentName:"p"},"NOMAD_TLS_SERVER_NAME")," environment variable if set.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"tls-skip-verify",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#tls-skip-verify","aria-label":"tls skip verify permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-tls-skip-verify")),": Do not verify TLS certificate. This is highly not\nrecommended. Verification will also be skipped if ",Object(i.b)("inlineCode",{parentName:"p"},"NOMAD_SKIP_VERIFY")," is set.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"token",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#token","aria-label":"token permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-token")),": The SecretID of an ACL token to use to authenticate API requests with.\nOverrides the ",Object(i.b)("inlineCode",{parentName:"p"},"NOMAD_TOKEN")," environment variable if set."))),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#status-options","aria-label":"status options permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"status-options","aria-hidden":""})),"Status Options"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"type",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#type","aria-label":"type permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-type")),": Display only volumes of a particular type. Currently only\nthe ",Object(i.b)("inlineCode",{parentName:"p"},"csi")," type is supported, so this option can be omitted when\nquerying the status of CSI volumes.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"plugin_id",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#plugin_id","aria-label":"plugin_id permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-plugin_id")),": Display only volumes managed by a particular ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/job-specification/csi_plugin"}),"CSI\nplugin"),".")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"short",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#short","aria-label":"short permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-short")),": Display short output. Used only when a single volume is\nbeing queried. Drops verbose volume allocation data from the\noutput.")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"verbose",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#verbose","aria-label":"verbose permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"-verbose")),": Show full information. Allocation create and modify\ntimes are shown in ",Object(i.b)("inlineCode",{parentName:"p"},"yyyy/mm/dd hh:mm:ss")," format."))),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#examples","aria-label":"examples permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"examples","aria-hidden":""})),"Examples"),Object(i.b)("p",null,"List of all volumes:"),Object(i.b)("pre",{className:"language-shell-session"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad volume ",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"["),"-type csi",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"]")," status")),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"ID            Name      Plugin ID  Schedulable  Access Mode\nebs_prod_db1  database  ebs-prod   true         single-node-writer\n"))),Object(i.b)("p",null,"Short view of a specific volume:"),Object(i.b)("pre",{className:"language-shell-session"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad volume status ",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"["),"-verbose",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"]")," ",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"["),"-plugin",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token operator"}),"="),"ebs-prod",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"]")," ebs_prod_db1")),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"ID                   = ebs_prod_db1\nName                 = database\nType                 = csi\nExternal ID          = vol-23452345\nPlugin ID            = ebs-prod\nProvider             = aws.ebs\nVersion              = 1.0.1\nSchedulable          = true\nControllers Healthy  = 1\nControllers Expected = 1\nNodes Healthy        = 1\nNodes Expected       = 1\nAccess Mode          = single-node-writer\nAttachment Mode      = file-system\nMount Options        = fs_type: ext4 flags: ro\nNamespace            = default\n"))),Object(i.b)("p",null,"Full status information of a volume:"),Object(i.b)("pre",{className:"language-shell-session"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad volume status ",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"["),"-verbose",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"]")," ",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"["),"-plugin",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token operator"}),"="),"ebs-prod",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"]")," ebs_prod_db1")),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"ID                   = ebs_prod_db1\nName                 = database\nType                 = csi\nExternal ID          = vol-23452345\nPlugin ID            = ebs-prod\nProvider             = aws.ebs\nVersion              = 1.0.1\nSchedulable          = true\nControllers Healthy  = 1\nControllers Expected = 1\nNodes Healthy        = 1\nNodes Expected       = 1\nAccess Mode          = single-node-writer\nAttachment Mode      = file-system\nMount Options        = fs_type: ext4 flags: ro\nNamespace            = default\n\nAllocations\nID        Node ID   Access Mode   Task Group  Version  Desired  [...]\nb00fa322  28be17d5  write         csi         0        run\n"))))}o.isMDXComponent=!0}},[["K4xy",0,1,2,4,3,5,6]]]);