(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{RGYE:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/commands/job/validate",function(){return t("S3yp")}])},S3yp:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return p}));var n=t("wx14"),s=t("Ff2n"),c=t("q1tI"),o=t.n(c),i=t("7ljp"),b=t("j1un"),r=(o.a.createElement,{}),l=Object(b.a)({layout:"docs",page_title:"Commands: job validate",sidebar_title:"validate",description:"The job validate command is used to check a job specification for syntax errors and validation problems.\n",__resourcePath:"docs/commands/job/validate.mdx",__scans:{}});function p(e){var a=e.components,t=Object(s.a)(e,["components"]);return Object(i.b)(l,Object(n.a)({},r,t,{components:a,mdxType:"MDXLayout"}),Object(i.b)("h1",{className:"g-type-display-2"},Object(i.b)("a",Object(n.a)({parentName:"h1"},{className:"__permalink-h",href:"#command-job-validate","aria-label":"command job validate permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h1"},{className:"__target-h",id:"command-job-validate","aria-hidden":""})),"Command: job validate"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Alias: ",Object(i.b)("inlineCode",{parentName:"strong"},"nomad validate"))),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"job validate")," command is used to check an HCL ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/job-specification"}),"job specification")," for any\nsyntax errors or validation problems."),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#usage","aria-label":"usage permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"usage","aria-hidden":""})),"Usage"),Object(i.b)("pre",{className:"language-plaintext"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-plaintext"}),"nomad job validate <file>\n")),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"job validate")," command requires a single argument, specifying the path to a\nfile containing an HCL ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/job-specification"}),"job specification"),'. This file will be read and the job\nchecked for any problems. If the supplied path is "-", the job file is read from\nSTDIN. Otherwise it is read from the file at the supplied path or downloaded and\nread from URL specified. Nomad downloads the job file using ',Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/hashicorp/go-getter"}),Object(i.b)("inlineCode",{parentName:"a"},"go-getter"))," and\nsupports ",Object(i.b)("inlineCode",{parentName:"p"},"go-getter")," syntax."),Object(i.b)("p",null,"On successful validation, exit code 0 will be returned, otherwise an exit code\nof 1 indicates an error."),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#examples","aria-label":"examples permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"examples","aria-hidden":""})),"Examples"),Object(i.b)("p",null,"Validate a job with invalid syntax:"),Object(i.b)("pre",{className:"language-shell-session"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad job validate example.nomad")),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),'Job validation errors:\n1 error(s) occurred:\n\n* group "cache" -> task "redis" -> config: 1 error(s) occurred:\n\n* field "image" is required\n'))),Object(i.b)("p",null,"Validate a job that has a configuration that causes warnings:"),Object(i.b)("pre",{className:"language-shell-session"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(i.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad job validate example.nomad")),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),'Job Warnings:\n1 warning(s):\n\n* Group "cache" has warnings: 1 error(s) occurred:\n\n* Update max parallel count is greater than task group count (6 > 3). A destructive change would result in the simultaneous replacement of all allocations.\n\nJob validation successful\n'))))}p.isMDXComponent=!0}},[["RGYE",0,1,2,4,3,5,6]]]);