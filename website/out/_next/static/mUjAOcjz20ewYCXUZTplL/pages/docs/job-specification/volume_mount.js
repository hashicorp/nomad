(window.webpackJsonp=window.webpackJsonp||[]).push([[260],{DMpq:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/job-specification/volume_mount",function(){return t("LlAN")}])},LlAN:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return u}));var n,c=t("wx14"),o=t("Ff2n"),s=t("q1tI"),b=t.n(s),p=t("7ljp"),l=t("j1un"),m=(b.a.createElement,n="Placement",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),Object(p.b)("div",e)}),i={},r=Object(l.a)({layout:"docs",page_title:"volume_mount Stanza - Job Specification",sidebar_title:"volume_mount",description:'The "volume_mount" stanza allows the task to specify where a group "volume"\nshould be mounted.',__resourcePath:"docs/job-specification/volume_mount.mdx",__scans:{}});function u(e){var a=e.components,t=Object(o.a)(e,["components"]);return Object(p.b)(r,Object(c.a)({},i,t,{components:a,mdxType:"MDXLayout"}),Object(p.b)("h1",{className:"g-type-display-2"},Object(p.b)("a",Object(c.a)({parentName:"h1"},{className:"__permalink-h",href:"#volume_mount-stanza","aria-label":"volume_mount stanza permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h1"},{className:"__target-h",id:"volume_mount-stanza","aria-hidden":""})),Object(p.b)("inlineCode",{parentName:"h1"},"volume_mount")," Stanza"),Object(p.b)(m,{groups:["job","group","task","volume_mount"],mdxType:"Placement"}),Object(p.b)("p",null,"The ",Object(p.b)("inlineCode",{parentName:"p"},"volume_mount")," stanza allows the task to specify how a group\n",Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"/docs/job-specification/volume",title:"Nomad volume Job Specification"}),Object(p.b)("inlineCode",{parentName:"a"},"volume"))," should be mounted into the task."),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),"job ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"docs"')," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  group ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"example"')," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    volume ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"certs"')," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"type")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"host"'),"\n      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"read_only")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token boolean"}),"true"),"\n      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"source")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"ca-certificates"'),"\n    ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n    task ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"example"')," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"volume_mount")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"volume"),"      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"certs"'),"\n        ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"destination")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"/etc/ssl/certs"'),"\n      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("p",null,"The Nomad client will make the volumes available to tasks according to this\nconfiguration, and it will fail the allocation if the client configuration\nupdates to remove a volume that it depends on."),Object(p.b)("h2",{className:"g-type-display-3"},Object(p.b)("a",Object(c.a)({parentName:"h2"},{className:"__permalink-h",href:"#volume_mount-parameters","aria-label":"volume_mount parameters permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h2"},{className:"__target-h",id:"volume_mount-parameters","aria-hidden":""})),Object(p.b)("inlineCode",{parentName:"h2"},"volume_mount")," Parameters"),Object(p.b)("ul",null,Object(p.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(p.b)("a",Object(c.a)({parentName:"li"},{id:"volume",className:"__target-lic","aria-hidden":""})),Object(p.b)("p",{parentName:"li"},Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"#volume","aria-label":"volume permalink",className:"__permalink-lic"}),Object(p.b)("inlineCode",{parentName:"a"},"volume"))," ",Object(p.b)("inlineCode",{parentName:"p"},'(string: "")')," - Specifies the group volume that the mount is going\nto access.")),Object(p.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(p.b)("a",Object(c.a)({parentName:"li"},{id:"destination",className:"__target-lic","aria-hidden":""})),Object(p.b)("p",{parentName:"li"},Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"#destination","aria-label":"destination permalink",className:"__permalink-lic"}),Object(p.b)("inlineCode",{parentName:"a"},"destination"))," ",Object(p.b)("inlineCode",{parentName:"p"},'(string: "")')," - Specifies where the volume should be mounted\ninside the task's allocation.")),Object(p.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(p.b)("a",Object(c.a)({parentName:"li"},{id:"read_only",className:"__target-lic","aria-hidden":""})),Object(p.b)("p",{parentName:"li"},Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"#read_only","aria-label":"read_only permalink",className:"__permalink-lic"}),Object(p.b)("inlineCode",{parentName:"a"},"read_only"))," ",Object(p.b)("inlineCode",{parentName:"p"},"(bool: false)")," - When a group volume is writeable, you may\nspecify that it is ",Object(p.b)("inlineCode",{parentName:"p"},"read_only")," on a per mount level using the ",Object(p.b)("inlineCode",{parentName:"p"},"read_only"),"\noption here."))))}u.isMDXComponent=!0}},[["DMpq",0,1,2,4,3,5,6]]]);