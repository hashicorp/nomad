(window.webpackJsonp=window.webpackJsonp||[]).push([[224],{Uusx:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return d}));var n,c=t("wx14"),s=t("Ff2n"),o=t("q1tI"),b=t.n(o),p=t("7ljp"),r=t("j1un"),i=(b.a.createElement,n="Placement",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),Object(p.b)("div",e)}),l={},m=Object(r.a)({layout:"docs",page_title:"artifact Stanza - Job Specification",sidebar_title:"artifact",description:'The "artifact" stanza instructs Nomad to fetch and unpack a remote resource,\nsuch as a file, tarball, or binary, and permits downloading artifacts from a\nvariety of locations using a URL as the input source.',__resourcePath:"docs/job-specification/artifact.mdx",__scans:{}});function d(e){var a=e.components,t=Object(s.a)(e,["components"]);return Object(p.b)(m,Object(c.a)({},l,t,{components:a,mdxType:"MDXLayout"}),Object(p.b)("h1",{className:"g-type-display-2"},Object(p.b)("a",Object(c.a)({parentName:"h1"},{className:"__permalink-h",href:"#artifact-stanza","aria-label":"artifact stanza permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h1"},{className:"__target-h",id:"artifact-stanza","aria-hidden":""})),Object(p.b)("inlineCode",{parentName:"h1"},"artifact")," Stanza"),Object(p.b)(i,{groups:["job","group","task","artifact"],mdxType:"Placement"}),Object(p.b)("p",null,"The ",Object(p.b)("inlineCode",{parentName:"p"},"artifact")," stanza instructs Nomad to fetch and unpack a remote resource,\nsuch as a file, tarball, or binary. Nomad downloads artifacts using the popular\n",Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"https://github.com/hashicorp/go-getter",title:"HashiCorp go-getter Library"}),Object(p.b)("inlineCode",{parentName:"a"},"go-getter"))," library, which permits downloading artifacts from a\nvariety of locations using a URL as the input source."),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),"job ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"docs"')," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  group ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"example"')," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    task ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"server"')," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"artifact")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"source"),"      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"https://example.com/file.tar.gz"'),"\n        ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"destination")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"local/some-directory"'),"\n        ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"options")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n          ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"checksum")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"md5:df6a4178aec9fbdc1d6d7e3634d1bc33"'),"\n        ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("p",null,"Nomad supports downloading ",Object(p.b)("inlineCode",{parentName:"p"},"http"),", ",Object(p.b)("inlineCode",{parentName:"p"},"https"),", ",Object(p.b)("inlineCode",{parentName:"p"},"git"),", ",Object(p.b)("inlineCode",{parentName:"p"},"hg")," and ",Object(p.b)("inlineCode",{parentName:"p"},"S3")," artifacts. If\nthese artifacts are archived (",Object(p.b)("inlineCode",{parentName:"p"},"zip"),", ",Object(p.b)("inlineCode",{parentName:"p"},"tgz"),", ",Object(p.b)("inlineCode",{parentName:"p"},"bz2"),", ",Object(p.b)("inlineCode",{parentName:"p"},"xz"),"), they are\nautomatically unarchived before the starting the task."),Object(p.b)("h2",{className:"g-type-display-3"},Object(p.b)("a",Object(c.a)({parentName:"h2"},{className:"__permalink-h",href:"#artifact-parameters","aria-label":"artifact parameters permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h2"},{className:"__target-h",id:"artifact-parameters","aria-hidden":""})),Object(p.b)("inlineCode",{parentName:"h2"},"artifact")," Parameters"),Object(p.b)("ul",null,Object(p.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(p.b)("a",Object(c.a)({parentName:"li"},{id:"destination",className:"__target-lic","aria-hidden":""})),Object(p.b)("p",{parentName:"li"},Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"#destination","aria-label":"destination permalink",className:"__permalink-lic"}),Object(p.b)("inlineCode",{parentName:"a"},"destination"))," ",Object(p.b)("inlineCode",{parentName:"p"},'(string: "local/")')," - Specifies the directory path to download\nthe artifact, relative to the root of the task's directory. If omitted, the\ndefault value is to place the artifact in ",Object(p.b)("inlineCode",{parentName:"p"},"local/"),". The destination is treated\nas a directory unless ",Object(p.b)("inlineCode",{parentName:"p"},"mode")," is set to ",Object(p.b)("inlineCode",{parentName:"p"},"file"),". Source files will be downloaded\ninto that directory path.")),Object(p.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(p.b)("a",Object(c.a)({parentName:"li"},{id:"mode",className:"__target-lic","aria-hidden":""})),Object(p.b)("p",{parentName:"li"},Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"#mode","aria-label":"mode permalink",className:"__permalink-lic"}),Object(p.b)("inlineCode",{parentName:"a"},"mode"))," ",Object(p.b)("inlineCode",{parentName:"p"},'(string: "any")')," - One of ",Object(p.b)("inlineCode",{parentName:"p"},"any"),", ",Object(p.b)("inlineCode",{parentName:"p"},"file"),", or ",Object(p.b)("inlineCode",{parentName:"p"},"dir"),". If set to ",Object(p.b)("inlineCode",{parentName:"p"},"file"),"\nthe ",Object(p.b)("inlineCode",{parentName:"p"},"destination")," must be a file, not a directory. By default the\n",Object(p.b)("inlineCode",{parentName:"p"},"destination")," will be ",Object(p.b)("inlineCode",{parentName:"p"},"local/<filename>"),".")),Object(p.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(p.b)("a",Object(c.a)({parentName:"li"},{id:"options",className:"__target-lic","aria-hidden":""})),Object(p.b)("p",{parentName:"li"},Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"#options","aria-label":"options permalink",className:"__permalink-lic"}),Object(p.b)("inlineCode",{parentName:"a"},"options"))," ",Object(p.b)("inlineCode",{parentName:"p"},"(map<string|string>: nil)")," - Specifies configuration parameters to\nfetch the artifact. The key-value pairs map directly to parameters appended to\nthe supplied ",Object(p.b)("inlineCode",{parentName:"p"},"source")," URL. Please see the ",Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"https://github.com/hashicorp/go-getter",title:"HashiCorp go-getter Library"}),Object(p.b)("inlineCode",{parentName:"a"},"go-getter"),"\ndocumentation")," for a complete list of options and examples")),Object(p.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(p.b)("a",Object(c.a)({parentName:"li"},{id:"source",className:"__target-lic","aria-hidden":""})),Object(p.b)("p",{parentName:"li"},Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"#source","aria-label":"source permalink",className:"__permalink-lic"}),Object(p.b)("inlineCode",{parentName:"a"},"source"))," ",Object(p.b)("inlineCode",{parentName:"p"},"(string: <required>)")," - Specifies the URL of the artifact to download.\nSee ",Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"https://github.com/hashicorp/go-getter",title:"HashiCorp go-getter Library"}),Object(p.b)("inlineCode",{parentName:"a"},"go-getter"))," for details."))),Object(p.b)("h2",{className:"g-type-display-3"},Object(p.b)("a",Object(c.a)({parentName:"h2"},{className:"__permalink-h",href:"#artifact-examples","aria-label":"artifact examples permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h2"},{className:"__target-h",id:"artifact-examples","aria-hidden":""})),Object(p.b)("inlineCode",{parentName:"h2"},"artifact")," Examples"),Object(p.b)("p",null,"The following examples only show the ",Object(p.b)("inlineCode",{parentName:"p"},"artifact")," stanzas. Remember that the\n",Object(p.b)("inlineCode",{parentName:"p"},"artifact")," stanza is only valid in the placements listed above."),Object(p.b)("h3",{className:"g-type-display-4"},Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__permalink-h",href:"#download-file","aria-label":"download file permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__target-h",id:"download-file","aria-hidden":""})),"Download File"),Object(p.b)("p",null,"This example downloads the artifact from the provided URL and places it in\n",Object(p.b)("inlineCode",{parentName:"p"},"local/file.txt"),". The ",Object(p.b)("inlineCode",{parentName:"p"},"local/")," path is relative to the task's directory."),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"artifact")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"source")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"https://example.com/file.txt"'),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("h3",{className:"g-type-display-4"},Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__permalink-h",href:"#download-using-git","aria-label":"download using git permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__target-h",id:"download-using-git","aria-hidden":""})),"Download using git"),Object(p.b)("p",null,"This example downloads the artifact from the provided GitHub URL and places it at\n",Object(p.b)("inlineCode",{parentName:"p"},"local/repo"),", as specified by the optional ",Object(p.b)("inlineCode",{parentName:"p"},"destination")," parameter."),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"artifact")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"source"),"      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"git::https://github.com/example/nomad-examples"'),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"destination")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"local/repo"'),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("p",null,"To download from private repo, sshkey needs to be set. The key must be\nbase64-encoded string. Run ",Object(p.b)("inlineCode",{parentName:"p"},"base64 -w0 <file>")),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"artifact")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"source"),"      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"git@github.com:example/nomad-examples"'),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"destination")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"local/repo"'),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"options")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"sshkey")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"<string>"'),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("h3",{className:"g-type-display-4"},Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__permalink-h",href:"#download-and-unarchive","aria-label":"download and unarchive permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__target-h",id:"download-and-unarchive","aria-hidden":""})),"Download and Unarchive"),Object(p.b)("p",null,"This example downloads and unarchives the result in ",Object(p.b)("inlineCode",{parentName:"p"},"local/file"),". Because the\nsource URL is an archive extension, Nomad will automatically decompress it:"),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"artifact")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"source")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"https://example.com/file.tar.gz"'),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("p",null,"To disable automatic unarchiving, set the ",Object(p.b)("inlineCode",{parentName:"p"},"archive")," option to false:"),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"artifact")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"source")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"https://example.com/file.tar.gz"'),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"options")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"archive")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token boolean"}),"false"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("h3",{className:"g-type-display-4"},Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__permalink-h",href:"#download-and-verify-checksums","aria-label":"download and verify checksums permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__target-h",id:"download-and-verify-checksums","aria-hidden":""})),"Download and Verify Checksums"),Object(p.b)("p",null,"This example downloads an artifact and verifies the resulting artifact's\nchecksum before proceeding. If the checksum is invalid, an error will be\nreturned."),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"artifact")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"source")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"https://example.com/file.zip"'),"\n\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"options")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"checksum")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"md5:df6a4178aec9fbdc1d6d7e3634d1bc33"'),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("h3",{className:"g-type-display-4"},Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__permalink-h",href:"#download-from-an-s3-compatible-bucket","aria-label":"download from an s3 compatible bucket permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__target-h",id:"download-from-an-s3-compatible-bucket","aria-hidden":""})),"Download from an S3-compatible Bucket"),Object(p.b)("p",null,"These examples download artifacts from Amazon S3. There are several different\ntypes of ",Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html#access-bucket-intro",title:"Amazon S3 Bucket Addressing"}),"S3 bucket addressing")," and ",Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"http://docs.aws.amazon.com/general/latest/gr/rande.html#s3_region",title:"Amazon S3 Region Endpoints"}),"S3 region-specific\nendpoints"),". As of Nomad 0.6 non-Amazon S3-compatible\nendpoints like ",Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"https://www.minio.io/"}),"Minio"),' are supported, but you must explicitly set the "s3::"\nprefix.'),Object(p.b)("p",null,"This example uses path-based notation on a publicly-accessible bucket:"),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"artifact")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"source")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"https://my-bucket-example.s3-us-west-2.amazonaws.com/my_app.tar.gz"'),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("p",null,"If a bucket requires authentication, you can avoid the use of credentials by\nusing ",Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2_instance-profiles.html",title:"EC2 IAM instance profiles"}),"EC2 IAM instance profiles"),". If this is not possible,\ncredentials may be supplied via the ",Object(p.b)("inlineCode",{parentName:"p"},"options")," parameter:"),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"artifact")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"options")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"aws_access_key_id"),"     ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"<id>"'),"\n    ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"aws_access_key_secret")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"<secret>"'),"\n    ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"aws_access_token"),"      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"<token>"'),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("p",null,"To force the S3-specific syntax, use the ",Object(p.b)("inlineCode",{parentName:"p"},"s3::")," prefix:"),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"artifact")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"source")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"s3::https://my-bucket-example.s3-eu-west-1.amazonaws.com/my_app.tar.gz"'),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("p",null,"Alternatively you can use virtual hosted style:"),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"artifact")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"source")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"https://my-bucket-example.s3-eu-west-1.amazonaws.com/my_app.tar.gz"'),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")))}d.isMDXComponent=!0},jdiq:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/job-specification/artifact",function(){return t("Uusx")}])}},[["jdiq",0,1,2,4,3,5,6]]]);