<!DOCTYPE html><html><head><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta property="og:image" content="https://www.nomadproject.io/img/og-image.png"/><link href="/fonts/klavika/medium.woff2" as="font" rel="preload"/><link href="/fonts/gilmer/light.woff2" as="font" rel="preload"/><link href="/fonts/gilmer/regular.woff2" as="font" rel="preload"/><link href="/fonts/gilmer/medium.woff2" as="font" rel="preload"/><link href="/fonts/gilmer/bold.woff2" as="font" rel="preload"/><link href="/fonts/metro-sans/book.woff2" as="font" rel="preload"/><link href="/fonts/metro-sans/regular.woff2" as="font" rel="preload"/><link href="/fonts/metro-sans/semi-bold.woff2" as="font" rel="preload"/><link href="/fonts/metro-sans/bold.woff2" as="font" rel="preload"/><link href="/fonts/dejavu/mono.woff2" as="font" rel="preload"/><link href="/favicon.ico" rel="icon"/><title>Operator - HTTP API | Nomad by HashiCorp</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="description" property="og:description" content="The /operator endpoints provides cluster-level tools for Nomad operators, such
as interacting with the Raft subsystem."/><meta property="og:site_name" content="Nomad by HashiCorp"/><meta name="next-head-count" content="23"/><link rel="preload" href="/_next/static/css/4c7aea562f79de98ebc9.css" as="style" crossorigin="anonymous"/><link rel="stylesheet" href="/_next/static/css/4c7aea562f79de98ebc9.css" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/490d2ff0bc30d7a3c9f9.css" as="style" crossorigin="anonymous"/><link rel="stylesheet" href="/_next/static/css/490d2ff0bc30d7a3c9f9.css" crossorigin="anonymous"/><link rel="preload" href="/_next/static/mUjAOcjz20ewYCXUZTplL/pages/_app.module.js" as="script" crossorigin="anonymous"/><link rel="preload" href="/_next/static/mUjAOcjz20ewYCXUZTplL/pages/api-docs/operator.module.js" as="script" crossorigin="anonymous"/><link rel="preload" href="/_next/static/runtime/webpack-a5e0d34e8fa0286fccbd.module.js" as="script" crossorigin="anonymous"/><link rel="preload" href="/_next/static/chunks/framework.c4a2b05e6662040d1d25.module.js" as="script" crossorigin="anonymous"/><link rel="preload" href="/_next/static/chunks/686d04441314e6b786cc219b7db4b9371d302f46.1bfeab97cae27174089c.module.js" as="script" crossorigin="anonymous"/><link rel="preload" href="/_next/static/chunks/443277d4c9ae92a6e6d13331c8cb070f58497e98.8fa3c459f2862ebe92cb.module.js" as="script" crossorigin="anonymous"/><link rel="preload" href="/_next/static/chunks/85df607b27b3478734440ad39f097a062c9ff466.62e32891701cb125ed51.module.js" as="script" crossorigin="anonymous"/><link rel="preload" href="/_next/static/runtime/main-aca6801eb35beb35d941.module.js" as="script" crossorigin="anonymous"/><link rel="preload" href="/_next/static/chunks/7debd1b2e94f6a4dee3ed89854941bcd2cebd3b3.b76d04e9e4982fa11e9d.module.js" as="script" crossorigin="anonymous"/><link rel="preload" href="/_next/static/chunks/b0638948e81be0c7cfa38c271936d8c6c941dae3.86c01d97e4a51cf99cdf.module.js" as="script" crossorigin="anonymous"/></head><body><div id="__next"><div class="g-alert-banner nomad has-large-tag show"><a href="https://www.hashicorp.com/blog/announcing-general-availability-of-hashicorp-nomad-0-12"></a><div class="g-container"><div class="tag g-type-label"><span>ANNOUNCING</span></div><div class="text g-type-body-small-strong"><span>Nomad 0.12 is now generally available, which includes 15+ new features and our breakthrough Multi-Cluster Deployment. Learn more!</span> </div></div><span class="close"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15 9L9 15" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9 9L15 15" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></div><div class="g-mega-nav"><div class="g-container"><a href="https://www.hashicorp.com"><div data-testid="root" class="hashicorp-logo"><svg width="105" height="25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M35.716 19.035v-5.637h-4.954v5.637h-2.528V5.637h2.528v5.51h4.954V5.663h2.528V19.06h-2.528v-.025zm11.779 0h-1.997l-.177-.657a5.356 5.356 0 01-2.906.859c-1.795 0-2.553-1.213-2.553-2.907 0-1.997.859-2.755 2.856-2.755h2.35v-1.037c0-1.087-.303-1.466-1.87-1.466-.91 0-1.82.101-2.705.278l-.303-1.87a12.538 12.538 0 013.362-.456c3.084 0 3.968 1.087 3.968 3.54l-.025 6.47zm-2.452-3.69H43.25c-.81 0-1.037.227-1.037.96 0 .682.228.986.986.986.657 0 1.29-.177 1.845-.506v-1.44zm7.204 3.892a12.022 12.022 0 01-3.387-.556l.354-1.87c.96.277 1.921.404 2.907.429 1.087 0 1.238-.253 1.238-.986 0-.607-.126-.91-1.718-1.29-2.402-.58-2.68-1.187-2.68-3.083 0-1.972.86-2.831 3.665-2.831.986 0 1.972.126 2.933.328l-.253 1.947a19.261 19.261 0 00-2.68-.278c-1.061 0-1.238.252-1.238.834 0 .784.05.834 1.39 1.188 2.73.733 3.008 1.087 3.008 3.084 0 1.921-.581 3.084-3.539 3.084zm10.844-.202V12.21c0-.531-.227-.784-.784-.784-.606 0-1.668.354-2.553.834v6.775h-2.451V5.258l2.452-.354v5.081a8.397 8.397 0 013.563-.935c1.618 0 2.2 1.137 2.2 2.907v7.103H63.09v-.025zm4.247-11.173V5.03h2.451v2.832h-2.451zm0 11.173V9.252h2.451v9.783h-2.451zm4.17-9.707c0-2.452 1.416-3.868 4.752-3.868 1.213 0 2.452.152 3.64.455l-.278 2.174a20.415 20.415 0 00-3.286-.354c-1.744 0-2.3.607-2.3 2.023v5.156c0 1.416.556 2.023 2.3 2.023a20.394 20.394 0 003.286-.329l.278 2.2a14.652 14.652 0 01-3.64.454c-3.336 0-4.752-1.415-4.752-3.867V9.328zm13.422 9.909c-3.362 0-4.272-1.845-4.272-3.868v-2.477c0-2.022.91-3.868 4.272-3.868s4.272 1.846 4.272 3.868v2.477c-.025 2.023-.935 3.868-4.272 3.868zm0-8.09c-1.314 0-1.795.582-1.795 1.694v2.63c0 1.112.506 1.693 1.795 1.693 1.29 0 1.795-.581 1.795-1.694v-2.629c0-1.112-.506-1.693-1.795-1.693zm10.768.153c-.91.404-1.77.884-2.603 1.415v6.32h-2.452V9.252h2.073l.151 1.087c.809-.53 1.668-.96 2.578-1.29l.253 2.25zM105 15.8c0 2.173-.961 3.462-3.235 3.462-.885 0-1.745-.1-2.604-.278v4.045l-2.452.328V9.252h1.947l.252.834c.885-.657 1.972-1.036 3.084-1.011 1.972 0 3.008 1.163 3.008 3.387V15.8zm-5.864 1.086c.708.152 1.441.253 2.174.253.884 0 1.238-.43 1.238-1.315v-3.438c0-.808-.303-1.238-1.213-1.238a3.542 3.542 0 00-2.2.885v4.853zM9.656 0L0 5.561V18.96l3.64 2.098V7.659l6.016-3.463V0z" fill="#fff"/><path d="M13.523 0v10.668H9.656V6.674L6.04 8.772v13.675l3.615 2.099V13.902h3.867v3.944l3.615-2.073V2.098L13.523 0z" fill="#fff"/><path d="M13.523 24.546l9.656-5.587V5.587l-3.64-2.099v13.373l-6.016 3.488v4.197z" fill="#fff"/></svg></div></a><div class="hidden-print mega-nav-sandbox"><svg class="hidden-print" aria-hidden="true" style="position:absolute;width:0;height:0" width="0" height="0" xmlns="http://www.w3.org/2000/svg"><defs><symbol id="mega-nav-icon-angle" viewBox="0 0 13 7"><path d="M6.5 6.5L.7 1.6l.6-.8 5.2 4.4L11.7.8l.6.8z"></path></symbol><symbol id="mega-nav-icon-close" viewBox="0 0 13 15"><path vector-effect="non-scaling-stroke" d="M1.1 14L11.9 1m0 13L1.1 1"></path></symbol></defs></svg><div class="mega-nav-banner"><div class="container"><div class="mega-nav-banner-item"><p class="mega-nav-tagline"><span class="hidden-xs text-muted">Learn how Nomad fits into the</span></p><div id="#mega-nav" class="mega-nav "><button type="button" id="mega-nav-ctrl" class="mega-nav-ctrl"><div class="mega-nav-ctrl-items"><img src="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjEiIGhlaWdodD0iMjIiPjxzdHlsZT4uc3Qwe2ZpbGw6I2ZmZn08L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLjEgNy4xbDUuMy0zVjBMMCA0Ljl2MTIuMmwzLjEgMS44VjcuOHptMTQuNy00djExLjhsLTUuMiAzVjIybDguNC00LjlWNC45eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNS43IDEuOEwxMi42IDB2OS44SDguNFY2LjVMNS4yIDguNHYxMS44TDguNCAyMnYtOS40aDQuMnYyLjlsMy4xLTEuOHoiLz48L3N2Zz4=" alt="HashiCorp Logo"/><strong>HashiCorp Stack</strong><span class="mega-nav-icon-outline"><svg class="mega-nav-icon mega-nav-icon-angle-right" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-angle"></use></svg><span class="visuallyhidden">Open</span></span></div></button><div id="mega-nav-body-ct" class="mega-nav-body-ct" aria-labelledby="mega-nav-ctrl"><div class="mega-nav-body"><button type="button" id="mega-nav-close" class="mega-nav-close"><svg class="mega-nav-icon mega-nav-icon-close" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-close"></use></svg><span class="visuallyhidden">Close</span></button><div class="mega-nav-body-header"><div class="mega-nav-body-header-item"><h2 class="mega-nav-h1">Provision, Secure, Connect, and Run</h2><p class="mega-nav-h2">Any infrastructure for any application</p></div><div class="mega-nav-body-header-item"><a href="https://www.hashicorp.com/" class="mega-nav-btn"><img src="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjEiIGhlaWdodD0iMjIiPjxzdHlsZT4uc3Qwe2ZpbGw6I2ZmZn08L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLjEgNy4xbDUuMy0zVjBMMCA0Ljl2MTIuMmwzLjEgMS44VjcuOHptMTQuNy00djExLjhsLTUuMiAzVjIybDguNC00LjlWNC45eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNS43IDEuOEwxMi42IDB2OS44SDguNFY2LjVMNS4yIDguNHYxMS44TDguNCAyMnYtOS40aDQuMnYyLjlsMy4xLTEuOHoiLz48L3N2Zz4=" alt="HashiCorp Logo"/> <!-- -->Learn the HashiCorp Enterprise Stack<!-- --> <svg class="mega-nav-icon mega-nav-icon-angle-right" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-angle"></use></svg></a></div></div><div class="mega-nav-body-grid"><div class="mega-nav-body-grid-item"><h3 class="mega-nav-h3">Provision</h3><ul class="mega-nav-grid"><li><a href="https://www.vagrantup.com" class="mega-nav-grid-item mega-nav-grid-item-vagrant "><div class="mega-nav-grid-item-img"><img src="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNjQiIGhlaWdodD0iNjYiPjxzdHlsZT4uc3Qwe2ZpbGw6IzEwNGViMn0uc3Qxe2ZpbGw6IzE1NjNmZn08L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02Mi45IDExLjhWNS45bC0xNC4xIDguMnY1TDM3LjcgNDQuNCAzMiA0Ny4yVjY1bDEyLTd6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTkuNCAzMi41TDIwIDU4LjEgMzIgNjVWNDcuMmwtNS43LTIuOC0xMS4yLTI1LjN2LTVMMSA1LjlWMTJsNS42IDEzLjVNNDAuNCA5LjJ2NS43bC0zIDYuNS0yLjkgNy4xLTIuNSA2LjF2N2w1LjcgMi44IDExLjEtMjUuM3YtNXoiLz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzIgMzQuNmwtOC41LTE5LjdWOS4zbC04LjQgNC44djVsMTEuMiAyNS4zIDUuNy0yLjh6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTMyIDQxLjFsLTYgMy4zIDUuNiAzLjMgNi4xLTMuM3oiLz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNOS4xIDFMMSA1LjlsMTQuMSA4LjIgOC40LTQuOXoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNTQuMSAxbDguOCA0LjktMTQuMSA4LjItOC40LTQuOXoiLz48L3N2Zz4=" alt="Vagrant Logo"/></div><b>Vagrant</b><ul><li><span class="mega-nav-tag">Build</span></li><li><span class="mega-nav-tag">Test</span></li></ul></a></li><li><a href="https://www.packer.io" class="mega-nav-grid-item mega-nav-grid-item-packer "><div class="mega-nav-grid-item-img"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MiIgaGVpZ2h0PSI2NiI+PHBhdGggZD0iTTEgOC41bDIwLjkgMTIuMVY2NUwxIDUzeiIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMxZGFlZmYiLz48cGF0aCBkPSJNMzIuMiAxNC4xTDkuNSAxdjkuMUwyNC45IDE5djI3LjJsNy4zIDQuMmM0LjUgMi42IDguMiAxIDguMi0zLjRWMjdjLS4xLTQuNi0zLjctMTAuNC04LjItMTIuOXoiIGZpbGw9IiMxZDk0ZGQiLz48L3N2Zz4=" alt="Packer Logo"/></div><b>Packer</b><ul><li><span class="mega-nav-tag">Package</span></li></ul></a></li><li><a href="https://www.terraform.io" class="mega-nav-grid-item mega-nav-grid-item-terraform "><div class="mega-nav-grid-item-img"><img src="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNTgiIGhlaWdodD0iNjYiPjxzdHlsZT4uc3Qwe2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6IzVjNGVlNX08L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMC40IDEyLjNsMTcuNSAxMC4xdjIwLjJMMjAuNCAzMi41eiIvPjxwYXRoIGQ9Ik0zOS44IDIyLjR2MjAuMmwxNy41LTEwLjFWMTIuM3oiIGZpbGw9IiM0MDQwYjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEgMXYyMC4ybDE3LjUgMTAuMVYxMS4xem0xOS40IDUzLjlMMzcuOSA2NVY0NC44TDIwLjQgMzQuN3oiLz48L3N2Zz4=" alt="Terraform Logo"/></div><b>Terraform</b><ul><li><span class="mega-nav-tag">Provision</span></li></ul></a></li></ul></div><div class="mega-nav-body-grid-item"><h3 class="mega-nav-h3">Secure</h3><ul class="mega-nav-grid"><li><a href="https://www.vaultproject.io" class="mega-nav-grid-item mega-nav-grid-item-vault "><div class="mega-nav-grid-item-img"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2NiI+PHBhdGggZD0iTTU5IDRMMjkuOSA2MiAxIDR6Ii8+PHBhdGggZD0iTTIzLjMgMTUuNmgzLjRWMTloLTMuNHptNSAwaDMuNFYxOWgtMy40em01IDBoMy40VjE5aC0zLjR6bS0xMCA1LjFoMy40djMuNGgtMy40em01IDBoMy40djMuNGgtMy40em01IDBoMy40djMuNGgtMy40em0tMTAgNWgzLjR2My40aC0zLjR6bTUgMGgzLjR2My40aC0zLjR6bTAgNS4xaDMuNHYzLjRoLTMuNHptNS4xLTUuMWgzLjR2My40aC0zLjR6IiBmaWxsPSIjZmZmIi8+PC9zdmc+" alt="Vault Logo"/></div><b>Vault</b><ul><li><span class="mega-nav-tag">Secure</span></li></ul></a></li></ul></div><div class="mega-nav-body-grid-item"><h3 class="mega-nav-h3">Connect</h3><ul class="mega-nav-grid"><li><a href="https://www.consul.io" class="mega-nav-grid-item mega-nav-grid-item-consul"><div class="mega-nav-grid-item-img"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NiI+PHBhdGggZD0iTTMwLjkgMzkuM2MtMy42IDAtNi40LTIuOC02LjQtNi40IDAtMy42IDIuOC02LjQgNi40LTYuNHM2LjQgMi44IDYuNCA2LjRjMCAzLjYtMi44IDYuNC02LjQgNi40IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzk2MWQ1OSIvPjxwYXRoIGQ9Ik00My40IDM1LjljLTEuNiAwLTMtMS4zLTMtMyAwLTEuNiAxLjMtMyAzLTMgMS42IDAgMyAxLjMgMyAzcy0xLjQgMy0zIDNtMTAuOCAyLjhjLS40IDEuNi0yIDIuNS0zLjYgMi4xLTEuNi0uNC0yLjUtMi0yLjEtMy42LjQtMS42IDItMi41IDMuNi0yLjEgMS41LjQgMi41IDEuOCAyLjIgMy40IDAgMCAwIC4xLS4xLjJtLTIuMS03LjZjLTEuNi40LTMuMi0uNi0zLjYtMi4yLS40LTEuNi42LTMuMiAyLjItMy42IDEuNi0uNCAzLjIuNiAzLjYgMi4yLjEuNC4xLjggMCAxLjItLjEgMS4xLS45IDIuMS0yLjIgMi40bTEwLjYgNy4yYy0uMyAxLjYtMS44IDIuNy0zLjQgMi40LTEuNi0uMy0yLjctMS44LTIuNC0zLjQuMy0xLjYgMS44LTIuNyAzLjQtMi40IDEuNS4zIDIuNiAxLjcgMi41IDMuMi0uMS4xLS4xLjEtLjEuMm0tMi40LTcuNGMtMS42LjMtMy4xLS44LTMuNC0yLjQtLjMtMS42LjgtMy4xIDIuNC0zLjQgMS42LS4zIDMuMS44IDMuNCAyLjQgMCAuMy4xLjUgMCAuOC0uMSAxLjMtMS4xIDIuNC0yLjQgMi42bS0yLjEgMTcuN2MtLjggMS40LTIuNiAxLjktNCAxLjEtMS40LS44LTEuOS0yLjYtMS4xLTQgLjgtMS40IDIuNi0xLjkgNC0xLjEgMSAuNiAxLjYgMS43IDEuNSAyLjgtLjEuNC0uMi44LS40IDEuMm0tMS4xLTI3LjJjLTEuNC44LTMuMi4zLTQtMS4xLS44LTEuNC0uMy0zLjIgMS4xLTQgMS40LS44IDMuMi0uMyA0IDEuMS4zLjYuNCAxLjEuNCAxLjctLjEuOS0uNiAxLjgtMS41IDIuMyIgZmlsbD0iI2Q2Mjc4MyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBkPSJNMzEgNjIuOGMtOCAwLTE1LjQtMy4xLTIxLjEtOC43QzQuNCA0OC40IDEuMyA0MC45IDEuMyAzM2MwLTggMy4xLTE1LjQgOC43LTIxLjEgNS42LTUuNiAxMy4xLTguNyAyMS04LjcgNi42IDAgMTIuOSAyLjEgMTguMSA2LjFsLTMuNyA0LjhjLTQuMi0zLjItOS4yLTQuOS0xNC40LTQuOS02LjMgMC0xMi4zIDIuNS0xNi44IDdTNy4zIDI2LjYgNy4zIDMzYzAgNi4zIDIuNSAxMi4zIDcgMTYuOHMxMC40IDYuOSAxNi44IDYuOWM1LjMgMCAxMC4zLTEuNyAxNC40LTQuOWwzLjYgNC44Yy01LjIgNC0xMS41IDYuMi0xOC4xIDYuMnoiIGZpbGw9IiNkNjI3ODMiLz48L3N2Zz4=" alt="Consul Logo"/></div><b>Consul</b><ul><li><span class="mega-nav-tag">Connect</span></li></ul></a></li></ul></div><div class="mega-nav-body-grid-item"><h3 class="mega-nav-h3">Run</h3><ul class="mega-nav-grid"><li><a href="https://www.nomadproject.io" class="mega-nav-grid-item mega-nav-grid-item-nomad is-active"><div class="mega-nav-grid-item-img"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTciIGhlaWdodD0iNjYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjMUY5OTY3IiBkPSJNNDAuODU4IDI0LjkzdjEwLjc1OWwtNy40NDUgNC4zMjYtNS4yMDctMy4yNDJ2MjguMDg0bC4xNDguMDAzIDI4LjA2LTE2LjIxNXYtMzIuMzlsLS41MjQtLjAwMiIvPjxwYXRoIGZpbGw9IiMyNUJBODEiIGQ9Ik0yNy45NzQgMEwwIDE2LjI2MmwxOC44NzIgMTEuMTUgMy44Mi0yLjMzOSA5LjI3NiA1LjIwNVYxOS40NjVsOC44OS01LjM3NFYyNC45M2wxNS41NTYtOC42NzR2LS4wNCIvPjxwYXRoIGZpbGw9IiMyNUJBODEiIGQ9Ik0wIDE2LjI2MnYzMi4zODNsMjguMjA3IDE2LjIxM1YzNi43NzJsLTMuNzYtMi4xNnYxMC44MDRsLTguNDYzIDUuMzk5VjI5LjIwM2wzLjIwOS0xLjk4OUwuMTY1IDE2LjI1NyIvPjwvZz48L3N2Zz4=" alt="Nomad Logo"/></div><b>Nomad</b><ul><li><span class="mega-nav-tag">Run</span></li></ul></a></li></ul></div></div><div class="mega-nav-body-footer"><p>Seven elements of the modern Application Lifecycle</p></div></div></div></div></div></div></div></div></div></div><nav class="g-subnav "><div class="constrain-width-wrapper g-grid-container"><div class="g-subnav-inner  brand-nomad  is-constrained" data-overflow-target="true"><a href="/" data-testid="a-raw" class="title-link brand-nomad " title="nomad"><div class="g-svg"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKYAAAAwCAYAAACbtwEpAAAANklEQVR4Ae3BAQ0AAADCIPunfg43YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMCtAHywAAGoU7/pAAAAAElFTkSuQmCC" class="svg-sizer" alt="" role="presentation"/><svg width="166" height="48" viewBox="0 0 166 48" fill="none" role="img"><path fill-rule="evenodd" clip-rule="evenodd" d="M159.444 21.965c-1.204-.264-2.745-.49-4.062-.49-1.655 0-2.294.791-2.294 2.447v6.475c0 1.505.564 2.334 2.256 2.334 1.504 0 3.122-.754 4.1-1.657v-9.11zm-10.945 2.07c0-4.065 1.806-6.474 6.055-6.474 1.618 0 3.46.226 4.89.527v-7.641l4.588-.64v26.462h-3.648l-.451-1.544c-1.617 1.167-3.498 1.92-5.792 1.92-3.686 0-5.642-2.183-5.642-6.361v-6.248zm-7.407 5.307h-3.385c-1.505 0-1.918.415-1.918 1.807 0 1.28.413 1.844 1.843 1.844 1.354 0 2.595-.45 3.46-.94v-2.71zm4.588 6.927h-3.76l-.339-1.243c-1.655 1.092-3.611 1.62-5.454 1.62-3.348 0-4.776-2.297-4.776-5.459 0-3.726 1.617-5.157 5.341-5.157h4.4v-1.92c0-2.032-.565-2.747-3.498-2.747-1.655 0-3.46.225-5.077.564l-.564-3.5c1.73-.527 4.249-.866 6.28-.866 5.755 0 7.447 2.033 7.447 6.625V36.27zm-32.756 0V23.47c0-.979-.414-1.468-1.466-1.468-1.129 0-3.122.677-4.778 1.543v12.723h-4.588V17.938h3.498l.451 1.543c2.295-1.13 5.19-1.92 7.334-1.92 1.768 0 2.858.715 3.46 1.957 2.219-1.129 5.153-1.957 7.373-1.957 3.046 0 4.136 2.145 4.136 5.42v13.288h-4.588V23.47c0-.979-.414-1.468-1.467-1.468-1.129 0-3.347.714-4.776 1.543v12.723h-4.589zM90.999 21.476c-2.444 0-3.384 1.09-3.384 3.161v4.931c0 2.07.94 3.162 3.384 3.162 2.445 0 3.386-1.092 3.386-3.162v-4.93c0-2.071-.941-3.162-3.386-3.162zm0 15.17c-6.28 0-7.973-3.464-7.973-7.228v-4.63c0-3.765 1.692-7.227 7.973-7.227s7.974 3.462 7.974 7.227v4.63c0 3.764-1.693 7.227-7.974 7.227zM63.885 17.26v19.009h-4.627v-25.07h6.32l9.515 19.047V11.199h4.626v25.07H73.4L63.885 17.26z" fill="#000"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M31.239 18.348v7.918l-5.494 3.184-3.842-2.385v20.67l.108.002L42.72 35.802V11.963l-.387-.002-11.093 6.387z" fill="#1F9967"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M21.73 0L1.086 11.968l13.928 8.206 2.818-1.72 6.846 3.83v-7.958l6.56-3.955v7.977l11.48-6.385v-.029L21.73 0z" fill="#00BC7F"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M19.128 25.474v7.951L12.883 37.4V21.493l2.368-1.463-14.042-8.065-.122.004v23.833l20.816 11.932v-20.67l-2.775-1.59z" fill="#00BC7F"></path></svg></div></a><ul class="menu-items-default menu-items-align-right"><li><a href="/" data-testid="a-raw" class="nav-link g-type-body-small-strong style-menu-item "><span class="text brand-nomad">Overview</span></a></li><li><button class="dropdown-trigger g-type-body-small-strong brand-nomad style-menu-item is-collapsed "><span class="text brand-nomad">Use Cases</span><div data-testid="root"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6 9L12 15L18 9" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg></div></button><ul class="submenu-modal style-dropdown is-collapsed"><li><a href="/use-cases/simple-container-orchestration" data-testid="a-raw" class="g-type-body-small-strong style-menu-item"><span class="text brand-nomad">Simple Container Orchestration</span></a></li><li><a href="/use-cases/non-containerized-application-orchestration" data-testid="a-raw" class="g-type-body-small-strong style-menu-item"><span class="text brand-nomad">Non-Containerized Application Orchestration</span></a></li><li><a href="/use-cases/automated-service-networking-with-consul" data-testid="a-raw" class="g-type-body-small-strong style-menu-item"><span class="text brand-nomad">Automated Service Networking with Consul</span></a></li></ul></li><li><a href="https://www.hashicorp.com/products/nomad/" data-testid="a-raw" class="nav-link g-type-body-small-strong style-menu-item "><span class="text brand-nomad">Enterprise</span></a></li><span class="vertical-divider"></span><li><a href="https://learn.hashicorp.com/nomad" data-testid="a-raw" class="nav-link g-type-body-small-strong style-menu-item "><span class="text brand-nomad">Tutorials</span></a></li><li><a href="/docs" data-testid="a-raw" class="nav-link g-type-body-small-strong style-menu-item "><span class="text brand-nomad">Docs</span></a></li><li><a href="/api-docs" data-testid="a-raw" class="nav-link g-type-body-small-strong style-menu-item "><span class="text brand-nomad">API</span></a></li><li><a href="/resources" data-testid="a-raw" class="nav-link g-type-body-small-strong style-menu-item "><span class="text brand-nomad">Resources</span></a></li></ul><div class="cta-links "><a href="https://www.github.com/hashicorp/nomad" class="github-button"><span class="github"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg><span class="hidden-text">GitHub</span></span><span class="stars"><svg width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"></path></svg><span class="g-type-body-small-strong" data-testid="github-stars"><span>—</span></span></span></a><a class="g-btn size-small variant-primary background-light brand-nomad " data-ga-button="download" href="/downloads"><span class="icon at-left is-animated" data-animation="download"><div data-testid="root"><svg role="img" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 17v3a2 2 0 002 2h14a2 2 0 002-2v-3" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path data-animation-target="true" d="M8 12l4 4m0 0l4-4m-4 4V2" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div></span><span class="text g-type-buttons-and-standalone-links">Download</span></a></div></div></div></nav><div class="content banner"><div id="p-docs"><div class="content-wrap g-container"><div id="sidebar" role="complementary"><div class="nav docs-nav"><div class="g-docs-sidenav theme-nomad" data-testid="root"><div class="toggle" data-testid="mobile-menu"><span><svg width="20" height="20" fill="none" viewBox="0 0 20 20"><path fill="black" fill-rule="evenodd" d="M3.08268 14.4112C3.00768 14.3362 2.91602 14.2695 2.81602 14.2278C2.66602 14.1695 2.49935 14.1528 2.33268 14.1862C2.28268 14.1945 2.22435 14.2112 2.17435 14.2278C2.12435 14.2528 2.08268 14.2778 2.03268 14.3112C1.99018 14.3362 1.94935 14.3695 1.90768 14.4112C1.83268 14.4862 1.77435 14.5778 1.72435 14.6778C1.68268 14.7862 1.66602 14.8862 1.66602 15.0028C1.66602 15.0528 1.66602 15.1112 1.68268 15.1612C1.69102 15.2195 1.70768 15.2695 1.72435 15.3195C1.74852 15.3695 1.77435 15.4195 1.80768 15.4612C1.83268 15.5112 1.87435 15.5528 1.90768 15.5862C1.94935 15.6278 1.99018 15.6612 2.03268 15.6945C2.08268 15.7195 2.12435 15.7528 2.17435 15.7695C2.22435 15.7862 2.28268 15.8028 2.33268 15.8195C2.39102 15.8278 2.44018 15.8362 2.49935 15.8362C2.60768 15.8362 2.71602 15.8112 2.81602 15.7695C2.91602 15.7278 3.00768 15.6695 3.08268 15.5862C3.12435 15.5528 3.15768 15.5112 3.19102 15.4612C3.21602 15.4195 3.24935 15.3695 3.26602 15.3195C3.29102 15.2695 3.30768 15.2195 3.31602 15.1612C3.32435 15.1112 3.33268 15.0528 3.33268 15.0028C3.33268 14.8862 3.30768 14.7862 3.26602 14.6778C3.22435 14.5778 3.16602 14.4862 3.08268 14.4112ZM3.08268 9.41118C3.00768 9.33618 2.91602 9.26951 2.81602 9.22785C2.66602 9.16951 2.49935 9.15284 2.33268 9.18618C2.28268 9.19451 2.22435 9.21118 2.17435 9.22785C2.12435 9.25284 2.08268 9.27784 2.03268 9.31118C1.99018 9.33618 1.94935 9.36951 1.90768 9.41118C1.74852 9.56951 1.66602 9.77784 1.66602 10.0028C1.66602 10.1112 1.68268 10.2195 1.72435 10.3195C1.77435 10.4195 1.83268 10.5112 1.90768 10.5862C1.94935 10.6278 1.99018 10.6612 2.03268 10.6945C2.08268 10.7195 2.12435 10.7445 2.17435 10.7695C2.22435 10.7862 2.28268 10.8028 2.33268 10.8195C2.39102 10.8278 2.44018 10.8362 2.49935 10.8362C2.60768 10.8362 2.71602 10.8112 2.81602 10.7695C2.91602 10.7278 3.00768 10.6695 3.08268 10.5862C3.16602 10.5112 3.22435 10.4195 3.26602 10.3195C3.30768 10.2195 3.33268 10.1112 3.33268 10.0028C3.33268 9.88618 3.30768 9.78618 3.26602 9.67785C3.22435 9.57785 3.16602 9.48618 3.08268 9.41118ZM3.08268 4.41128C3.00768 4.33628 2.91602 4.26961 2.81602 4.22795C2.66602 4.16128 2.49935 4.15295 2.33268 4.18628C2.28268 4.19461 2.22435 4.21128 2.17435 4.22795C2.12435 4.25295 2.08268 4.27795 2.03268 4.31128C1.99018 4.33628 1.94935 4.36961 1.90768 4.41128C1.74852 4.56961 1.66602 4.78628 1.66602 5.00295C1.66602 5.11128 1.68268 5.21961 1.72435 5.31961C1.77435 5.41961 1.83268 5.51128 1.90768 5.58628C1.94935 5.62795 1.99018 5.66128 2.03268 5.69461C2.08268 5.71961 2.12435 5.74461 2.17435 5.76961C2.22435 5.78628 2.28268 5.80295 2.33268 5.81961C2.39102 5.82795 2.44018 5.83628 2.49935 5.83628C2.60768 5.83628 2.71602 5.81128 2.81602 5.76961C2.91602 5.72795 3.00768 5.66961 3.08268 5.58628C3.16602 5.51128 3.22435 5.41961 3.26602 5.31961C3.30768 5.21961 3.33268 5.11128 3.33268 5.00295C3.33268 4.89461 3.30768 4.78628 3.26602 4.67795C3.22435 4.57795 3.16602 4.48628 3.08268 4.41128ZM17.4967 14.167H6.66341C6.20258 14.167 5.83008 14.5395 5.83008 15.0003C5.83008 15.4603 6.20258 15.8337 6.66341 15.8337H17.4967C17.9576 15.8337 18.3301 15.4603 18.3301 15.0003C18.3301 14.5395 17.9576 14.167 17.4967 14.167ZM17.4967 9.16699H6.66341C6.20258 9.16699 5.83008 9.53949 5.83008 10.0003C5.83008 10.4603 6.20258 10.8337 6.66341 10.8337H17.4967C17.9576 10.8337 18.3301 10.4603 18.3301 10.0003C18.3301 9.53949 17.9576 9.16699 17.4967 9.16699ZM18.3301 5.00033C18.3301 5.46033 17.9576 5.83366 17.4967 5.83366H6.66341C6.20258 5.83366 5.83008 5.46033 5.83008 5.00033C5.83008 4.53949 6.20258 4.16699 6.66341 4.16699H17.4967C17.9576 4.16699 18.3301 4.53949 18.3301 5.00033Z" clip-rule="evenodd"></path></svg> Documentation Menu</span></div><ul class="nav docs-nav"><div class="mobile-close">×</div><li class="" data-testid="/api-docs/index"><a data-testid="a" href="/api-docs/index">HTTP API Overview</a></li><hr/><li class="" data-testid="/api-docs/libraries-and-sdks"><a data-testid="a" href="/api-docs/libraries-and-sdks">Libraries &amp; SDKs</a></li><li class="" data-testid="/api-docs/json-jobs"><a data-testid="a" href="/api-docs/json-jobs">JSON Jobs</a></li><hr/><li class="" data-testid="/api-docs/acl-policies"><a data-testid="a" href="/api-docs/acl-policies">ACL Policies</a></li><li class="" data-testid="/api-docs/acl-tokens"><a data-testid="a" href="/api-docs/acl-tokens">ACL Tokens</a></li><li class="" data-testid="/api-docs/agent"><a data-testid="a" href="/api-docs/agent">Agent</a></li><li class="" data-testid="/api-docs/allocations"><a data-testid="a" href="/api-docs/allocations">Allocations</a></li><li class="" data-testid="/api-docs/client"><a data-testid="a" href="/api-docs/client">Client</a></li><li class="" data-testid="/api-docs/deployments"><a data-testid="a" href="/api-docs/deployments">Deployments</a></li><li class="" data-testid="/api-docs/evaluations"><a data-testid="a" href="/api-docs/evaluations">Evaluations</a></li><li class="" data-testid="/api-docs/jobs"><a data-testid="a" href="/api-docs/jobs">Jobs</a></li><li class="" data-testid="/api-docs/namespaces"><a data-testid="a" href="/api-docs/namespaces">Namespaces</a></li><li class="" data-testid="/api-docs/nodes"><a data-testid="a" href="/api-docs/nodes">Nodes</a></li><li class="" data-testid="/api-docs/metrics"><a data-testid="a" href="/api-docs/metrics">Metrics</a></li><li class="active " data-testid="/api-docs/operator"><a data-testid="a" href="/api-docs/operator">Operator</a></li><li class="" data-testid="/api-docs/plugins"><a data-testid="a" href="/api-docs/plugins">Plugins</a></li><li class="" data-testid="/api-docs/quotas"><a data-testid="a" href="/api-docs/quotas">Quotas</a></li><li class="" data-testid="/api-docs/regions"><a data-testid="a" href="/api-docs/regions">Regions</a></li><li class="" data-testid="/api-docs/scaling-policies"><a data-testid="a" href="/api-docs/scaling-policies">Scaling Policies <sup>Beta</sup></a></li><li class="" data-testid="/api-docs/search"><a data-testid="a" href="/api-docs/search">Search</a></li><li class="" data-testid="/api-docs/sentinel-policies"><a data-testid="a" href="/api-docs/sentinel-policies">Sentinel Policies</a></li><li class="" data-testid="/api-docs/status"><a data-testid="a" href="/api-docs/status">Status</a></li><li class="" data-testid="/api-docs/system"><a data-testid="a" href="/api-docs/system">System</a></li><li class="" data-testid="/api-docs/ui"><a data-testid="a" href="/api-docs/ui">UI</a></li><li class="" data-testid="/api-docs/validate"><a data-testid="a" href="/api-docs/validate">Validate</a></li><li class="" data-testid="/api-docs/volumes"><a data-testid="a" href="/api-docs/volumes">Volumes</a></li></ul></div></div></div><div id="inner" role="main"><article class="g-content g-type-long-body nomad"><div class="g-search"><div class="c-search-box"><form novalidate="" action="" role="search"><input type="search" class="g-type-body-strong" placeholder="Search Nomad documentation" autoComplete="off" autoCorrect="off" autoCapitalize="off" spellcheck="false" maxLength="512" required="" value=""/><button type="submit" title="Submit your search query." class="btn-submit"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M8.75 15a6.25 6.25 0 100-12.5 6.25 6.25 0 000 12.5z" stroke="#76767d" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M17.5 17.5l-4.333-4.333" stroke="#76767d" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></button><button type="reset" title="Clear the search query." class="btn-reset"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.915 1.077h13.684v13.684H1.915z"/><path d="M1.915 1.077l13.683 13.684M1.915 14.76L15.598 1.078" stroke="#76767D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button><div class="icon-loading"><svg width="18" height="18" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="#444"><g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18" transform="rotate(296.263 18 18)"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g></svg></div><svg class="icon-slash" width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="img"><title>Type &#x27;/&#x27; to Search</title><rect x=".5" y=".5" width="23" height="23" rx=".5" stroke="#76767D"></rect><path d="M9 18l6-12" stroke="#76767D" stroke-width="1.5"></path></svg></form></div></div><h1 class="g-type-display-2"><a class="__permalink-h" href="#v1-operator" aria-label="v1 operator permalink">»</a><a class="__target-h" id="v1-operator" aria-hidden=""></a>/v1/operator</h1><p>The <code>/operator</code> endpoint provides cluster-level tools for Nomad operators, such
as interacting with the Raft subsystem.</p><div class="alert alert-warning g-type-body" role="alert"><p>Use this interface with extreme caution, as improper use could lead to a
Nomad outage and even loss of data.</p></div><p>See the <a href="https://learn.hashicorp.com/nomad/operating-nomad/outage">Outage Recovery</a> guide for some examples of how
these capabilities are used. For a CLI to perform these operations manually,
please see the documentation for the
<a href="/docs/commands/operator"><code>nomad operator</code></a> command.</p><h2 class="g-type-display-3"><a class="__permalink-h" href="#read-raft-configuration" aria-label="read raft configuration permalink">»</a><a class="__target-h" id="read-raft-configuration" aria-hidden=""></a>Read Raft Configuration</h2><p>This endpoint queries the status of a client node registered with Nomad.</p><table><thead><tr><th>Method</th><th>Path</th><th>Produces</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/v1/operator/raft/configuration</code></td><td><code>application/json</code></td></tr></tbody></table><p>The table below shows this endpoint&#x27;s support for
<a href="/api-docs#blocking-queries">blocking queries</a> and
<a href="/api-docs#acls">required ACLs</a>.</p><table><thead><tr><th>Blocking Queries</th><th>ACL Required</th></tr></thead><tbody><tr><td><code>NO</code></td><td><code>management</code></td></tr></tbody></table><h3 class="g-type-display-4"><a class="__permalink-h" href="#parameters" aria-label="parameters permalink">»</a><a class="__target-h" id="parameters" aria-hidden=""></a>Parameters</h3><ul><li class="g-type-long-body"><a id="stale" class="__target-lic" aria-hidden=""></a><a href="#stale" aria-label="stale permalink" class="__permalink-lic"><code>stale</code></a> - Specifies if the cluster should respond without an active leader.
This is specified as a query string parameter.</li></ul><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-request" aria-label="sample request permalink">»</a><a class="__target-h" id="sample-request" aria-hidden=""></a>Sample Request</h3><pre class="language-shell-session"><code class="language-shell-session"><span class="token command"><span class="token sh important">$</span> <span class="token bash language-bash"><span class="token function">curl</span> <span class="token punctuation">\</span></span></span>
<span class="token output">    https://localhost:4646/v1/operator/raft/configuration
</span></code></pre><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-response" aria-label="sample response permalink">»</a><a class="__target-h" id="sample-response" aria-hidden=""></a>Sample Response</h3><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;Index&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;Servers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;Address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1:4647&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1:4647&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Leader&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bacon-mac.global&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;RaftProtocol&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Voter&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h4 class="g-type-display-5"><a class="__permalink-h" href="#field-reference" aria-label="field reference permalink">»</a><a class="__target-h" id="field-reference" aria-hidden=""></a>Field Reference</h4><ul><li class="g-type-long-body"><a id="index" class="__target-lic" aria-hidden=""></a><p><a href="#index" aria-label="index permalink" class="__permalink-lic"><code>Index</code></a> <code>(int)</code> - The <code>Index</code> value is the Raft corresponding to this
configuration. The latest configuration may not yet be committed if changes
are in flight.</p></li><li class="g-type-long-body"><a id="servers" class="__target-lic" aria-hidden=""></a><p><a href="#servers" aria-label="servers permalink" class="__permalink-lic"><code>Servers</code></a> <code>(array: Server)</code> - The returned <code>Servers</code> array has information
about the servers in the Raft peer configuration.</p><ul><li class="g-type-long-body"><a id="id" class="__target-lic" aria-hidden=""></a><p><a href="#id" aria-label="id permalink" class="__permalink-lic"><code>ID</code></a> <code>(string)</code> - The ID of the server. This is the same as the <code>Address</code>
but may be upgraded to a GUID in a future version of Nomad.</p></li><li class="g-type-long-body"><a id="node" class="__target-lic" aria-hidden=""></a><p><a href="#node" aria-label="node permalink" class="__permalink-lic"><code>Node</code></a> <code>(string)</code> - The node name of the server, as known to Nomad, or
<code>&quot;(unknown)&quot;</code> if the node is stale and not known.</p></li><li class="g-type-long-body"><a id="address" class="__target-lic" aria-hidden=""></a><p><a href="#address" aria-label="address permalink" class="__permalink-lic"><code>Address</code></a> <code>(string)</code> - The <code>ip:port</code> for the server.</p></li><li class="g-type-long-body"><a id="leader" class="__target-lic" aria-hidden=""></a><p><a href="#leader" aria-label="leader permalink" class="__permalink-lic"><code>Leader</code></a> <code>(bool)</code> - is either &quot;true&quot; or &quot;false&quot; depending on the server&#x27;s
role in the Raft configuration.</p></li><li class="g-type-long-body"><a id="voter" class="__target-lic" aria-hidden=""></a><p><a href="#voter" aria-label="voter permalink" class="__permalink-lic"><code>Voter</code></a> <code>(bool)</code> - is &quot;true&quot; or &quot;false&quot;, indicating if the server has a vote
in the Raft configuration. Future versions of Nomad may add support for
non-voting servers.</p></li></ul></li></ul><h2 class="g-type-display-3"><a class="__permalink-h" href="#remove-raft-peer" aria-label="remove raft peer permalink">»</a><a class="__target-h" id="remove-raft-peer" aria-hidden=""></a>Remove Raft Peer</h2><p>This endpoint removes a Nomad server with given address from the Raft
configuration. The return code signifies success or failure.</p><table><thead><tr><th>Method</th><th>Path</th><th>Produces</th></tr></thead><tbody><tr><td><code>DELETE</code></td><td><code>/v1/operator/raft/peer</code></td><td><code>application/json</code></td></tr></tbody></table><p>The table below shows this endpoint&#x27;s support for
<a href="/api-docs#blocking-queries">blocking queries</a> and
<a href="/api-docs#acls">required ACLs</a>.</p><table><thead><tr><th>Blocking Queries</th><th>ACL Required</th></tr></thead><tbody><tr><td><code>NO</code></td><td><code>management</code></td></tr></tbody></table><h3 class="g-type-display-4"><a class="__permalink-h" href="#parameters-1" aria-label="parameters permalink">»</a><a class="__target-h" id="parameters-1" aria-hidden=""></a>Parameters</h3><ul><li class="g-type-long-body"><a id="address-1" class="__target-lic" aria-hidden=""></a><p><a href="#address-1" aria-label="address permalink" class="__permalink-lic"><code>address</code></a> <code>(string: &lt;optional&gt;)</code> - Specifies the server to remove as
<code>ip:port</code>. This cannot be provided along with the <code>id</code> parameter.</p></li><li class="g-type-long-body"><a id="id-1" class="__target-lic" aria-hidden=""></a><p><a href="#id-1" aria-label="id permalink" class="__permalink-lic"><code>id</code></a> <code>(string: &lt;optional&gt;)</code> - Specifies the server to remove as
<code>id</code>. This cannot be provided along with the <code>address</code> parameter.</p></li></ul><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-request-1" aria-label="sample request permalink">»</a><a class="__target-h" id="sample-request-1" aria-hidden=""></a>Sample Request</h3><pre class="language-shell-session"><code class="language-shell-session"><span class="token command"><span class="token sh important">$</span> <span class="token bash language-bash"><span class="token function">curl</span> <span class="token punctuation">\</span></span></span>
<span class="token output">    --request DELETE \
    https://localhost:4646/v1/operator/raft/peer?address=1.2.3.4
</span></code></pre><h2 class="g-type-display-3"><a class="__permalink-h" href="#read-autopilot-configuration" aria-label="read autopilot configuration permalink">»</a><a class="__target-h" id="read-autopilot-configuration" aria-hidden=""></a>Read Autopilot Configuration</h2><p>This endpoint retrieves its latest Autopilot configuration.</p><table><thead><tr><th>Method</th><th>Path</th><th>Produces</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/v1/operator/autopilot/configuration</code></td><td><code>application/json</code></td></tr></tbody></table><p>The table below shows this endpoint&#x27;s support for
<a href="/api-docs#blocking-queries">blocking queries</a> and
<a href="/api-docs#acls">required ACLs</a>.</p><table><thead><tr><th>Blocking Queries</th><th>ACL Required</th></tr></thead><tbody><tr><td><code>NO</code></td><td><code>operator:read</code></td></tr></tbody></table><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-request-2" aria-label="sample request permalink">»</a><a class="__target-h" id="sample-request-2" aria-hidden=""></a>Sample Request</h3><pre class="language-shell-session"><code class="language-shell-session"><span class="token command"><span class="token sh important">$</span> <span class="token bash language-bash"><span class="token function">curl</span> <span class="token punctuation">\</span></span></span>
<span class="token output">    https://localhost:4646/v1/operator/autopilot/configuration
</span></code></pre><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-response-1" aria-label="sample response permalink">»</a><a class="__target-h" id="sample-response-1" aria-hidden=""></a>Sample Response</h3><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;CleanupDeadServers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;LastContactThreshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;200ms&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;MaxTrailingLogs&quot;</span><span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ServerStabilizationTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10s&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;EnableRedundancyZones&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;DisableUpgradeMigration&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;EnableCustomUpgrades&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;CreateIndex&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ModifyIndex&quot;</span><span class="token operator">:</span> <span class="token number">4</span>
<span class="token punctuation">}</span>
</code></pre><p>For more information about the Autopilot configuration options, see the
<a href="/docs/configuration/autopilot">agent configuration section</a>.</p><h2 class="g-type-display-3"><a class="__permalink-h" href="#update-autopilot-configuration" aria-label="update autopilot configuration permalink">»</a><a class="__target-h" id="update-autopilot-configuration" aria-hidden=""></a>Update Autopilot Configuration</h2><p>This endpoint updates the Autopilot configuration of the cluster.</p><table><thead><tr><th>Method</th><th>Path</th><th>Produces</th></tr></thead><tbody><tr><td><code>PUT</code></td><td><code>/v1/operator/autopilot/configuration</code></td><td><code>application/json</code></td></tr></tbody></table><p>The table below shows this endpoint&#x27;s support for
<a href="/api-docs#blocking-queries">blocking queries</a> and
<a href="/api-docs#acls">required ACLs</a>.</p><table><thead><tr><th>Blocking Queries</th><th>ACL Required</th></tr></thead><tbody><tr><td><code>NO</code></td><td><code>operator:write</code></td></tr></tbody></table><h3 class="g-type-display-4"><a class="__permalink-h" href="#parameters-2" aria-label="parameters permalink">»</a><a class="__target-h" id="parameters-2" aria-hidden=""></a>Parameters</h3><ul><li class="g-type-long-body"><a id="cas" class="__target-lic" aria-hidden=""></a><a href="#cas" aria-label="cas permalink" class="__permalink-lic"><code>cas</code></a> <code>(int: 0)</code> - Specifies to use a Check-And-Set operation. The update will
only happen if the given index matches the <code>ModifyIndex</code> of the configuration
at the time of writing.</li></ul><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-payload" aria-label="sample payload permalink">»</a><a class="__target-h" id="sample-payload" aria-hidden=""></a>Sample Payload</h3><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;CleanupDeadServers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;LastContactThreshold&quot;</span><span class="token operator">:</span> <span class="token string">&quot;200ms&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;MaxTrailingLogs&quot;</span><span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ServerStabilizationTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10s&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;EnableRedundancyZones&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;DisableUpgradeMigration&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;EnableCustomUpgrades&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;CreateIndex&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ModifyIndex&quot;</span><span class="token operator">:</span> <span class="token number">4</span>
<span class="token punctuation">}</span>
</code></pre><ul><li class="g-type-long-body"><a id="cleanupdeadservers" class="__target-lic" aria-hidden=""></a><p><a href="#cleanupdeadservers" aria-label="cleanupdeadservers permalink" class="__permalink-lic"><code>CleanupDeadServers</code></a> <code>(bool: true)</code> - Specifies automatic removal of dead
server nodes periodically and whenever a new server is added to the cluster.</p></li><li class="g-type-long-body"><a id="lastcontactthreshold" class="__target-lic" aria-hidden=""></a><p><a href="#lastcontactthreshold" aria-label="lastcontactthreshold permalink" class="__permalink-lic"><code>LastContactThreshold</code></a> <code>(string: &quot;200ms&quot;)</code> - Specifies the maximum amount of
time a server can go without contact from the leader before being considered
unhealthy. Must be a duration value such as <code>10s</code>.</p></li><li class="g-type-long-body"><a id="maxtrailinglogs" class="__target-lic" aria-hidden=""></a><p><a href="#maxtrailinglogs" aria-label="maxtrailinglogs permalink" class="__permalink-lic"><code>MaxTrailingLogs</code></a> <code>(int: 250)</code> specifies the maximum number of log entries
that a server can trail the leader by before being considered unhealthy.</p></li><li class="g-type-long-body"><a id="serverstabilizationtime" class="__target-lic" aria-hidden=""></a><p><a href="#serverstabilizationtime" aria-label="serverstabilizationtime permalink" class="__permalink-lic"><code>ServerStabilizationTime</code></a> <code>(string: &quot;10s&quot;)</code> - Specifies the minimum amount of
time a server must be stable in the &#x27;healthy&#x27; state before being added to the
cluster. Only takes effect if all servers are running Raft protocol version 3
or higher. Must be a duration value such as <code>30s</code>.</p></li><li class="g-type-long-body"><a id="enableredundancyzones" class="__target-lic" aria-hidden=""></a><p><a href="#enableredundancyzones" aria-label="enableredundancyzones permalink" class="__permalink-lic"><code>EnableRedundancyZones</code></a> <code>(bool: false)</code> - (Enterprise-only) Specifies whether
to enable redundancy zones.</p></li><li class="g-type-long-body"><a id="disableupgrademigration" class="__target-lic" aria-hidden=""></a><p><a href="#disableupgrademigration" aria-label="disableupgrademigration permalink" class="__permalink-lic"><code>DisableUpgradeMigration</code></a> <code>(bool: false)</code> - (Enterprise-only) Disables Autopilot&#x27;s
upgrade migration strategy in Nomad Enterprise of waiting until enough
newer-versioned servers have been added to the cluster before promoting any of
them to voters.</p></li><li class="g-type-long-body"><a id="enablecustomupgrades" class="__target-lic" aria-hidden=""></a><p><a href="#enablecustomupgrades" aria-label="enablecustomupgrades permalink" class="__permalink-lic"><code>EnableCustomUpgrades</code></a> <code>(bool: false)</code> - (Enterprise-only) Specifies whether to
enable using custom upgrade versions when performing migrations.</p></li></ul><h2 class="g-type-display-3"><a class="__permalink-h" href="#read-health" aria-label="read health permalink">»</a><a class="__target-h" id="read-health" aria-hidden=""></a>Read Health</h2><p>This endpoint queries the health of the autopilot status.</p><table><thead><tr><th>Method</th><th>Path</th><th>Produces</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/v1/operator/autopilot/health</code></td><td><code>application/json</code></td></tr></tbody></table><p>The table below shows this endpoint&#x27;s support for
<a href="/api-docs#blocking-queries">blocking queries</a> and
<a href="/api-docs#acls">required ACLs</a>.</p><table><thead><tr><th>Blocking Queries</th><th>ACL Required</th></tr></thead><tbody><tr><td><code>NO</code></td><td><code>operator:read</code></td></tr></tbody></table><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-request-3" aria-label="sample request permalink">»</a><a class="__target-h" id="sample-request-3" aria-hidden=""></a>Sample Request</h3><pre class="language-shell-session"><code class="language-shell-session"><span class="token command"><span class="token sh important">$</span> <span class="token bash language-bash"><span class="token function">curl</span> <span class="token punctuation">\</span></span></span>
<span class="token output">    https://localhost:4646/v1/operator/autopilot/health
</span></code></pre><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-response-2" aria-label="sample response permalink">»</a><a class="__target-h" id="sample-response-2" aria-hidden=""></a>Sample response</h3><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;Healthy&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;FailureTolerance&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;Servers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;ID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e349749b-3303-3ddf-959c-b5885a0e1f6e&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1:8300&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;SerfStatus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;alive&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.8.0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Leader&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;LastContact&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0s&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;LastTerm&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">&quot;LastIndex&quot;</span><span class="token operator">:</span> <span class="token number">46</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Healthy&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Voter&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;StableSince&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-03-06T22:07:51Z&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;ID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e36ee410-cc3c-0a0c-c724-63817ab30303&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node2&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1:8205&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;SerfStatus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;alive&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.8.0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Leader&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;LastContact&quot;</span><span class="token operator">:</span> <span class="token string">&quot;27.291304ms&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;LastTerm&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">&quot;LastIndex&quot;</span><span class="token operator">:</span> <span class="token number">46</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Healthy&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Voter&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;StableSince&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2017-03-06T22:18:26Z&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><ul><li class="g-type-long-body"><a id="healthy" class="__target-lic" aria-hidden=""></a><p><a href="#healthy" aria-label="healthy permalink" class="__permalink-lic"><code>Healthy</code></a> is whether all the servers are currently healthy.</p></li><li class="g-type-long-body"><a id="failuretolerance" class="__target-lic" aria-hidden=""></a><p><a href="#failuretolerance" aria-label="failuretolerance permalink" class="__permalink-lic"><code>FailureTolerance</code></a> is the number of redundant healthy servers that could be
fail without causing an outage (this would be 2 in a healthy cluster of 5
servers).</p></li><li class="g-type-long-body"><a id="servers-1" class="__target-lic" aria-hidden=""></a><p><a href="#servers-1" aria-label="servers permalink" class="__permalink-lic"><code>Servers</code></a> holds detailed health information on each server:</p><ul><li class="g-type-long-body"><a id="id-2" class="__target-lic" aria-hidden=""></a><p><a href="#id-2" aria-label="id permalink" class="__permalink-lic"><code>ID</code></a> is the Raft ID of the server.</p></li><li class="g-type-long-body"><a id="name" class="__target-lic" aria-hidden=""></a><p><a href="#name" aria-label="name permalink" class="__permalink-lic"><code>Name</code></a> is the node name of the server.</p></li><li class="g-type-long-body"><a id="address-2" class="__target-lic" aria-hidden=""></a><p><a href="#address-2" aria-label="address permalink" class="__permalink-lic"><code>Address</code></a> is the address of the server.</p></li><li class="g-type-long-body"><a id="serfstatus" class="__target-lic" aria-hidden=""></a><p><a href="#serfstatus" aria-label="serfstatus permalink" class="__permalink-lic"><code>SerfStatus</code></a> is the SerfHealth check status for the server.</p></li><li class="g-type-long-body"><a id="version" class="__target-lic" aria-hidden=""></a><p><a href="#version" aria-label="version permalink" class="__permalink-lic"><code>Version</code></a> is the Nomad version of the server.</p></li><li class="g-type-long-body"><a id="leader-1" class="__target-lic" aria-hidden=""></a><p><a href="#leader-1" aria-label="leader permalink" class="__permalink-lic"><code>Leader</code></a> is whether this server is currently the leader.</p></li><li class="g-type-long-body"><a id="lastcontact" class="__target-lic" aria-hidden=""></a><p><a href="#lastcontact" aria-label="lastcontact permalink" class="__permalink-lic"><code>LastContact</code></a> is the time elapsed since this server&#x27;s last contact with the leader.</p></li><li class="g-type-long-body"><a id="lastterm" class="__target-lic" aria-hidden=""></a><p><a href="#lastterm" aria-label="lastterm permalink" class="__permalink-lic"><code>LastTerm</code></a> is the server&#x27;s last known Raft leader term.</p></li><li class="g-type-long-body"><a id="lastindex" class="__target-lic" aria-hidden=""></a><p><a href="#lastindex" aria-label="lastindex permalink" class="__permalink-lic"><code>LastIndex</code></a> is the index of the server&#x27;s last committed Raft log entry.</p></li><li class="g-type-long-body"><a id="healthy-1" class="__target-lic" aria-hidden=""></a><p><a href="#healthy-1" aria-label="healthy permalink" class="__permalink-lic"><code>Healthy</code></a> is whether the server is healthy according to the current Autopilot configuration.</p></li><li class="g-type-long-body"><a id="voter-1" class="__target-lic" aria-hidden=""></a><p><a href="#voter-1" aria-label="voter permalink" class="__permalink-lic"><code>Voter</code></a> is whether the server is a voting member of the Raft cluster.</p></li><li class="g-type-long-body"><a id="stablesince" class="__target-lic" aria-hidden=""></a><p><a href="#stablesince" aria-label="stablesince permalink" class="__permalink-lic"><code>StableSince</code></a> is the time this server has been in its current <code>Healthy</code> state.</p></li></ul><p>The HTTP status code will indicate the health of the cluster. If <code>Healthy</code> is true, then a
status of 200 will be returned. If <code>Healthy</code> is false, then a status of 429 will be returned.</p></li></ul><h2 class="g-type-display-3"><a class="__permalink-h" href="#read-scheduler-configuration" aria-label="read scheduler configuration permalink">»</a><a class="__target-h" id="read-scheduler-configuration" aria-hidden=""></a>Read Scheduler Configuration</h2><p>This endpoint retrieves the latest Scheduler configuration. This API was introduced in
Nomad 0.9 and currently supports enabling/disabling preemption. More options may be added in
the future.</p><table><thead><tr><th>Method</th><th>Path</th><th>Produces</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/v1/operator/scheduler/configuration</code></td><td><code>application/json</code></td></tr></tbody></table><p>The table below shows this endpoint&#x27;s support for
<a href="/api-docs#blocking-queries">blocking queries</a> and
<a href="/api-docs#acls">required ACLs</a>.</p><table><thead><tr><th>Blocking Queries</th><th>ACL Required</th></tr></thead><tbody><tr><td><code>NO</code></td><td><code>operator:read</code></td></tr></tbody></table><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-request-4" aria-label="sample request permalink">»</a><a class="__target-h" id="sample-request-4" aria-hidden=""></a>Sample Request</h3><pre class="language-shell-session"><code class="language-shell-session"><span class="token command"><span class="token sh important">$</span> <span class="token bash language-bash"><span class="token function">curl</span> <span class="token punctuation">\</span></span></span>
<span class="token output">    https://localhost:4646/v1/operator/scheduler/configuration
</span></code></pre><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-response-3" aria-label="sample response permalink">»</a><a class="__target-h" id="sample-response-3" aria-hidden=""></a>Sample Response</h3><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;Index&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;KnownLeader&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;LastContact&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;SchedulerConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;CreateIndex&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ModifyIndex&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;SchedulerAlgorithm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spread&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;PreemptionConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;SystemSchedulerEnabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;BatchSchedulerEnabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ServiceSchedulerEnabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h4 class="g-type-display-5"><a class="__permalink-h" href="#field-reference-1" aria-label="field reference permalink">»</a><a class="__target-h" id="field-reference-1" aria-hidden=""></a>Field Reference</h4><ul><li class="g-type-long-body"><a id="index-1" class="__target-lic" aria-hidden=""></a><p><a href="#index-1" aria-label="index permalink" class="__permalink-lic"><code>Index</code></a> <code>(int)</code> - The <code>Index</code> value is the Raft commit index corresponding to this
configuration.</p></li><li class="g-type-long-body"><a id="schedulerconfig" class="__target-lic" aria-hidden=""></a><p><a href="#schedulerconfig" aria-label="schedulerconfig permalink" class="__permalink-lic"><code>SchedulerConfig</code></a> <code>(SchedulerConfig)</code> - The returned <code>SchedulerConfig</code> object has configuration
settings mentioned below.</p><ul><li class="g-type-long-body"><a id="scheduleralgorithm" class="__target-lic" aria-hidden=""></a><p><a href="#scheduleralgorithm" aria-label="scheduleralgorithm permalink" class="__permalink-lic"><code>SchedulerAlgorithm</code></a> <code>(string: &quot;binpack&quot;)</code> - Specifies whether scheduler binpacks or spreads allocations on available nodes.</p></li><li class="g-type-long-body"><a id="preemptionconfig" class="__target-lic" aria-hidden=""></a><p><a href="#preemptionconfig" aria-label="preemptionconfig permalink" class="__permalink-lic"><code>PreemptionConfig</code></a> <code>(PreemptionConfig)</code> - Options to enable preemption for various schedulers.</p><ul><li class="g-type-long-body"><a id="systemschedulerenabled" class="__target-lic" aria-hidden=""></a><p><a href="#systemschedulerenabled" aria-label="systemschedulerenabled permalink" class="__permalink-lic"><code>SystemSchedulerEnabled</code></a> <code>(bool: true)</code> - Specifies whether preemption for system jobs is enabled. Note that
this defaults to true.</p></li><li class="g-type-long-body"><a id="batchschedulerenabled" class="__target-lic" aria-hidden=""></a><p><a href="#batchschedulerenabled" aria-label="batchschedulerenabled permalink" class="__permalink-lic"><code>BatchSchedulerEnabled</code></a> <code>(bool: false)</code> - Specifies whether preemption for batch jobs is enabled. Note that
this defaults to false and must be explicitly enabled.</p></li><li class="g-type-long-body"><a id="serviceschedulerenabled" class="__target-lic" aria-hidden=""></a><p><a href="#serviceschedulerenabled" aria-label="serviceschedulerenabled permalink" class="__permalink-lic"><code>ServiceSchedulerEnabled</code></a> <code>(bool: false)</code> - Specifies whether preemption for service jobs is enabled. Note that
this defaults to false and must be explicitly enabled.</p></li></ul></li><li class="g-type-long-body"><a id="createindex" class="__target-lic" aria-hidden=""></a><p><a href="#createindex" aria-label="createindex permalink" class="__permalink-lic"><code>CreateIndex</code></a> - The Raft index at which the config was created.</p></li><li class="g-type-long-body"><a id="modifyindex" class="__target-lic" aria-hidden=""></a><p><a href="#modifyindex" aria-label="modifyindex permalink" class="__permalink-lic"><code>ModifyIndex</code></a> - The Raft index at which the config was modified.</p></li></ul></li></ul><h2 class="g-type-display-3"><a class="__permalink-h" href="#update-scheduler-configuration" aria-label="update scheduler configuration permalink">»</a><a class="__target-h" id="update-scheduler-configuration" aria-hidden=""></a>Update Scheduler Configuration</h2><p>This endpoint updates the scheduler configuration of the cluster.</p><table><thead><tr><th>Method</th><th>Path</th><th>Produces</th></tr></thead><tbody><tr><td><code>PUT</code>, <code>POST</code></td><td><code>/v1/operator/scheduler/configuration</code></td><td><code>application/json</code></td></tr></tbody></table><p>The table below shows this endpoint&#x27;s support for
<a href="/api-docs#blocking-queries">blocking queries</a> and
<a href="/api-docs#acls">required ACLs</a>.</p><table><thead><tr><th>Blocking Queries</th><th>ACL Required</th></tr></thead><tbody><tr><td><code>NO</code></td><td><code>operator:write</code></td></tr></tbody></table><h3 class="g-type-display-4"><a class="__permalink-h" href="#bootstrap-configuration-element" aria-label="bootstrap configuration element permalink">»</a><a class="__target-h" id="bootstrap-configuration-element" aria-hidden=""></a>Bootstrap Configuration Element</h3><p>The <a href="/docs/configuration/server#default_scheduler_config"><code>default_scheduler_config</code></a> attribute of the server stanza will provide a
starting value for this configuration. Once bootstrapped, the value in the
server state is authoritative.</p><h3 class="g-type-display-4"><a class="__permalink-h" href="#parameters-3" aria-label="parameters permalink">»</a><a class="__target-h" id="parameters-3" aria-hidden=""></a>Parameters</h3><ul><li class="g-type-long-body"><a id="cas-1" class="__target-lic" aria-hidden=""></a><a href="#cas-1" aria-label="cas permalink" class="__permalink-lic"><code>cas</code></a> <code>(int: 0)</code> - Specifies to use a Check-And-Set operation. The update will
only happen if the given index matches the <code>ModifyIndex</code> of the configuration
at the time of writing.</li></ul><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-payload-1" aria-label="sample payload permalink">»</a><a class="__target-h" id="sample-payload-1" aria-hidden=""></a>Sample Payload</h3><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;SchedulerAlgorithm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spread&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;PreemptionConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;SystemSchedulerEnabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;BatchSchedulerEnabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ServiceSchedulerEnabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><ul><li class="g-type-long-body"><a id="scheduleralgorithm-1" class="__target-lic" aria-hidden=""></a><p><a href="#scheduleralgorithm-1" aria-label="scheduleralgorithm permalink" class="__permalink-lic"><code>SchedulerAlgorithm</code></a> <code>(string: &quot;binpack&quot;)</code> - Specifies whether scheduler
binpacks or spreads allocations on available nodes.  Possible values are
<code>&quot;binpack&quot;</code> and <code>&quot;spread&quot;</code></p></li><li class="g-type-long-body"><a id="preemptionconfig-1" class="__target-lic" aria-hidden=""></a><p><a href="#preemptionconfig-1" aria-label="preemptionconfig permalink" class="__permalink-lic"><code>PreemptionConfig</code></a> <code>(PreemptionConfig)</code> - Options to enable preemption for
various schedulers.</p><ul><li class="g-type-long-body"><a id="systemschedulerenabled-1" class="__target-lic" aria-hidden=""></a><p><a href="#systemschedulerenabled-1" aria-label="systemschedulerenabled permalink" class="__permalink-lic"><code>SystemSchedulerEnabled</code></a> <code>(bool: true)</code> - Specifies whether preemption for
system jobs is enabled. Note that if this is set to true, then system jobs
can preempt any other jobs.</p></li><li class="g-type-long-body"><a id="batchschedulerenabled-1" class="__target-lic" aria-hidden=""></a><p><a href="#batchschedulerenabled-1" aria-label="batchschedulerenabled permalink" class="__permalink-lic"><code>BatchSchedulerEnabled</code></a> <code>(bool: false)</code> - Specifies
whether preemption for batch jobs is enabled. Note that if this is set to
true, then batch jobs can preempt any other jobs.</p></li><li class="g-type-long-body"><a id="serviceschedulerenabled-1" class="__target-lic" aria-hidden=""></a><p><a href="#serviceschedulerenabled-1" aria-label="serviceschedulerenabled permalink" class="__permalink-lic"><code>ServiceSchedulerEnabled</code></a> <code>(bool: false)</code> - Specifies
whether preemption for service jobs is enabled. Note that if this is set to
true, then service jobs can preempt any other jobs.</p></li></ul></li></ul><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-response-4" aria-label="sample response permalink">»</a><a class="__target-h" id="sample-response-4" aria-hidden=""></a>Sample Response</h3><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;Updated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;Index&quot;</span><span class="token operator">:</span> <span class="token number">15</span>
<span class="token punctuation">}</span>
</code></pre><ul><li class="g-type-long-body"><a id="updated" class="__target-lic" aria-hidden=""></a><p><a href="#updated" aria-label="updated permalink" class="__permalink-lic"><code>Updated</code></a> - Indicates that the configuration was updated when a <code>cas</code> value is
provided. For non-CAS requests, this field will be false even though the
update is applied.</p></li><li class="g-type-long-body"><a id="index-2" class="__target-lic" aria-hidden=""></a><p><a href="#index-2" aria-label="index permalink" class="__permalink-lic"><code>Index</code></a> - Current Raft index when the request was received.</p></li></ul><h2 class="g-type-display-3"><a class="__permalink-h" href="#get-nomad-enterprise-license-info" aria-label="get nomad enterprise license info permalink">»</a><a class="__target-h" id="get-nomad-enterprise-license-info" aria-hidden=""></a>Get Nomad Enterprise License Info</h2><p>This endpoint gets information about the current license.</p><table><thead><tr><th>Method</th><th>Path</th><th>Produces</th></tr></thead><tbody><tr><td><code>GET</code></td><td><code>/v1/operator/license</code></td><td><code>application/json</code></td></tr></tbody></table><p>The table below shows this endpoint&#x27;s support for
<a href="/api-docs#blocking-queries">blocking queries</a> and
<a href="/api-docs#acls">required ACLs</a>.</p><table><thead><tr><th>Blocking Queries</th><th>ACL Required</th></tr></thead><tbody><tr><td><code>NO</code></td><td><code>operator:read</code></td></tr></tbody></table><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-request-5" aria-label="sample request permalink">»</a><a class="__target-h" id="sample-request-5" aria-hidden=""></a>Sample Request</h3><pre class="language-shell-session"><code class="language-shell-session"><span class="token command"><span class="token sh important">$</span> <span class="token bash language-bash"><span class="token function">curl</span> <span class="token punctuation">\</span></span></span>
<span class="token output">    https://localhost:4646/v1/operator/license
</span></code></pre><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-response-5" aria-label="sample response permalink">»</a><a class="__target-h" id="sample-response-5" aria-hidden=""></a>Sample Response</h3><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;KnownLeader&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;LastContact&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;LastIndex&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;License&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;CustomerID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;temporary license customer&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ExpirationTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020-06-01T14:50:16.581304556-04:00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Features&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;Automated Upgrades&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;Enhanced Read Scalability&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;Redundancy Zones&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;Namespaces&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;Resource Quotas&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;Preemption&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;Audit Logging&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;Setinel Policies&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Flags&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;modules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;governance-policy&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;InstallationID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;IssueTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020-06-01T08:50:16.581304556-04:00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;LicenseID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;temporary-license&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Modules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;governance-policy&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Product&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nomad&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;StartTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020-06-01T08:50:16.581304556-04:00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;TerminationTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020-06-01T14:50:16.581304556-04:00&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;RequestTime&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre><h2 class="g-type-display-3"><a class="__permalink-h" href="#updating-the-nomad-enterprise-license" aria-label="updating the nomad enterprise license permalink">»</a><a class="__target-h" id="updating-the-nomad-enterprise-license" aria-hidden=""></a>Updating the Nomad Enterprise License</h2><p>This endpoint updates the Nomad license.</p><table><thead><tr><th>Method</th><th>Path</th><th>Produces</th></tr></thead><tbody><tr><td><code>PUT</code></td><td><code>/v1/operator/license</code></td><td><code>application/json</code></td></tr></tbody></table><p>The table below shows this endpoint&#x27;s support for
<a href="/api-docs#blocking-queries">blocking queries</a> and
<a href="/api-docs#acls">required ACLs</a>.</p><table><thead><tr><th>Blocking Queries</th><th>ACL Required</th></tr></thead><tbody><tr><td><code>NO</code></td><td><code>operator:write</code></td></tr></tbody></table><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-payload-2" aria-label="sample payload permalink">»</a><a class="__target-h" id="sample-payload-2" aria-hidden=""></a>Sample Payload</h3><p>The payload is the raw license blob.</p><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-request-6" aria-label="sample request permalink">»</a><a class="__target-h" id="sample-request-6" aria-hidden=""></a>Sample Request</h3><pre class="language-shell-session"><code class="language-shell-session"><span class="token command"><span class="token sh important">$</span> <span class="token bash language-bash"><span class="token function">curl</span> <span class="token punctuation">\</span></span></span>
<span class="token output">    --request PUT \
    --data @nomad.license \
    https://localhost:4646/v1/operator/license
</span></code></pre><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-response-6" aria-label="sample response permalink">»</a><a class="__target-h" id="sample-response-6" aria-hidden=""></a>Sample Response</h3><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;Index&quot;</span><span class="token operator">:</span> <span class="token number">15</span>
<span class="token punctuation">}</span>
</code></pre><h2 class="g-type-display-3"><a class="__permalink-h" href="#generate-snapshot" aria-label="generate snapshot permalink">»</a><a class="__target-h" id="generate-snapshot" aria-hidden=""></a>Generate Snapshot</h2><p>This endpoint generates and returns an atomic, point-in-time snapshot of the
Nomad server state for disaster recovery. Snapshots include all state managed by Nomad&#x27;s
Raft <a href="/docs/internals/consensus">consensus protocol</a>.</p><p>Snapshots are exposed as gzipped tar archives which internally contain the Raft
metadata required to restore, as well as a binary serialized version of the
Nomad server state. The contents are covered internally by SHA-256 hashes.
These hashes are verified during snapshot restore operations. The structure of
the archive is internal to Nomad and not intended to be used other than for
restore operations. The archives are not designed to be modified before a
restore.</p><table><thead><tr><th align="left">Method</th><th align="left">Path</th><th>Produces</th></tr></thead><tbody><tr><td align="left"><code>GET</code></td><td align="left"><code>/v1/operator/snapshot</code></td><td><code>200 application/x-gzip</code></td></tr></tbody></table><p>The table below shows this endpoint&#x27;s support for
<a href="/api-docs#blocking-queries">blocking queries</a> and
<a href="/api-docs#acls">required ACLs</a>.</p><table><thead><tr><th>Blocking Queries</th><th>ACL Required</th></tr></thead><tbody><tr><td><code>NO</code></td><td><code>management</code></td></tr></tbody></table><h3 class="g-type-display-4"><a class="__permalink-h" href="#parameters-4" aria-label="parameters permalink">»</a><a class="__target-h" id="parameters-4" aria-hidden=""></a>Parameters</h3><ul><li class="g-type-long-body"><a id="stale-1" class="__target-lic" aria-hidden=""></a><a href="#stale-1" aria-label="stale permalink" class="__permalink-lic"><code>stale</code></a> - Specifies if the cluster should respond without an active leader.
This is specified as a query string parameter.</li></ul><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-request-7" aria-label="sample request permalink">»</a><a class="__target-h" id="sample-request-7" aria-hidden=""></a>Sample Request</h3><pre class="language-shell-session"><code class="language-shell-session"><span class="token command"><span class="token sh important">$</span> <span class="token bash language-bash"><span class="token function">curl</span> <span class="token punctuation">\</span></span></span>
<span class="token output">    -o snapshot.tgz \
    http://127.0.0.1:4646/v1/operator/snapshot
</span></code></pre><p>The above example results in a tarball named <code>snapshot.tgz</code> in the current working directory.</p><h2 class="g-type-display-3"><a class="__permalink-h" href="#restore-snapshot" aria-label="restore snapshot permalink">»</a><a class="__target-h" id="restore-snapshot" aria-hidden=""></a>Restore Snapshot</h2><p>This endpoint restores a point-in-time snapshot of the Nomad server state.</p><p>Restores involve a potentially dangerous low-level Raft operation that is not
designed to handle server failures during a restore. This operation is primarily
intended to be used when recovering from a disaster, restoring into a fresh
cluster of Nomad servers.</p><p>The body of the request should be a snapshot archive returned from a previous
call to the <code>GET</code> method.</p><table><thead><tr><th align="left">Method</th><th align="left">Path</th><th>Produces</th></tr></thead><tbody><tr><td align="left"><code>PUT</code></td><td align="left"><code>/v1/operator/snapshot</code></td><td><code>200 text/plain (empty body)</code></td></tr></tbody></table><p>The table below shows this endpoint&#x27;s support for
<a href="/api-docs#blocking-queries">blocking queries</a> and
<a href="/api-docs#acls">required ACLs</a>.</p><table><thead><tr><th>Blocking Queries</th><th>ACL Required</th></tr></thead><tbody><tr><td><code>NO</code></td><td><code>management</code></td></tr></tbody></table><h3 class="g-type-display-4"><a class="__permalink-h" href="#sample-request-8" aria-label="sample request permalink">»</a><a class="__target-h" id="sample-request-8" aria-hidden=""></a>Sample Request</h3><pre class="language-shell-session"><code class="language-shell-session"><span class="token command"><span class="token sh important">$</span> <span class="token bash language-bash"><span class="token function">curl</span> <span class="token punctuation">\</span></span></span>
<span class="token output">    --request PUT \
    --data-binary @snapshot.tgz \
    http://127.0.0.1:4646/v1/operator/snapshot
</span></code></pre><div class="alert alert-warning g-type-body" role="alert"><p>Some tools default to www/encoded uploads. Nomad expects the snapshot to be
in pure binary form.</p></div></article></div></div><div id="edit-this-page" class="g-container"><a href="https://github.com/hashicorp/nomad/blob/master/website/pages/api-docs/operator.mdx"><div data-testid="root"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg"><path d="M11.608.342C5.535.342.61 5.162.61 11.108c0 4.757 3.152 8.792 7.523 10.215.55.1.751-.233.751-.518 0-.256-.01-.933-.015-1.831-3.06.65-3.705-1.444-3.705-1.444-.5-1.243-1.222-1.574-1.222-1.574-.998-.668.076-.655.076-.655 1.104.076 1.685 1.11 1.685 1.11.981 1.645 2.575 1.17 3.201.894.1-.695.385-1.17.699-1.439-2.443-.271-5.011-1.195-5.011-5.32 0-1.176.429-2.137 1.132-2.89-.113-.272-.49-1.367.108-2.849 0 0 .924-.289 3.025 1.104.877-.24 1.819-.358 2.754-.363.934.005 1.875.124 2.754.363 2.1-1.393 3.022-1.104 3.022-1.104.6 1.482.222 2.577.11 2.85.705.752 1.13 1.713 1.13 2.888 0 4.136-2.572 5.046-5.022 5.313.394.332.746.99.746 1.994 0 1.438-.013 2.6-.013 2.953 0 .288.198.623.756.518 4.368-1.427 7.516-5.46 7.516-10.215 0-5.946-4.925-10.766-11-10.766" fill="#161514" fill-rule="evenodd"/></svg></div><span>Edit this page</span></a></div></div></div><footer class="g-footer"><div class="g-container"><div class="left"><a href="/docs">Docs</a><a href="/api-docs">API</a><a href="/resources">Resources</a><a href="https://hashicorp.com/privacy">Privacy</a><a href="/security">Security</a><a href="/files/press-kit.zip">Press Kit</a><a>Consent Manager</a></div></div></footer><div id="g-consent-manager"></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="anonymous">{"props":{"pageProps":{"path":"/api-docs/operator"}},"page":"/api-docs/operator","query":{},"buildId":"mUjAOcjz20ewYCXUZTplL","nextExport":true,"isFallback":false,"appGip":true}</script><script crossorigin="anonymous" nomodule="">!function(){var e=document,t=e.createElement("script");if(!("noModule"in t)&&"onbeforeload"in t){var n=!1;e.addEventListener("beforeload",function(e){if(e.target===t)n=!0;else if(!e.target.hasAttribute("nomodule")||!n)return;e.preventDefault()},!0),t.type="module",t.src=".",e.head.appendChild(t),t.remove()}}();</script><script crossorigin="anonymous" nomodule="" src="/_next/static/runtime/polyfills-08f955ee6b280ce9782e.js"></script><script async="" data-next-page="/_app" src="/_next/static/mUjAOcjz20ewYCXUZTplL/pages/_app.js" crossorigin="anonymous" nomodule=""></script><script async="" data-next-page="/_app" src="/_next/static/mUjAOcjz20ewYCXUZTplL/pages/_app.module.js" crossorigin="anonymous" type="module"></script><script async="" data-next-page="/api-docs/operator" src="/_next/static/mUjAOcjz20ewYCXUZTplL/pages/api-docs/operator.js" crossorigin="anonymous" nomodule=""></script><script async="" data-next-page="/api-docs/operator" src="/_next/static/mUjAOcjz20ewYCXUZTplL/pages/api-docs/operator.module.js" crossorigin="anonymous" type="module"></script><script src="/_next/static/runtime/webpack-c212667a5f965e81e004.js" async="" crossorigin="anonymous" nomodule=""></script><script src="/_next/static/runtime/webpack-a5e0d34e8fa0286fccbd.module.js" async="" crossorigin="anonymous" type="module"></script><script src="/_next/static/chunks/framework.c4a2b05e6662040d1d25.js" async="" crossorigin="anonymous" nomodule=""></script><script src="/_next/static/chunks/framework.c4a2b05e6662040d1d25.module.js" async="" crossorigin="anonymous" type="module"></script><script src="/_next/static/chunks/686d04441314e6b786cc219b7db4b9371d302f46.1c06d90c71c1374e9207.js" async="" crossorigin="anonymous" nomodule=""></script><script src="/_next/static/chunks/686d04441314e6b786cc219b7db4b9371d302f46.1bfeab97cae27174089c.module.js" async="" crossorigin="anonymous" type="module"></script><script src="/_next/static/chunks/443277d4c9ae92a6e6d13331c8cb070f58497e98.87c4f633026f80904e3c.js" async="" crossorigin="anonymous" nomodule=""></script><script src="/_next/static/chunks/443277d4c9ae92a6e6d13331c8cb070f58497e98.8fa3c459f2862ebe92cb.module.js" async="" crossorigin="anonymous" type="module"></script><script src="/_next/static/chunks/85df607b27b3478734440ad39f097a062c9ff466.0d17ff3b164387849cdf.js" async="" crossorigin="anonymous" nomodule=""></script><script src="/_next/static/chunks/85df607b27b3478734440ad39f097a062c9ff466.62e32891701cb125ed51.module.js" async="" crossorigin="anonymous" type="module"></script><script src="/_next/static/runtime/main-7326f900f61e36603d0a.js" async="" crossorigin="anonymous" nomodule=""></script><script src="/_next/static/runtime/main-aca6801eb35beb35d941.module.js" async="" crossorigin="anonymous" type="module"></script><script src="/_next/static/chunks/7debd1b2e94f6a4dee3ed89854941bcd2cebd3b3.1d3cce544249eb765fd1.js" async="" crossorigin="anonymous" nomodule=""></script><script src="/_next/static/chunks/7debd1b2e94f6a4dee3ed89854941bcd2cebd3b3.b76d04e9e4982fa11e9d.module.js" async="" crossorigin="anonymous" type="module"></script><script src="/_next/static/chunks/b0638948e81be0c7cfa38c271936d8c6c941dae3.95bd915224537dc94272.js" async="" crossorigin="anonymous" nomodule=""></script><script src="/_next/static/chunks/b0638948e81be0c7cfa38c271936d8c6c941dae3.86c01d97e4a51cf99cdf.module.js" async="" crossorigin="anonymous" type="module"></script><script src="/_next/static/mUjAOcjz20ewYCXUZTplL/_buildManifest.js" async="" crossorigin="anonymous" nomodule=""></script><script src="/_next/static/mUjAOcjz20ewYCXUZTplL/_buildManifest.module.js" async="" crossorigin="anonymous" type="module"></script><script src="/_next/static/mUjAOcjz20ewYCXUZTplL/_ssgManifest.js" async="" crossorigin="anonymous" nomodule=""></script><script src="/_next/static/mUjAOcjz20ewYCXUZTplL/_ssgManifest.module.js" async="" crossorigin="anonymous" type="module"></script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-custom-properties.js"><\x2fscript>');</script></body></html>