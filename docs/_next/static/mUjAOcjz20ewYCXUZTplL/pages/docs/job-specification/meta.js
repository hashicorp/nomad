(window.webpackJsonp=window.webpackJsonp||[]).push([[239],{"6pUq":function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return j}));var n,c=t("wx14"),s=t("Ff2n"),b=t("q1tI"),o=t.n(b),p=t("7ljp"),r=t("j1un"),m=(o.a.createElement,n="Placement",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),Object(p.b)("div",e)}),l={},i=Object(r.a)({layout:"docs",page_title:"meta Stanza - Job Specification",sidebar_title:"meta",description:'The "meta" stanza allows for user-defined arbitrary key-value pairs.',__resourcePath:"docs/job-specification/meta.mdx",__scans:{}});function j(e){var a=e.components,t=Object(s.a)(e,["components"]);return Object(p.b)(i,Object(c.a)({},l,t,{components:a,mdxType:"MDXLayout"}),Object(p.b)("h1",{className:"g-type-display-2"},Object(p.b)("a",Object(c.a)({parentName:"h1"},{className:"__permalink-h",href:"#meta-stanza","aria-label":"meta stanza permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h1"},{className:"__target-h",id:"meta-stanza","aria-hidden":""})),Object(p.b)("inlineCode",{parentName:"h1"},"meta")," Stanza"),Object(p.b)(m,{groups:[["job","meta"],["job","group","meta"],["job","group","task","meta"]],mdxType:"Placement"}),Object(p.b)("p",null,"The ",Object(p.b)("inlineCode",{parentName:"p"},"meta")," stanza allows for user-defined arbitrary key-value pairs. It is\npossible to use the ",Object(p.b)("inlineCode",{parentName:"p"},"meta")," stanza at the ",Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"/docs/job-specification/job",title:"Nomad job Job Specification"}),"job"),", ",Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"/docs/job-specification/group",title:"Nomad group Job Specification"}),"group"),", or ",Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"/docs/job-specification/task",title:"Nomad task Job Specification"}),"task")," level."),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),"job ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"docs"')," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"meta")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"my-key")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"my-value"'),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n  group ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"example"')," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"meta")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"my-key")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"my-value"'),"\n    ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n    task ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"server"')," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"meta")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"my-key")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"my-value"'),"\n      ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("p",null,"Metadata is merged up the job specification, so metadata defined at the job\nlevel applies to all groups and tasks within that job. Metadata defined at the\ngroup layer applies to all tasks within that group."),Object(p.b)("h2",{className:"g-type-display-3"},Object(p.b)("a",Object(c.a)({parentName:"h2"},{className:"__permalink-h",href:"#meta-parameters","aria-label":"meta parameters permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h2"},{className:"__target-h",id:"meta-parameters","aria-hidden":""})),Object(p.b)("inlineCode",{parentName:"h2"},"meta")," Parameters"),Object(p.b)("p",null,'The "parameters" for the ',Object(p.b)("inlineCode",{parentName:"p"},"meta")," stanza can be any key-value. The keys and values\nare both of type ",Object(p.b)("inlineCode",{parentName:"p"},"string"),", but they can be specified as other types. They will\nautomatically be converted to strings."),Object(p.b)("h2",{className:"g-type-display-3"},Object(p.b)("a",Object(c.a)({parentName:"h2"},{className:"__permalink-h",href:"#meta-examples","aria-label":"meta examples permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h2"},{className:"__target-h",id:"meta-examples","aria-hidden":""})),Object(p.b)("inlineCode",{parentName:"h2"},"meta")," Examples"),Object(p.b)("p",null,"The following examples only show the ",Object(p.b)("inlineCode",{parentName:"p"},"meta")," stanzas. Remember that the\n",Object(p.b)("inlineCode",{parentName:"p"},"meta")," stanza is only valid in the placements listed above."),Object(p.b)("h3",{className:"g-type-display-4"},Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__permalink-h",href:"#coercion","aria-label":"coercion permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__target-h",id:"coercion","aria-hidden":""})),"Coercion"),Object(p.b)("p",null,"This example shows the different ways to specify key-value pairs. Internally,\nthese values will be stored as their string representation. No type information\nis preserved."),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"meta")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"key")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"true"'),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"key")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token boolean"}),"true"),"\n\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),'"key"')," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token boolean"}),"true"),"\n\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"key")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token number"}),"1.4"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"key")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"1.4"'),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(p.b)("h3",{className:"g-type-display-4"},Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__permalink-h",href:"#interpolation","aria-label":"interpolation permalink"}),"\xbb"),Object(p.b)("a",Object(c.a)({parentName:"h3"},{className:"__target-h",id:"interpolation","aria-hidden":""})),"Interpolation"),Object(p.b)("p",null,"This example shows using ",Object(p.b)("a",Object(c.a)({parentName:"p"},{href:"/docs/runtime/interpolation",title:"Nomad interpolation"}),"Nomad interpolation")," to populate\nenvironment variables."),Object(p.b)("pre",{className:"language-hcl"},Object(p.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"meta")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"class")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"',Object(p.b)("span",Object(c.a)({parentName:"span"},{className:"token interpolation"}),Object(p.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"$"),Object(p.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"{"),"node",Object(p.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"."),"class",Object(p.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"}")),'"'),"\n",Object(p.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")))}j.isMDXComponent=!0},ftmG:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/job-specification/meta",function(){return t("6pUq")}])}},[["ftmG",0,1,2,4,3,5,6]]]);