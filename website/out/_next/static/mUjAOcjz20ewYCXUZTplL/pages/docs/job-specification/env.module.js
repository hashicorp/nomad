(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{"4qgs":function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/job-specification/env",function(){return t("BWLV")}])},BWLV:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return j}));var n,c=t("wx14"),s=t("Ff2n"),b=t("q1tI"),p=t.n(b),o=t("7ljp"),r=t("j1un"),m=(p.a.createElement,n="Placement",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),Object(o.b)("div",e)}),l={},i=Object(r.a)({layout:"docs",page_title:"env Stanza - Job Specification",sidebar_title:"env",description:'The "env" stanza configures a list of environment variables to populate the\ntask\'s environment before starting.',__resourcePath:"docs/job-specification/env.mdx",__scans:{}});function j(e){var{components:a}=e,t=Object(s.a)(e,["components"]);return Object(o.b)(i,Object(c.a)({},l,t,{components:a,mdxType:"MDXLayout"}),Object(o.b)("h1",{className:"g-type-display-2"},Object(o.b)("a",Object(c.a)({parentName:"h1"},{className:"__permalink-h",href:"#env-stanza","aria-label":"env stanza permalink"}),"\xbb"),Object(o.b)("a",Object(c.a)({parentName:"h1"},{className:"__target-h",id:"env-stanza","aria-hidden":""})),Object(o.b)("inlineCode",{parentName:"h1"},"env")," Stanza"),Object(o.b)(m,{groups:["job","group","task","env"],mdxType:"Placement"}),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"env")," stanza configures a list of environment variables to populate the\ntask's environment before starting."),Object(o.b)("pre",{className:"language-hcl"},Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),"job ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"docs"')," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  group ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"example"')," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    task ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"server"')," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"env")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"my_key")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"my-value"'),"\n      ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(o.b)("h2",{className:"g-type-display-3"},Object(o.b)("a",Object(c.a)({parentName:"h2"},{className:"__permalink-h",href:"#env-parameters","aria-label":"env parameters permalink"}),"\xbb"),Object(o.b)("a",Object(c.a)({parentName:"h2"},{className:"__target-h",id:"env-parameters","aria-hidden":""})),Object(o.b)("inlineCode",{parentName:"h2"},"env")," Parameters"),Object(o.b)("p",null,'The "parameters" for the ',Object(o.b)("inlineCode",{parentName:"p"},"env")," stanza can be any key-value. The keys and values\nare both of type ",Object(o.b)("inlineCode",{parentName:"p"},"string"),", but they can be specified as other types. They will\nautomatically be converted to strings. Invalid characters such as dashes (",Object(o.b)("inlineCode",{parentName:"p"},"-"),")\nwill be converted to underscores."),Object(o.b)("h2",{className:"g-type-display-3"},Object(o.b)("a",Object(c.a)({parentName:"h2"},{className:"__permalink-h",href:"#env-examples","aria-label":"env examples permalink"}),"\xbb"),Object(o.b)("a",Object(c.a)({parentName:"h2"},{className:"__target-h",id:"env-examples","aria-hidden":""})),Object(o.b)("inlineCode",{parentName:"h2"},"env")," Examples"),Object(o.b)("p",null,"The following examples only show the ",Object(o.b)("inlineCode",{parentName:"p"},"env")," stanzas. Remember that the\n",Object(o.b)("inlineCode",{parentName:"p"},"env")," stanza is only valid in the placements listed above."),Object(o.b)("h3",{className:"g-type-display-4"},Object(o.b)("a",Object(c.a)({parentName:"h3"},{className:"__permalink-h",href:"#coercion","aria-label":"coercion permalink"}),"\xbb"),Object(o.b)("a",Object(c.a)({parentName:"h3"},{className:"__target-h",id:"coercion","aria-hidden":""})),"Coercion"),Object(o.b)("p",null,"This example shows the different ways to specify key-value pairs. Internally,\nthese values will be stored as their string representation. No type information\nis preserved."),Object(o.b)("pre",{className:"language-hcl"},Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"env")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"key"),"   ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token number"}),"1.4"),"\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"key"),"   ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"1.4"'),"\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),'"key"')," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token number"}),"1.4"),"\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),'"key"')," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"1.4"'),"\n\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"key")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token boolean"}),"true"),"\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"key")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"1"'),"\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"key")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token number"}),"1"),"\n",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(o.b)("h3",{className:"g-type-display-4"},Object(o.b)("a",Object(c.a)({parentName:"h3"},{className:"__permalink-h",href:"#interpolation","aria-label":"interpolation permalink"}),"\xbb"),Object(o.b)("a",Object(c.a)({parentName:"h3"},{className:"__target-h",id:"interpolation","aria-hidden":""})),"Interpolation"),Object(o.b)("p",null,"This example shows using ",Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"/docs/runtime/interpolation",title:"Nomad interpolation"}),"Nomad interpolation")," to populate\nenvironment variables."),Object(o.b)("pre",{className:"language-hcl"},Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"env")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"NODE_CLASS")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"',Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token interpolation"}),Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"$"),Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"{"),"node",Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"."),"class",Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"}")),'"'),"\n",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(o.b)("h3",{className:"g-type-display-4"},Object(o.b)("a",Object(c.a)({parentName:"h3"},{className:"__permalink-h",href:"#dynamic-environment-variables","aria-label":"dynamic environment variables permalink"}),"\xbb"),Object(o.b)("a",Object(c.a)({parentName:"h3"},{className:"__target-h",id:"dynamic-environment-variables","aria-hidden":""})),"Dynamic Environment Variables"),Object(o.b)("p",null,"Nomad also supports populating dynamic environment variables from data stored in\nHashiCorp Consul and Vault. To use this feature please see the documentation on\nthe ",Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"/docs/job-specification/template#environment-variables",title:"Nomad template Stanza"}),Object(o.b)("inlineCode",{parentName:"a"},"template")," stanza"),"."))}j.isMDXComponent=!0}},[["4qgs",0,1,2,4,3,5,6]]]);