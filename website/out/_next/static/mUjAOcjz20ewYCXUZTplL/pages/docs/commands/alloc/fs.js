(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{"3zem":function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return p}));var n=t("wx14"),i=t("Ff2n"),l=t("q1tI"),c=t.n(l),b=t("7ljp"),r=t("j1un"),s=(c.a.createElement,{}),o=Object(r.a)({layout:"docs",page_title:"Commands: alloc fs",sidebar_title:"fs",description:"Introspect an allocation directory on a Nomad client\n",__resourcePath:"docs/commands/alloc/fs.mdx",__scans:{}});function p(e){var a=e.components,t=Object(i.a)(e,["components"]);return Object(b.b)(o,Object(n.a)({},s,t,{components:a,mdxType:"MDXLayout"}),Object(b.b)("h1",{className:"g-type-display-2"},Object(b.b)("a",Object(n.a)({parentName:"h1"},{className:"__permalink-h",href:"#command-alloc-fs","aria-label":"command alloc fs permalink"}),"\xbb"),Object(b.b)("a",Object(n.a)({parentName:"h1"},{className:"__target-h",id:"command-alloc-fs","aria-hidden":""})),"Command: alloc fs"),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Alias: ",Object(b.b)("inlineCode",{parentName:"strong"},"nomad fs"))),Object(b.b)("p",null,"The ",Object(b.b)("inlineCode",{parentName:"p"},"alloc fs")," command allows a user to navigate an allocation directory on a Nomad\nclient. The following functionalities are available - ",Object(b.b)("inlineCode",{parentName:"p"},"cat"),", ",Object(b.b)("inlineCode",{parentName:"p"},"tail"),", ",Object(b.b)("inlineCode",{parentName:"p"},"ls")," and\n",Object(b.b)("inlineCode",{parentName:"p"},"stat"),"."),Object(b.b)("ul",null,Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"cat",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#cat","aria-label":"cat permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"cat")),": If the target path is a file, Nomad will ",Object(b.b)("inlineCode",{parentName:"p"},"cat")," the file.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"tail",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#tail","aria-label":"tail permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"tail")),": If the target path is a file and ",Object(b.b)("inlineCode",{parentName:"p"},"-tail")," flag is specified, Nomad will\n",Object(b.b)("inlineCode",{parentName:"p"},"tail")," the file.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"ls",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#ls","aria-label":"ls permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"ls")),": If the target path is a directory, Nomad displays the name of a file and\ndirectories and their associated information.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"stat",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#stat","aria-label":"stat permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"stat")),": If the ",Object(b.b)("inlineCode",{parentName:"p"},"-stat")," flag is used, Nomad will display information about a\nfile."))),Object(b.b)("h2",{className:"g-type-display-3"},Object(b.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#usage","aria-label":"usage permalink"}),"\xbb"),Object(b.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"usage","aria-hidden":""})),"Usage"),Object(b.b)("pre",{className:"language-plaintext"},Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-plaintext"}),"nomad alloc fs [options] <allocation> <path>\n")),Object(b.b)("p",null,"This command accepts a single allocation ID (unless the ",Object(b.b)("inlineCode",{parentName:"p"},"-job")," flag is\nspecified, in which case an allocation is chosen from the given job) and a path.\nThe path is relative to the root of the allocation directory. The path is\noptional and it defaults to ",Object(b.b)("inlineCode",{parentName:"p"},"/")," of the allocation directory."),Object(b.b)("h2",{className:"g-type-display-3"},Object(b.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#general-options","aria-label":"general options permalink"}),"\xbb"),Object(b.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"general-options","aria-hidden":""})),"General Options"),Object(b.b)("ul",null,Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"address",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#address","aria-label":"address permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-address=<addr>")),": The address of the Nomad server. Overrides the ",Object(b.b)("inlineCode",{parentName:"p"},"NOMAD_ADDR"),"\nenvironment variable if set. Defaults to ",Object(b.b)("inlineCode",{parentName:"p"},"http://127.0.0.1:4646"),".")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"region",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#region","aria-label":"region permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-region=<region>")),": The region of the Nomad server to forward commands to.\nOverrides the ",Object(b.b)("inlineCode",{parentName:"p"},"NOMAD_REGION")," environment variable if set. Defaults to the\nAgent's local region.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"namespace",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#namespace","aria-label":"namespace permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-namespace=<namespace>")),": The target namespace for queries and actions bound\nto a namespace. Overrides the NOMAD_NAMESPACE environment variable if set.\nIf set to '*', job and alloc subcommands query all namespacecs authorized to\nuser. Defaults to the \"default\" namespace.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"no-color",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#no-color","aria-label":"no color permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-no-color")),": Disables colored command output. Alternatively,\n",Object(b.b)("inlineCode",{parentName:"p"},"NOMAD_CLI_NO_COLOR")," may be set.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"ca-cert",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#ca-cert","aria-label":"ca cert permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-ca-cert=<path>")),": Path to a PEM encoded CA cert file to use to verify the\nNomad server SSL certificate. Overrides the ",Object(b.b)("inlineCode",{parentName:"p"},"NOMAD_CACERT")," environment\nvariable if set.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"ca-path",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#ca-path","aria-label":"ca path permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-ca-path=<path>")),": Path to a directory of PEM encoded CA cert files to verify\nthe Nomad server SSL certificate. If both ",Object(b.b)("inlineCode",{parentName:"p"},"-ca-cert")," and ",Object(b.b)("inlineCode",{parentName:"p"},"-ca-path")," are\nspecified, ",Object(b.b)("inlineCode",{parentName:"p"},"-ca-cert")," is used. Overrides the ",Object(b.b)("inlineCode",{parentName:"p"},"NOMAD_CAPATH")," environment\nvariable if set.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"client-cert",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#client-cert","aria-label":"client cert permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-client-cert=<path>")),": Path to a PEM encoded client certificate for TLS\nauthentication to the Nomad server. Must also specify ",Object(b.b)("inlineCode",{parentName:"p"},"-client-key"),". Overrides\nthe ",Object(b.b)("inlineCode",{parentName:"p"},"NOMAD_CLIENT_CERT")," environment variable if set.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"client-key",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#client-key","aria-label":"client key permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-client-key=<path>")),": Path to an unencrypted PEM encoded private key matching\nthe client certificate from ",Object(b.b)("inlineCode",{parentName:"p"},"-client-cert"),". Overrides the ",Object(b.b)("inlineCode",{parentName:"p"},"NOMAD_CLIENT_KEY"),"\nenvironment variable if set.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"tls-server-name",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#tls-server-name","aria-label":"tls server name permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-tls-server-name=<value>")),": The server name to use as the SNI host when connecting\nvia TLS. Overrides the ",Object(b.b)("inlineCode",{parentName:"p"},"NOMAD_TLS_SERVER_NAME")," environment variable if set.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"tls-skip-verify",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#tls-skip-verify","aria-label":"tls skip verify permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-tls-skip-verify")),": Do not verify TLS certificate. This is highly not\nrecommended. Verification will also be skipped if ",Object(b.b)("inlineCode",{parentName:"p"},"NOMAD_SKIP_VERIFY")," is set.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"token",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#token","aria-label":"token permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-token")),": The SecretID of an ACL token to use to authenticate API requests with.\nOverrides the ",Object(b.b)("inlineCode",{parentName:"p"},"NOMAD_TOKEN")," environment variable if set."))),Object(b.b)("h2",{className:"g-type-display-3"},Object(b.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#fs-options","aria-label":"fs options permalink"}),"\xbb"),Object(b.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"fs-options","aria-hidden":""})),"Fs Options"),Object(b.b)("ul",null,Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"h",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#h","aria-label":"h permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-H")),": Machine friendly output.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"verbose",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#verbose","aria-label":"verbose permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-verbose")),": Display verbose output.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"job",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#job","aria-label":"job permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-job")),": Use a random allocation from the specified job, preferring a running\nallocation.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"stat-1",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#stat-1","aria-label":"stat permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-stat")),": Show stat information instead of displaying the file, or listing the\ndirectory.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"f",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#f","aria-label":"f permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-f")),": Causes the output to not stop when the end of the file is reached, but\nrather to wait for additional output.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"tail-1",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#tail-1","aria-label":"tail permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-tail")),": Show the files contents with offsets relative to the end of the file.\nIf no offset is given, -n is defaulted to 10.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"n",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#n","aria-label":"n permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-n")),": Sets the tail location in best-efforted number of lines relative to the\nend of the file.")),Object(b.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(b.b)("a",Object(n.a)({parentName:"li"},{id:"c",className:"__target-lic","aria-hidden":""})),Object(b.b)("p",{parentName:"li"},Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"#c","aria-label":"c permalink",className:"__permalink-lic"}),Object(b.b)("inlineCode",{parentName:"a"},"-c")),": Sets the tail location in number of bytes relative to the end of the file."))),Object(b.b)("h2",{className:"g-type-display-3"},Object(b.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#examples","aria-label":"examples permalink"}),"\xbb"),Object(b.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"examples","aria-hidden":""})),"Examples"),Object(b.b)("pre",{className:"language-shell-session"},Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(b.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad alloc fs eb17e557")),"\n",Object(b.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"Mode        Size  Modified Time        Name\ndrwxrwxr-x  4096  28 Jan 16 05:39 UTC  alloc/\ndrwxrwxr-x  4096  28 Jan 16 05:39 UTC  redis/\n-rw-rw-r--  0     28 Jan 16 05:39 UTC  redis_exit_status\n\n\n"),Object(b.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad alloc fs eb17e557 redis/local")),"\n",Object(b.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"Mode        Size  Modified Time        Name\n-rw-rw-rw-  0     28 Jan 16 05:39 UTC  redis.stderr\n-rw-rw-rw-  17    28 Jan 16 05:39 UTC  redis.stdout\n\n\n"),Object(b.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad alloc fs -stat eb17e557 redis/local/redis.stdout")),"\n",Object(b.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"Mode        Size  Modified Time        Name\n-rw-rw-rw-  17    28 Jan 16 05:39 UTC  redis.stdout\n\n\n"),Object(b.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad alloc fs eb17e557 redis/local/redis.stdout")),"\n",Object(b.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"foobar\nbaz\n\n"),Object(b.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad alloc fs -tail -f -n ",Object(b.b)("span",Object(n.a)({parentName:"span"},{className:"token number"}),"3")," eb17e557 redis/local/redis.stdout")),"\n",Object(b.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"foobar\nbaz\nbam\n<blocking>\n"))),Object(b.b)("h2",{className:"g-type-display-3"},Object(b.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#using-job-id-instead-of-allocation-id","aria-label":"using job id instead of allocation id permalink"}),"\xbb"),Object(b.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"using-job-id-instead-of-allocation-id","aria-hidden":""})),"Using Job ID instead of Allocation ID"),Object(b.b)("p",null,"Setting the ",Object(b.b)("inlineCode",{parentName:"p"},"-job")," flag causes a random allocation of the specified job to be\nselected. Nomad will prefer to select a running allocation ID for the job, but\nif no running allocations for the job are found, Nomad will use a dead\nallocation."),Object(b.b)("pre",{className:"language-plaintext"},Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-plaintext"}),"nomad alloc fs -job <job-id> <path>\n")),Object(b.b)("p",null,"This can be useful for debugging a job that has multiple allocations, and it is\nnot required to observe a specific allocation."))}p.isMDXComponent=!0},sGW7:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/commands/alloc/fs",function(){return t("3zem")}])}},[["sGW7",0,1,2,4,3,5,6]]]);