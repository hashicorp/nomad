(window.webpackJsonp=window.webpackJsonp||[]).push([[150],{nDQc:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return o}));var n=t("wx14"),s=t("Ff2n"),c=t("q1tI"),i=t.n(c),r=t("7ljp"),l=t("j1un"),b=(i.a.createElement,{}),p=Object(l.a)({layout:"docs",page_title:"Commands: status",sidebar_title:"status",description:"Display the status output for any Nomad resource.\n",__resourcePath:"docs/commands/status.mdx",__scans:{}});function o(e){var{components:a}=e,t=Object(s.a)(e,["components"]);return Object(r.b)(p,Object(n.a)({},b,t,{components:a,mdxType:"MDXLayout"}),Object(r.b)("h1",{className:"g-type-display-2"},Object(r.b)("a",Object(n.a)({parentName:"h1"},{className:"__permalink-h",href:"#command-status","aria-label":"command status permalink"}),"\xbb"),Object(r.b)("a",Object(n.a)({parentName:"h1"},{className:"__target-h",id:"command-status","aria-hidden":""})),"Command: status"),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"status")," command displays the status output for any Nomad resource."),Object(r.b)("h2",{className:"g-type-display-3"},Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#usage","aria-label":"usage permalink"}),"\xbb"),Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"usage","aria-hidden":""})),"Usage"),Object(r.b)("pre",{className:"language-plaintext"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-plaintext"}),"nomad status [options] <identifier>\n")),Object(r.b)("p",null,"The status command accepts any Nomad identifier or identifier prefix as its sole\nargument. The command detects the type of the identifier and routes to the\nappropriate status command to display more detailed output."),Object(r.b)("p",null,"If the ID is omitted, the command lists out all of the existing jobs. This is\nfor backwards compatibility and should not be relied on."),Object(r.b)("h2",{className:"g-type-display-3"},Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#general-options","aria-label":"general options permalink"}),"\xbb"),Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"general-options","aria-hidden":""})),"General Options"),Object(r.b)("ul",null,Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"address",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#address","aria-label":"address permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-address=<addr>")),": The address of the Nomad server. Overrides the ",Object(r.b)("inlineCode",{parentName:"p"},"NOMAD_ADDR"),"\nenvironment variable if set. Defaults to ",Object(r.b)("inlineCode",{parentName:"p"},"http://127.0.0.1:4646"),".")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"region",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#region","aria-label":"region permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-region=<region>")),": The region of the Nomad server to forward commands to.\nOverrides the ",Object(r.b)("inlineCode",{parentName:"p"},"NOMAD_REGION")," environment variable if set. Defaults to the\nAgent's local region.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"namespace",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#namespace","aria-label":"namespace permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-namespace=<namespace>")),": The target namespace for queries and actions bound\nto a namespace. Overrides the NOMAD_NAMESPACE environment variable if set.\nIf set to '*', job and alloc subcommands query all namespacecs authorized to\nuser. Defaults to the \"default\" namespace.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"no-color",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#no-color","aria-label":"no color permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-no-color")),": Disables colored command output. Alternatively,\n",Object(r.b)("inlineCode",{parentName:"p"},"NOMAD_CLI_NO_COLOR")," may be set.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"ca-cert",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#ca-cert","aria-label":"ca cert permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-ca-cert=<path>")),": Path to a PEM encoded CA cert file to use to verify the\nNomad server SSL certificate. Overrides the ",Object(r.b)("inlineCode",{parentName:"p"},"NOMAD_CACERT")," environment\nvariable if set.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"ca-path",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#ca-path","aria-label":"ca path permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-ca-path=<path>")),": Path to a directory of PEM encoded CA cert files to verify\nthe Nomad server SSL certificate. If both ",Object(r.b)("inlineCode",{parentName:"p"},"-ca-cert")," and ",Object(r.b)("inlineCode",{parentName:"p"},"-ca-path")," are\nspecified, ",Object(r.b)("inlineCode",{parentName:"p"},"-ca-cert")," is used. Overrides the ",Object(r.b)("inlineCode",{parentName:"p"},"NOMAD_CAPATH")," environment\nvariable if set.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"client-cert",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#client-cert","aria-label":"client cert permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-client-cert=<path>")),": Path to a PEM encoded client certificate for TLS\nauthentication to the Nomad server. Must also specify ",Object(r.b)("inlineCode",{parentName:"p"},"-client-key"),". Overrides\nthe ",Object(r.b)("inlineCode",{parentName:"p"},"NOMAD_CLIENT_CERT")," environment variable if set.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"client-key",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#client-key","aria-label":"client key permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-client-key=<path>")),": Path to an unencrypted PEM encoded private key matching\nthe client certificate from ",Object(r.b)("inlineCode",{parentName:"p"},"-client-cert"),". Overrides the ",Object(r.b)("inlineCode",{parentName:"p"},"NOMAD_CLIENT_KEY"),"\nenvironment variable if set.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"tls-server-name",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#tls-server-name","aria-label":"tls server name permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-tls-server-name=<value>")),": The server name to use as the SNI host when connecting\nvia TLS. Overrides the ",Object(r.b)("inlineCode",{parentName:"p"},"NOMAD_TLS_SERVER_NAME")," environment variable if set.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"tls-skip-verify",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#tls-skip-verify","aria-label":"tls skip verify permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-tls-skip-verify")),": Do not verify TLS certificate. This is highly not\nrecommended. Verification will also be skipped if ",Object(r.b)("inlineCode",{parentName:"p"},"NOMAD_SKIP_VERIFY")," is set.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"token",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#token","aria-label":"token permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-token")),": The SecretID of an ACL token to use to authenticate API requests with.\nOverrides the ",Object(r.b)("inlineCode",{parentName:"p"},"NOMAD_TOKEN")," environment variable if set."))),Object(r.b)("h2",{className:"g-type-display-3"},Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#examples","aria-label":"examples permalink"}),"\xbb"),Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"examples","aria-hidden":""})),"Examples"),Object(r.b)("p",null,"Display the status of a job:"),Object(r.b)("pre",{className:"language-shell-session"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(r.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(r.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(r.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad status example")),"\n",Object(r.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"ID            = example\nName          = example\nSubmit Date   = 08/28/17 23:01:39 UTC\nType          = service\nPriority      = 50\nDatacenters   = dc1\nStatus        = running\nPeriodic      = false\nParameterized = false\n\nSummary\nTask Group  Queued  Starting  Running  Failed  Complete  Lost\ncache       0       0         1        0       0         0\n\nLatest Deployment\nID          = f5506391\nStatus      = running\nDescription = Deployment is running\n\nDeployed\nTask Group  Desired  Placed  Healthy  Unhealthy\ncache       1        1       0        0\n\nAllocations\nID        Node ID   Task Group  Version  Desired  Status   Created At\ne1d14a39  f9dabe93  cache       0        run      running  08/28/17 23:01:39 UTC\n"))),Object(r.b)("p",null,"Display the status of an allocation:"),Object(r.b)("pre",{className:"language-shell-session"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(r.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(r.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(r.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad status e1d14a39")),"\n",Object(r.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),'ID                  = e1d14a39\nEval ID             = cc882755\nName                = example.cache[0]\nNode ID             = f9dabe93\nJob ID              = example\nJob Version         = 0\nClient Status       = running\nClient Description  = <none>\nDesired Status      = run\nDesired Description = <none>\nCreated At          = 08/28/17 23:01:39 UTC\nDeployment ID       = f5506391\nDeployment Health   = healthy\n\nTask "redis" is "running"\nTask Resources\nCPU        Memory           Disk     Addresses\n4/500 MHz  6.3 MiB/256 MiB  300 MiB  db: 127.0.0.1:21752\n\nTask Events:\nStarted At     = 08/28/17 23:01:39 UTC\nFinished At    = N/A\nTotal Restarts = 0\nLast Restart   = N/A\n\nRecent Events:\nTime                   Type        Description\n08/28/17 23:01:39 UTC  Started     Task started by client\n08/28/17 23:01:39 UTC  Task Setup  Building Task Directory\n08/28/17 23:01:39 UTC  Received    Task received by client\n'))),Object(r.b)("p",null,"Display the status of a deployment:"),Object(r.b)("pre",{className:"language-shell-session"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(r.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(r.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(r.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad status f5506391")),"\n",Object(r.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"ID          = f5506391\nJob ID      = example\nJob Version = 0\nStatus      = successful\nDescription = Deployment completed successfully\n\nDeployed\nTask Group  Desired  Placed  Healthy  Unhealthy\ncache       1        1       1        0\n"))),Object(r.b)("p",null,"Display the status of a node:"),Object(r.b)("pre",{className:"language-shell-session"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(r.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(r.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(r.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad status f9dabe93")),"\n",Object(r.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"ID      = f9dabe93\nName    = nomad-server01\nClass   = <none>\nDC      = dc1\nDrain   = false\nStatus  = ready\nDrivers = docker,exec,java,qemu,raw_exec,rkt\nUptime  = 4h17m24s\n\nAllocated Resources\nCPU           Memory           Disk\n500/8709 MHz  256 MiB/2.0 GiB  300 MiB/24 GiB\n\nAllocation Resource Utilization\nCPU         Memory\n3/8709 MHz  6.3 MiB/2.0 GiB\n\nHost Resource Utilization\nCPU           Memory           Disk\n116/8709 MHz  335 MiB/2.0 GiB  12 GiB/38 GiB\n\nAllocations\nID        Node ID   Task Group  Version  Desired  Status   Created At\ne1d14a39  f9dabe93  cache       0        run      running  08/28/17 23:01:39 UTC\n"))))}o.isMDXComponent=!0},uQO0:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/commands/status",function(){return t("nDQc")}])}},[["uQO0",0,1,2,4,3,5,6]]]);