(window.webpackJsonp=window.webpackJsonp||[]).push([[251],{"+Q+y":function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return j}));var n,c=t("wx14"),s=t("Ff2n"),b=t("q1tI"),p=t.n(b),o=t("7ljp"),r=t("j1un"),i=(p.a.createElement,n="Placement",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),Object(o.b)("div",e)}),m={},l=Object(r.a)({layout:"docs",page_title:"sidecar_task Stanza - Job Specification",sidebar_title:"sidecar_task",description:'The "sidecar_task" stanza allows specifying options for configuring\nthe task of the sidecar proxies used in Consul Connect integration',__resourcePath:"docs/job-specification/sidecar_task.mdx",__scans:{}});function j(e){var{components:a}=e,t=Object(s.a)(e,["components"]);return Object(o.b)(l,Object(c.a)({},m,t,{components:a,mdxType:"MDXLayout"}),Object(o.b)("h1",{className:"g-type-display-2"},Object(o.b)("a",Object(c.a)({parentName:"h1"},{className:"__permalink-h",href:"#sidecar_task-stanza","aria-label":"sidecar_task stanza permalink"}),"\xbb"),Object(o.b)("a",Object(c.a)({parentName:"h1"},{className:"__target-h",id:"sidecar_task-stanza","aria-hidden":""})),Object(o.b)("inlineCode",{parentName:"h1"},"sidecar_task")," Stanza"),Object(o.b)(i,{groups:["job","group","service","connect","sidecar_task"],mdxType:"Placement"}),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"sidecar_task")," stanza allows configuring various options for the proxy\nsidecar managed by Nomad for ",Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"/docs/integrations/consul-connect"}),"Consul\nConnect")," integration such as\nresource requirements, kill timeouts and more as defined below. It is valid\nonly within the context of a ",Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"/docs/job-specification/connect",title:"Nomad connect Job Specification"}),Object(o.b)("inlineCode",{parentName:"a"},"connect"))," stanza."),Object(o.b)("pre",{className:"language-hcl"},Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),"job ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"countdash"')," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"datacenters")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"dc1"'),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n\n  group ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"api"')," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"network")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"mode")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"bridge"'),"\n    ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n    ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"service")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"name")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"count-api"'),"\n      ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"port")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"9001"'),"\n\n      ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"connect")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"sidecar_service")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n        ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"sidecar_task")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n          ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"resources")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"cpu"),"    ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token number"}),"500"),"\n            ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"memory")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token number"}),"1024"),"\n          ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n        ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n      ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n    task ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"web"')," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"driver")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"docker"'),"\n\n      ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"image")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"hashicorpnomad/counter-api:v2"'),"\n      ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(o.b)("h2",{className:"g-type-display-3"},Object(o.b)("a",Object(c.a)({parentName:"h2"},{className:"__permalink-h",href:"#default-envoy-proxy-sidecar","aria-label":"default envoy proxy sidecar permalink"}),"\xbb"),Object(o.b)("a",Object(c.a)({parentName:"h2"},{className:"__target-h",id:"default-envoy-proxy-sidecar","aria-hidden":""})),"Default Envoy proxy sidecar"),Object(o.b)("p",null,"Nomad automatically includes a default Envoy proxy sidecar task whenever a\ngroup service has a ",Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"/docs/job-specification/sidecar_service",title:"Nomad sidecar service Specification"}),Object(o.b)("inlineCode",{parentName:"a"},"sidecar_service"))," stanza."),Object(o.b)("p",null,"The default sidecar task is equivalent to:"),Object(o.b)("pre",{className:"language-hcl"},Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),"   ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"sidecar_task")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"name"),"   ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"connect-proxy-<service>"'),"\n\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"lifecycle")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n       ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"hook")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"prestart"'),"\n       ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"sidecar")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token boolean"}),"true"),"\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"driver")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"docker"'),"\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n       ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"image")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"',Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token interpolation"}),Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"$"),Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"{"),"meta",Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"."),"connect",Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"."),"sidecar_image",Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"}")),'"'),"\n       ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"args"),"  ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n         ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"-c"'),",\n         ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"',Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token interpolation"}),Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"$"),Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"{"),"NOMAD_SECRETS_DIR",Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"}")),'/envoy_bootstrap.json"'),",\n         ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"-l"'),",\n         ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"',Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token interpolation"}),Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"$"),Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"{"),"meta",Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"."),"connect",Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"."),"log_level",Object(o.b)("span",Object(c.a)({parentName:"span"},{className:"token punctuation"}),"}")),'"'),"\n       ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"logs")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n       ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"max_files"),"     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token number"}),"2"),"\n       ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"max_file_size")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token number"}),"2")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token comment"}),"# MB"),"\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"resources")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n       ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"cpu"),"    ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token number"}),"250")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token comment"}),"# MHz"),"\n       ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"memory")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token number"}),"128")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token comment"}),"# MB"),"\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"shutdown_delay")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"5s"'),"\n   ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"meta.connect.sidecar_image")," and ",Object(o.b)("inlineCode",{parentName:"p"},"meta.connect.log_level")," are ",Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"/docs/configuration/client#meta"}),Object(o.b)("em",{parentName:"a"},"client"),"\nconfigurable")," variables with the following defaults:"),Object(o.b)("ul",null,Object(o.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(o.b)("a",Object(c.a)({parentName:"li"},{id:"sidecar_image",className:"__target-lic","aria-hidden":""})),Object(o.b)("a",Object(c.a)({parentName:"li"},{href:"#sidecar_image","aria-label":"sidecar_image permalink",className:"__permalink-lic"}),Object(o.b)("inlineCode",{parentName:"a"},"sidecar_image"))," - ",Object(o.b)("inlineCode",{parentName:"li"},'"envoyproxy/envoy:v1.11.2@sha256:a7769160c9c1a55bb8d07a3b71ce5d64f72b1f665f10d81aa1581bc3cf850d09"')," - The official upstream Envoy Docker image."),Object(o.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(o.b)("a",Object(c.a)({parentName:"li"},{id:"log_level",className:"__target-lic","aria-hidden":""})),Object(o.b)("a",Object(c.a)({parentName:"li"},{href:"#log_level","aria-label":"log_level permalink",className:"__permalink-lic"}),Object(o.b)("inlineCode",{parentName:"a"},"log_level"))," - ",Object(o.b)("inlineCode",{parentName:"li"},'"info"'),' - Envoy sidecar log level. "',Object(o.b)("inlineCode",{parentName:"li"},"debug"),'" is useful for\ndebugging Connect related issues.')),Object(o.b)("h2",{className:"g-type-display-3"},Object(o.b)("a",Object(c.a)({parentName:"h2"},{className:"__permalink-h",href:"#sidecar_task-parameters","aria-label":"sidecar_task parameters permalink"}),"\xbb"),Object(o.b)("a",Object(c.a)({parentName:"h2"},{className:"__target-h",id:"sidecar_task-parameters","aria-hidden":""})),Object(o.b)("inlineCode",{parentName:"h2"},"sidecar_task")," Parameters"),Object(o.b)("ul",null,Object(o.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(o.b)("a",Object(c.a)({parentName:"li"},{id:"name",className:"__target-lic","aria-hidden":""})),Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"#name","aria-label":"name permalink",className:"__permalink-lic"}),Object(o.b)("inlineCode",{parentName:"a"},"name"))," ",Object(o.b)("inlineCode",{parentName:"p"},'(string: "connect-proxy-<service>")')," - Name of the task. Defaults to\nincluding the name of the service it is a proxy for.")),Object(o.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(o.b)("a",Object(c.a)({parentName:"li"},{id:"driver",className:"__target-lic","aria-hidden":""})),Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"#driver","aria-label":"driver permalink",className:"__permalink-lic"}),Object(o.b)("inlineCode",{parentName:"a"},"driver"))," ",Object(o.b)("inlineCode",{parentName:"p"},'(string: "docker")')," - Driver used for the sidecar task.")),Object(o.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(o.b)("a",Object(c.a)({parentName:"li"},{id:"user",className:"__target-lic","aria-hidden":""})),Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"#user","aria-label":"user permalink",className:"__permalink-lic"}),Object(o.b)("inlineCode",{parentName:"a"},"user"))," ",Object(o.b)("inlineCode",{parentName:"p"},"(string: nil)")," - Determines which user is used to run the task, defaults\nto the same user the Nomad client is being run as.")),Object(o.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(o.b)("a",Object(c.a)({parentName:"li"},{id:"config",className:"__target-lic","aria-hidden":""})),Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"#config","aria-label":"config permalink",className:"__permalink-lic"}),Object(o.b)("inlineCode",{parentName:"a"},"config"))," ",Object(o.b)("inlineCode",{parentName:"p"},"(map: nil)")," - Configuration provided to the driver for initialization.")),Object(o.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(o.b)("a",Object(c.a)({parentName:"li"},{id:"env",className:"__target-lic","aria-hidden":""})),Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"#env","aria-label":"env permalink",className:"__permalink-lic"}),Object(o.b)("inlineCode",{parentName:"a"},"env"))," ",Object(o.b)("inlineCode",{parentName:"p"},"(map: nil)")," - Map of environment variables used by the driver.")),Object(o.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(o.b)("a",Object(c.a)({parentName:"li"},{id:"resources",className:"__target-lic","aria-hidden":""})),Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"#resources","aria-label":"resources permalink",className:"__permalink-lic"}),Object(o.b)("inlineCode",{parentName:"a"},"resources"))," ",Object(o.b)("code",null,"(",Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"/docs/job-specification/resources",title:"Nomad resources Job Specification"}),"Resources"),")")," - Resources needed by the sidecar task.")),Object(o.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(o.b)("a",Object(c.a)({parentName:"li"},{id:"meta",className:"__target-lic","aria-hidden":""})),Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"#meta","aria-label":"meta permalink",className:"__permalink-lic"}),Object(o.b)("inlineCode",{parentName:"a"},"meta"))," ",Object(o.b)("inlineCode",{parentName:"p"},"(map: nil)")," - Arbitrary metadata associated with this task that's opaque to Nomad.")),Object(o.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(o.b)("a",Object(c.a)({parentName:"li"},{id:"logs",className:"__target-lic","aria-hidden":""})),Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"#logs","aria-label":"logs permalink",className:"__permalink-lic"}),Object(o.b)("inlineCode",{parentName:"a"},"logs"))," ",Object(o.b)("code",null,"(",Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"/docs/job-specification/logs",title:"Nomad logs Job Specification"}),"Logs"),": nil)")," - Specifies logging configuration for the\n",Object(o.b)("inlineCode",{parentName:"p"},"stdout")," and ",Object(o.b)("inlineCode",{parentName:"p"},"stderr")," of the task.")),Object(o.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(o.b)("a",Object(c.a)({parentName:"li"},{id:"kill_timeout",className:"__target-lic","aria-hidden":""})),Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"#kill_timeout","aria-label":"kill_timeout permalink",className:"__permalink-lic"}),Object(o.b)("inlineCode",{parentName:"a"},"kill_timeout"))," ",Object(o.b)("inlineCode",{parentName:"p"},'(string: "5s")')," - Time between signalling a task that will be\nkilled and killing it.")),Object(o.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(o.b)("a",Object(c.a)({parentName:"li"},{id:"shutdown_delay",className:"__target-lic","aria-hidden":""})),Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"#shutdown_delay","aria-label":"shutdown_delay permalink",className:"__permalink-lic"}),Object(o.b)("inlineCode",{parentName:"a"},"shutdown_delay"))," ",Object(o.b)("inlineCode",{parentName:"p"},'(string: "5s")')," - Delay between deregistering the task from\nConsul and sending it a signal to shutdown.")),Object(o.b)("li",Object(c.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(o.b)("a",Object(c.a)({parentName:"li"},{id:"kill_signal",className:"__target-lic","aria-hidden":""})),Object(o.b)("p",{parentName:"li"},Object(o.b)("a",Object(c.a)({parentName:"p"},{href:"#kill_signal","aria-label":"kill_signal permalink",className:"__permalink-lic"}),Object(o.b)("inlineCode",{parentName:"a"},"kill_signal"))," ",Object(o.b)("inlineCode",{parentName:"p"},"(string:SIGINT)")," - Kill signal to use for the task, defaults to SIGINT."))),Object(o.b)("h2",{className:"g-type-display-3"},Object(o.b)("a",Object(c.a)({parentName:"h2"},{className:"__permalink-h",href:"#sidecar_task-examples","aria-label":"sidecar_task examples permalink"}),"\xbb"),Object(o.b)("a",Object(c.a)({parentName:"h2"},{className:"__target-h",id:"sidecar_task-examples","aria-hidden":""})),Object(o.b)("inlineCode",{parentName:"h2"},"sidecar_task")," Examples"),Object(o.b)("p",null,"The following example configures resources for the sidecar task and other configuration."),Object(o.b)("pre",{className:"language-hcl"},Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-hcl"}),"   ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"sidecar_task")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"resources")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n       ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"cpu")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token number"}),"500"),"\n       ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"memory")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token number"}),"1024"),"\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token keyword"}),"env")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n       ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"FOO")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"abc"'),"\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n     ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token property"}),"shutdown_delay")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token string"}),'"5s"'),"\n   ",Object(o.b)("span",Object(c.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n")))}j.isMDXComponent=!0},"2c7k":function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/job-specification/sidecar_task",function(){return t("+Q+y")}])}},[["2c7k",0,1,2,4,3,5,6]]]);