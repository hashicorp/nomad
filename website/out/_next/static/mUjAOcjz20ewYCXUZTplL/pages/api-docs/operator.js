(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"//In":function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Namespace - HTTP API","sidebar_title":"Namespaces","description":"The /namespace endpoints are used to query for and interact with namespaces.","__resourcePath":"api-docs/namespaces.mdx"}')},"/9Zs":function(e){e.exports=JSON.parse('{"layout":"api","page_title":"UI","sidebar_title":"UI","description":"The /ui namespace is used to access the Nomad web user interface.","__resourcePath":"api-docs/ui.mdx"}')},"0op4":function(e){e.exports=JSON.parse('{"layout":"api","page_title":"ACL Tokens - HTTP API","sidebar_title":"ACL Tokens","description":"The /acl/token/ endpoints are used to configure and manage ACL tokens.","__resourcePath":"api-docs/acl-tokens.mdx"}')},"3QYW":function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Scaling Policies - HTTP API","sidebar_title":"Scaling Policies <sup>Beta</sup>","description":"The /scaling/policy endpoints are used to list and view scaling policies.","__resourcePath":"api-docs/scaling-policies.mdx"}')},"5SmC":function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Client - HTTP API","sidebar_title":"Client","description":"The /client endpoints are used to access client statistics and inspect\\nallocations running on a particular client.","__resourcePath":"api-docs/client.mdx"}')},"97Ra":function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Regions - HTTP API","sidebar_title":"Regions","description":"The /regions endpoints list all known regions.","__resourcePath":"api-docs/regions.mdx"}')},AWRY:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Evaluations - HTTP API","sidebar_title":"Evaluations","description":"The /evaluation are used to query for and interact with evaluations.","__resourcePath":"api-docs/evaluations.mdx"}')},DBvm:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"ACL Policies - HTTP API","sidebar_title":"ACL Policies","description":"The /acl/policy endpoints are used to configure and manage ACL policies.","__resourcePath":"api-docs/acl-policies.mdx"}')},DIBJ:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Deployments - HTTP API","sidebar_title":"Deployments","description":"The /deployment endpoints are used to query for and interact with deployments.","__resourcePath":"api-docs/deployments.mdx"}')},DXCv:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Search - HTTP API","sidebar_title":"Search","description":"The /search endpoint is used to search for Nomad objects","__resourcePath":"api-docs/search.mdx"}')},I99S:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Operator - HTTP API","sidebar_title":"Operator","description":"The /operator endpoints provides cluster-level tools for Nomad operators, such\\nas interacting with the Raft subsystem.","__resourcePath":"api-docs/operator.mdx"}')},QiVw:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Allocations - HTTP API","sidebar_title":"Allocations","description":"The /allocation endpoints are used to query for and interact with allocations.","__resourcePath":"api-docs/allocations.mdx"}')},RT5o:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Metrics - HTTP API","sidebar_title":"Metrics","description":"The /metrics endpoint is used to view metrics for Nomad","__resourcePath":"api-docs/metrics.mdx"}')},W1ts:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"HTTP API","sidebar_title":"HTTP API Overview","description":"Nomad exposes a RESTful HTTP API to control almost every aspect of the\\nNomad agent.","__resourcePath":"api-docs/index.mdx"}')},WOWB:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Validate - HTTP API","sidebar_title":"Validate","description":"The /validate endpoints are used to validate object structs, fields, and\\ntypes.","__resourcePath":"api-docs/validate.mdx"}')},Yn3s:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return i}));var n=t("wx14"),c=t("Ff2n"),b=t("q1tI"),r=t.n(b),s=t("7ljp"),p=t("zwcN"),l=(r.a.createElement,{}),o=Object(p.a)({layout:"api",page_title:"Operator - HTTP API",sidebar_title:"Operator",description:"The /operator endpoints provides cluster-level tools for Nomad operators, such\nas interacting with the Raft subsystem.",__resourcePath:"api-docs/operator.mdx",__scans:{}});function i(e){var a=e.components,t=Object(c.a)(e,["components"]);return Object(s.b)(o,Object(n.a)({},l,t,{components:a,mdxType:"MDXLayout"}),Object(s.b)("h1",{className:"g-type-display-2"},Object(s.b)("a",Object(n.a)({parentName:"h1"},{className:"__permalink-h",href:"#v1-operator","aria-label":"v1 operator permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h1"},{className:"__target-h",id:"v1-operator","aria-hidden":""})),"/v1/operator"),Object(s.b)("p",null,"The ",Object(s.b)("inlineCode",{parentName:"p"},"/operator")," endpoint provides cluster-level tools for Nomad operators, such\nas interacting with the Raft subsystem."),Object(s.b)("div",{className:"alert alert-warning g-type-body",role:"alert"},Object(s.b)("p",{parentName:"div"},"Use this interface with extreme caution, as improper use could lead to a\nNomad outage and even loss of data.")),Object(s.b)("p",null,"See the ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://learn.hashicorp.com/nomad/operating-nomad/outage"}),"Outage Recovery")," guide for some examples of how\nthese capabilities are used. For a CLI to perform these operations manually,\nplease see the documentation for the\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/commands/operator"}),Object(s.b)("inlineCode",{parentName:"a"},"nomad operator"))," command."),Object(s.b)("h2",{className:"g-type-display-3"},Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#read-raft-configuration","aria-label":"read raft configuration permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"read-raft-configuration","aria-hidden":""})),"Read Raft Configuration"),Object(s.b)("p",null,"This endpoint queries the status of a client node registered with Nomad."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Method"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Path"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Produces"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"GET")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"/v1/operator/raft/configuration")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"application/json"))))),Object(s.b)("p",null,"The table below shows this endpoint's support for\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#blocking-queries"}),"blocking queries")," and\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#acls"}),"required ACLs"),"."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Blocking Queries"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"ACL Required"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"NO")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"management"))))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#parameters","aria-label":"parameters permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"parameters","aria-hidden":""})),"Parameters"),Object(s.b)("ul",null,Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"stale",className:"__target-lic","aria-hidden":""})),Object(s.b)("a",Object(n.a)({parentName:"li"},{href:"#stale","aria-label":"stale permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"stale"))," - Specifies if the cluster should respond without an active leader.\nThis is specified as a query string parameter.")),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-request","aria-label":"sample request permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-request","aria-hidden":""})),"Sample Request"),Object(s.b)("pre",{className:"language-shell-session"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token function"}),"curl")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"\\"))),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"    https://localhost:4646/v1/operator/raft/configuration\n"))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-response","aria-label":"sample response permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-response","aria-hidden":""})),"Sample Response"),Object(s.b)("pre",{className:"language-json"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Index"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"1"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Servers"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Address"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"127.0.0.1:4647"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ID"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"127.0.0.1:4647"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Leader"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Node"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"bacon-mac.global"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"RaftProtocol"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"2"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Voter"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(s.b)("h4",{className:"g-type-display-5"},Object(s.b)("a",Object(n.a)({parentName:"h4"},{className:"__permalink-h",href:"#field-reference","aria-label":"field reference permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h4"},{className:"__target-h",id:"field-reference","aria-hidden":""})),"Field Reference"),Object(s.b)("ul",null,Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"index",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#index","aria-label":"index permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Index"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(int)")," - The ",Object(s.b)("inlineCode",{parentName:"p"},"Index")," value is the Raft corresponding to this\nconfiguration. The latest configuration may not yet be committed if changes\nare in flight.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"servers",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#servers","aria-label":"servers permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Servers"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(array: Server)")," - The returned ",Object(s.b)("inlineCode",{parentName:"p"},"Servers")," array has information\nabout the servers in the Raft peer configuration."),Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"id",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#id","aria-label":"id permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"ID"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(string)")," - The ID of the server. This is the same as the ",Object(s.b)("inlineCode",{parentName:"p"},"Address"),"\nbut may be upgraded to a GUID in a future version of Nomad.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"node",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#node","aria-label":"node permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Node"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(string)")," - The node name of the server, as known to Nomad, or\n",Object(s.b)("inlineCode",{parentName:"p"},'"(unknown)"')," if the node is stale and not known.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"address",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#address","aria-label":"address permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Address"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(string)")," - The ",Object(s.b)("inlineCode",{parentName:"p"},"ip:port")," for the server.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"leader",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#leader","aria-label":"leader permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Leader"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(bool)"),' - is either "true" or "false" depending on the server\'s\nrole in the Raft configuration.')),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"voter",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#voter","aria-label":"voter permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Voter"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(bool)"),' - is "true" or "false", indicating if the server has a vote\nin the Raft configuration. Future versions of Nomad may add support for\nnon-voting servers.'))))),Object(s.b)("h2",{className:"g-type-display-3"},Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#remove-raft-peer","aria-label":"remove raft peer permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"remove-raft-peer","aria-hidden":""})),"Remove Raft Peer"),Object(s.b)("p",null,"This endpoint removes a Nomad server with given address from the Raft\nconfiguration. The return code signifies success or failure."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Method"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Path"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Produces"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"DELETE")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"/v1/operator/raft/peer")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"application/json"))))),Object(s.b)("p",null,"The table below shows this endpoint's support for\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#blocking-queries"}),"blocking queries")," and\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#acls"}),"required ACLs"),"."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Blocking Queries"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"ACL Required"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"NO")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"management"))))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#parameters-1","aria-label":"parameters permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"parameters-1","aria-hidden":""})),"Parameters"),Object(s.b)("ul",null,Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"address-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#address-1","aria-label":"address permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"address"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(string: <optional>)")," - Specifies the server to remove as\n",Object(s.b)("inlineCode",{parentName:"p"},"ip:port"),". This cannot be provided along with the ",Object(s.b)("inlineCode",{parentName:"p"},"id")," parameter.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"id-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#id-1","aria-label":"id permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"id"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(string: <optional>)")," - Specifies the server to remove as\n",Object(s.b)("inlineCode",{parentName:"p"},"id"),". This cannot be provided along with the ",Object(s.b)("inlineCode",{parentName:"p"},"address")," parameter."))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-request-1","aria-label":"sample request permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-request-1","aria-hidden":""})),"Sample Request"),Object(s.b)("pre",{className:"language-shell-session"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token function"}),"curl")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"\\"))),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"    --request DELETE \\\n    https://localhost:4646/v1/operator/raft/peer?address=1.2.3.4\n"))),Object(s.b)("h2",{className:"g-type-display-3"},Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#read-autopilot-configuration","aria-label":"read autopilot configuration permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"read-autopilot-configuration","aria-hidden":""})),"Read Autopilot Configuration"),Object(s.b)("p",null,"This endpoint retrieves its latest Autopilot configuration."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Method"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Path"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Produces"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"GET")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"/v1/operator/autopilot/configuration")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"application/json"))))),Object(s.b)("p",null,"The table below shows this endpoint's support for\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#blocking-queries"}),"blocking queries")," and\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#acls"}),"required ACLs"),"."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Blocking Queries"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"ACL Required"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"NO")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"operator:read"))))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-request-2","aria-label":"sample request permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-request-2","aria-hidden":""})),"Sample Request"),Object(s.b)("pre",{className:"language-shell-session"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token function"}),"curl")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"\\"))),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"    https://localhost:4646/v1/operator/autopilot/configuration\n"))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-response-1","aria-label":"sample response permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-response-1","aria-hidden":""})),"Sample Response"),Object(s.b)("pre",{className:"language-json"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"CleanupDeadServers"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"LastContactThreshold"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"200ms"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"MaxTrailingLogs"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"250"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ServerStabilizationTime"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"10s"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"EnableRedundancyZones"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"DisableUpgradeMigration"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"EnableCustomUpgrades"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"CreateIndex"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"4"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ModifyIndex"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"4"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(s.b)("p",null,"For more information about the Autopilot configuration options, see the\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/configuration/autopilot"}),"agent configuration section"),"."),Object(s.b)("h2",{className:"g-type-display-3"},Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#update-autopilot-configuration","aria-label":"update autopilot configuration permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"update-autopilot-configuration","aria-hidden":""})),"Update Autopilot Configuration"),Object(s.b)("p",null,"This endpoint updates the Autopilot configuration of the cluster."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Method"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Path"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Produces"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"PUT")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"/v1/operator/autopilot/configuration")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"application/json"))))),Object(s.b)("p",null,"The table below shows this endpoint's support for\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#blocking-queries"}),"blocking queries")," and\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#acls"}),"required ACLs"),"."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Blocking Queries"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"ACL Required"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"NO")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"operator:write"))))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#parameters-2","aria-label":"parameters permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"parameters-2","aria-hidden":""})),"Parameters"),Object(s.b)("ul",null,Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"cas",className:"__target-lic","aria-hidden":""})),Object(s.b)("a",Object(n.a)({parentName:"li"},{href:"#cas","aria-label":"cas permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"cas"))," ",Object(s.b)("inlineCode",{parentName:"li"},"(int: 0)")," - Specifies to use a Check-And-Set operation. The update will\nonly happen if the given index matches the ",Object(s.b)("inlineCode",{parentName:"li"},"ModifyIndex")," of the configuration\nat the time of writing.")),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-payload","aria-label":"sample payload permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-payload","aria-hidden":""})),"Sample Payload"),Object(s.b)("pre",{className:"language-json"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"CleanupDeadServers"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"LastContactThreshold"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"200ms"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"MaxTrailingLogs"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"250"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ServerStabilizationTime"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"10s"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"EnableRedundancyZones"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"DisableUpgradeMigration"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"EnableCustomUpgrades"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"CreateIndex"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"4"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ModifyIndex"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"4"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(s.b)("ul",null,Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"cleanupdeadservers",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#cleanupdeadservers","aria-label":"cleanupdeadservers permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"CleanupDeadServers"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(bool: true)")," - Specifies automatic removal of dead\nserver nodes periodically and whenever a new server is added to the cluster.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"lastcontactthreshold",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#lastcontactthreshold","aria-label":"lastcontactthreshold permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"LastContactThreshold"))," ",Object(s.b)("inlineCode",{parentName:"p"},'(string: "200ms")')," - Specifies the maximum amount of\ntime a server can go without contact from the leader before being considered\nunhealthy. Must be a duration value such as ",Object(s.b)("inlineCode",{parentName:"p"},"10s"),".")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"maxtrailinglogs",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#maxtrailinglogs","aria-label":"maxtrailinglogs permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"MaxTrailingLogs"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(int: 250)")," specifies the maximum number of log entries\nthat a server can trail the leader by before being considered unhealthy.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"serverstabilizationtime",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#serverstabilizationtime","aria-label":"serverstabilizationtime permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"ServerStabilizationTime"))," ",Object(s.b)("inlineCode",{parentName:"p"},'(string: "10s")')," - Specifies the minimum amount of\ntime a server must be stable in the 'healthy' state before being added to the\ncluster. Only takes effect if all servers are running Raft protocol version 3\nor higher. Must be a duration value such as ",Object(s.b)("inlineCode",{parentName:"p"},"30s"),".")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"enableredundancyzones",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#enableredundancyzones","aria-label":"enableredundancyzones permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"EnableRedundancyZones"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(bool: false)")," - (Enterprise-only) Specifies whether\nto enable redundancy zones.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"disableupgrademigration",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#disableupgrademigration","aria-label":"disableupgrademigration permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"DisableUpgradeMigration"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(bool: false)")," - (Enterprise-only) Disables Autopilot's\nupgrade migration strategy in Nomad Enterprise of waiting until enough\nnewer-versioned servers have been added to the cluster before promoting any of\nthem to voters.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"enablecustomupgrades",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#enablecustomupgrades","aria-label":"enablecustomupgrades permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"EnableCustomUpgrades"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(bool: false)")," - (Enterprise-only) Specifies whether to\nenable using custom upgrade versions when performing migrations."))),Object(s.b)("h2",{className:"g-type-display-3"},Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#read-health","aria-label":"read health permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"read-health","aria-hidden":""})),"Read Health"),Object(s.b)("p",null,"This endpoint queries the health of the autopilot status."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Method"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Path"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Produces"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"GET")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"/v1/operator/autopilot/health")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"application/json"))))),Object(s.b)("p",null,"The table below shows this endpoint's support for\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#blocking-queries"}),"blocking queries")," and\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#acls"}),"required ACLs"),"."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Blocking Queries"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"ACL Required"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"NO")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"operator:read"))))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-request-3","aria-label":"sample request permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-request-3","aria-hidden":""})),"Sample Request"),Object(s.b)("pre",{className:"language-shell-session"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token function"}),"curl")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"\\"))),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"    https://localhost:4646/v1/operator/autopilot/health\n"))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-response-2","aria-label":"sample response permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-response-2","aria-hidden":""})),"Sample response"),Object(s.b)("pre",{className:"language-json"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Healthy"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"FailureTolerance"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Servers"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ID"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"e349749b-3303-3ddf-959c-b5885a0e1f6e"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Name"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"node1"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Address"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"127.0.0.1:8300"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"SerfStatus"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"alive"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Version"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"0.8.0"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Leader"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"LastContact"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"0s"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"LastTerm"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"2"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"LastIndex"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"46"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Healthy"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Voter"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"StableSince"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"2017-03-06T22:07:51Z"'),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ID"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"e36ee410-cc3c-0a0c-c724-63817ab30303"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Name"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"node2"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Address"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"127.0.0.1:8205"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"SerfStatus"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"alive"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Version"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"0.8.0"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Leader"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"LastContact"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"27.291304ms"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"LastTerm"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"2"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"LastIndex"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"46"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Healthy"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Voter"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"StableSince"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"2017-03-06T22:18:26Z"'),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(s.b)("ul",null,Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"healthy",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#healthy","aria-label":"healthy permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Healthy"))," is whether all the servers are currently healthy.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"failuretolerance",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#failuretolerance","aria-label":"failuretolerance permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"FailureTolerance"))," is the number of redundant healthy servers that could be\nfail without causing an outage (this would be 2 in a healthy cluster of 5\nservers).")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"servers-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#servers-1","aria-label":"servers permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Servers"))," holds detailed health information on each server:"),Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"id-2",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#id-2","aria-label":"id permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"ID"))," is the Raft ID of the server.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"name",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#name","aria-label":"name permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Name"))," is the node name of the server.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"address-2",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#address-2","aria-label":"address permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Address"))," is the address of the server.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"serfstatus",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#serfstatus","aria-label":"serfstatus permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"SerfStatus"))," is the SerfHealth check status for the server.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"version",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#version","aria-label":"version permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Version"))," is the Nomad version of the server.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"leader-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#leader-1","aria-label":"leader permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Leader"))," is whether this server is currently the leader.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"lastcontact",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#lastcontact","aria-label":"lastcontact permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"LastContact"))," is the time elapsed since this server's last contact with the leader.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"lastterm",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#lastterm","aria-label":"lastterm permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"LastTerm"))," is the server's last known Raft leader term.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"lastindex",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#lastindex","aria-label":"lastindex permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"LastIndex"))," is the index of the server's last committed Raft log entry.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"healthy-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#healthy-1","aria-label":"healthy permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Healthy"))," is whether the server is healthy according to the current Autopilot configuration.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"voter-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#voter-1","aria-label":"voter permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Voter"))," is whether the server is a voting member of the Raft cluster.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"stablesince",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#stablesince","aria-label":"stablesince permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"StableSince"))," is the time this server has been in its current ",Object(s.b)("inlineCode",{parentName:"p"},"Healthy")," state."))),Object(s.b)("p",{parentName:"li"},"The HTTP status code will indicate the health of the cluster. If ",Object(s.b)("inlineCode",{parentName:"p"},"Healthy")," is true, then a\nstatus of 200 will be returned. If ",Object(s.b)("inlineCode",{parentName:"p"},"Healthy")," is false, then a status of 429 will be returned."))),Object(s.b)("h2",{className:"g-type-display-3"},Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#read-scheduler-configuration","aria-label":"read scheduler configuration permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"read-scheduler-configuration","aria-hidden":""})),"Read Scheduler Configuration"),Object(s.b)("p",null,"This endpoint retrieves the latest Scheduler configuration. This API was introduced in\nNomad 0.9 and currently supports enabling/disabling preemption. More options may be added in\nthe future."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Method"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Path"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Produces"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"GET")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"/v1/operator/scheduler/configuration")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"application/json"))))),Object(s.b)("p",null,"The table below shows this endpoint's support for\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#blocking-queries"}),"blocking queries")," and\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#acls"}),"required ACLs"),"."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Blocking Queries"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"ACL Required"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"NO")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"operator:read"))))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-request-4","aria-label":"sample request permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-request-4","aria-hidden":""})),"Sample Request"),Object(s.b)("pre",{className:"language-shell-session"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token function"}),"curl")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"\\"))),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"    https://localhost:4646/v1/operator/scheduler/configuration\n"))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-response-3","aria-label":"sample response permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-response-3","aria-hidden":""})),"Sample Response"),Object(s.b)("pre",{className:"language-json"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Index"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"5"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"KnownLeader"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"LastContact"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"SchedulerConfig"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"CreateIndex"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"5"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ModifyIndex"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"5"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"SchedulerAlgorithm"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"spread"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"PreemptionConfig"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"SystemSchedulerEnabled"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"BatchSchedulerEnabled"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ServiceSchedulerEnabled"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(s.b)("h4",{className:"g-type-display-5"},Object(s.b)("a",Object(n.a)({parentName:"h4"},{className:"__permalink-h",href:"#field-reference-1","aria-label":"field reference permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h4"},{className:"__target-h",id:"field-reference-1","aria-hidden":""})),"Field Reference"),Object(s.b)("ul",null,Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"index-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#index-1","aria-label":"index permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Index"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(int)")," - The ",Object(s.b)("inlineCode",{parentName:"p"},"Index")," value is the Raft commit index corresponding to this\nconfiguration.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"schedulerconfig",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#schedulerconfig","aria-label":"schedulerconfig permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"SchedulerConfig"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(SchedulerConfig)")," - The returned ",Object(s.b)("inlineCode",{parentName:"p"},"SchedulerConfig")," object has configuration\nsettings mentioned below."),Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"scheduleralgorithm",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#scheduleralgorithm","aria-label":"scheduleralgorithm permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"SchedulerAlgorithm"))," ",Object(s.b)("inlineCode",{parentName:"p"},'(string: "binpack")')," - Specifies whether scheduler binpacks or spreads allocations on available nodes.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"preemptionconfig",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#preemptionconfig","aria-label":"preemptionconfig permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"PreemptionConfig"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(PreemptionConfig)")," - Options to enable preemption for various schedulers."),Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"systemschedulerenabled",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#systemschedulerenabled","aria-label":"systemschedulerenabled permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"SystemSchedulerEnabled"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(bool: true)")," - Specifies whether preemption for system jobs is enabled. Note that\nthis defaults to true.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"batchschedulerenabled",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#batchschedulerenabled","aria-label":"batchschedulerenabled permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"BatchSchedulerEnabled"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(bool: false)")," - Specifies whether preemption for batch jobs is enabled. Note that\nthis defaults to false and must be explicitly enabled.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"serviceschedulerenabled",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#serviceschedulerenabled","aria-label":"serviceschedulerenabled permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"ServiceSchedulerEnabled"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(bool: false)")," - Specifies whether preemption for service jobs is enabled. Note that\nthis defaults to false and must be explicitly enabled.")))),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"createindex",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#createindex","aria-label":"createindex permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"CreateIndex"))," - The Raft index at which the config was created.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"modifyindex",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#modifyindex","aria-label":"modifyindex permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"ModifyIndex"))," - The Raft index at which the config was modified."))))),Object(s.b)("h2",{className:"g-type-display-3"},Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#update-scheduler-configuration","aria-label":"update scheduler configuration permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"update-scheduler-configuration","aria-hidden":""})),"Update Scheduler Configuration"),Object(s.b)("p",null,"This endpoint updates the scheduler configuration of the cluster."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Method"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Path"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Produces"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"PUT"),", ",Object(s.b)("inlineCode",{parentName:"td"},"POST")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"/v1/operator/scheduler/configuration")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"application/json"))))),Object(s.b)("p",null,"The table below shows this endpoint's support for\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#blocking-queries"}),"blocking queries")," and\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#acls"}),"required ACLs"),"."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Blocking Queries"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"ACL Required"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"NO")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"operator:write"))))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#bootstrap-configuration-element","aria-label":"bootstrap configuration element permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"bootstrap-configuration-element","aria-hidden":""})),"Bootstrap Configuration Element"),Object(s.b)("p",null,"The ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/configuration/server#default_scheduler_config"}),Object(s.b)("inlineCode",{parentName:"a"},"default_scheduler_config"))," attribute of the server stanza will provide a\nstarting value for this configuration. Once bootstrapped, the value in the\nserver state is authoritative."),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#parameters-3","aria-label":"parameters permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"parameters-3","aria-hidden":""})),"Parameters"),Object(s.b)("ul",null,Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"cas-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("a",Object(n.a)({parentName:"li"},{href:"#cas-1","aria-label":"cas permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"cas"))," ",Object(s.b)("inlineCode",{parentName:"li"},"(int: 0)")," - Specifies to use a Check-And-Set operation. The update will\nonly happen if the given index matches the ",Object(s.b)("inlineCode",{parentName:"li"},"ModifyIndex")," of the configuration\nat the time of writing.")),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-payload-1","aria-label":"sample payload permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-payload-1","aria-hidden":""})),"Sample Payload"),Object(s.b)("pre",{className:"language-json"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"SchedulerAlgorithm"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"spread"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"PreemptionConfig"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"SystemSchedulerEnabled"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"BatchSchedulerEnabled"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ServiceSchedulerEnabled"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(s.b)("ul",null,Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"scheduleralgorithm-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#scheduleralgorithm-1","aria-label":"scheduleralgorithm permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"SchedulerAlgorithm"))," ",Object(s.b)("inlineCode",{parentName:"p"},'(string: "binpack")')," - Specifies whether scheduler\nbinpacks or spreads allocations on available nodes.  Possible values are\n",Object(s.b)("inlineCode",{parentName:"p"},'"binpack"')," and ",Object(s.b)("inlineCode",{parentName:"p"},'"spread"'))),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"preemptionconfig-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#preemptionconfig-1","aria-label":"preemptionconfig permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"PreemptionConfig"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(PreemptionConfig)")," - Options to enable preemption for\nvarious schedulers."),Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"systemschedulerenabled-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#systemschedulerenabled-1","aria-label":"systemschedulerenabled permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"SystemSchedulerEnabled"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(bool: true)")," - Specifies whether preemption for\nsystem jobs is enabled. Note that if this is set to true, then system jobs\ncan preempt any other jobs.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"batchschedulerenabled-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#batchschedulerenabled-1","aria-label":"batchschedulerenabled permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"BatchSchedulerEnabled"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(bool: false)")," - Specifies\nwhether preemption for batch jobs is enabled. Note that if this is set to\ntrue, then batch jobs can preempt any other jobs.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"serviceschedulerenabled-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#serviceschedulerenabled-1","aria-label":"serviceschedulerenabled permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"ServiceSchedulerEnabled"))," ",Object(s.b)("inlineCode",{parentName:"p"},"(bool: false)")," - Specifies\nwhether preemption for service jobs is enabled. Note that if this is set to\ntrue, then service jobs can preempt any other jobs."))))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-response-4","aria-label":"sample response permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-response-4","aria-hidden":""})),"Sample Response"),Object(s.b)("pre",{className:"language-json"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Updated"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Index"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"15"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(s.b)("ul",null,Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"updated",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#updated","aria-label":"updated permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Updated"))," - Indicates that the configuration was updated when a ",Object(s.b)("inlineCode",{parentName:"p"},"cas")," value is\nprovided. For non-CAS requests, this field will be false even though the\nupdate is applied.")),Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"index-2",className:"__target-lic","aria-hidden":""})),Object(s.b)("p",{parentName:"li"},Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"#index-2","aria-label":"index permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"Index"))," - Current Raft index when the request was received."))),Object(s.b)("h2",{className:"g-type-display-3"},Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#get-nomad-enterprise-license-info","aria-label":"get nomad enterprise license info permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"get-nomad-enterprise-license-info","aria-hidden":""})),"Get Nomad Enterprise License Info"),Object(s.b)("p",null,"This endpoint gets information about the current license."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Method"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Path"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Produces"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"GET")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"/v1/operator/license")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"application/json"))))),Object(s.b)("p",null,"The table below shows this endpoint's support for\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#blocking-queries"}),"blocking queries")," and\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#acls"}),"required ACLs"),"."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Blocking Queries"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"ACL Required"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"NO")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"operator:read"))))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-request-5","aria-label":"sample request permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-request-5","aria-hidden":""})),"Sample Request"),Object(s.b)("pre",{className:"language-shell-session"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token function"}),"curl")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"\\"))),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"    https://localhost:4646/v1/operator/license\n"))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-response-5","aria-label":"sample response permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-response-5","aria-hidden":""})),"Sample Response"),Object(s.b)("pre",{className:"language-json"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"KnownLeader"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"LastContact"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"LastIndex"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"License"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"CustomerID"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"temporary license customer"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"ExpirationTime"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"2020-06-01T14:50:16.581304556-04:00"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Features"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"Automated Upgrades"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"Enhanced Read Scalability"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"Redundancy Zones"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"Namespaces"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"Resource Quotas"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"Preemption"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"Audit Logging"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"Setinel Policies"'),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Flags"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"modules"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n        ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"governance-policy"'),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"InstallationID"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"*"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"IssueTime"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"2020-06-01T08:50:16.581304556-04:00"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"LicenseID"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"temporary-license"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Modules"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n      ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"governance-policy"'),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Product"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"nomad"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"StartTime"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"2020-06-01T08:50:16.581304556-04:00"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"TerminationTime"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"2020-06-01T14:50:16.581304556-04:00"'),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"RequestTime"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"0"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(s.b)("h2",{className:"g-type-display-3"},Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#updating-the-nomad-enterprise-license","aria-label":"updating the nomad enterprise license permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"updating-the-nomad-enterprise-license","aria-hidden":""})),"Updating the Nomad Enterprise License"),Object(s.b)("p",null,"This endpoint updates the Nomad license."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Method"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Path"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Produces"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"PUT")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"/v1/operator/license")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"application/json"))))),Object(s.b)("p",null,"The table below shows this endpoint's support for\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#blocking-queries"}),"blocking queries")," and\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#acls"}),"required ACLs"),"."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Blocking Queries"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"ACL Required"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"NO")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"operator:write"))))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-payload-2","aria-label":"sample payload permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-payload-2","aria-hidden":""})),"Sample Payload"),Object(s.b)("p",null,"The payload is the raw license blob."),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-request-6","aria-label":"sample request permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-request-6","aria-hidden":""})),"Sample Request"),Object(s.b)("pre",{className:"language-shell-session"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token function"}),"curl")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"\\"))),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"    --request PUT \\\n    --data @nomad.license \\\n    https://localhost:4646/v1/operator/license\n"))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-response-6","aria-label":"sample response permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-response-6","aria-hidden":""})),"Sample Response"),Object(s.b)("pre",{className:"language-json"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"Index"'),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"15"),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(s.b)("h2",{className:"g-type-display-3"},Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#generate-snapshot","aria-label":"generate snapshot permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"generate-snapshot","aria-hidden":""})),"Generate Snapshot"),Object(s.b)("p",null,"This endpoint generates and returns an atomic, point-in-time snapshot of the\nNomad server state for disaster recovery. Snapshots include all state managed by Nomad's\nRaft ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/internals/consensus"}),"consensus protocol"),"."),Object(s.b)("p",null,"Snapshots are exposed as gzipped tar archives which internally contain the Raft\nmetadata required to restore, as well as a binary serialized version of the\nNomad server state. The contents are covered internally by SHA-256 hashes.\nThese hashes are verified during snapshot restore operations. The structure of\nthe archive is internal to Nomad and not intended to be used other than for\nrestore operations. The archives are not designed to be modified before a\nrestore."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Method"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Path"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Produces"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(s.b)("inlineCode",{parentName:"td"},"GET")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(s.b)("inlineCode",{parentName:"td"},"/v1/operator/snapshot")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"200 application/x-gzip"))))),Object(s.b)("p",null,"The table below shows this endpoint's support for\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#blocking-queries"}),"blocking queries")," and\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#acls"}),"required ACLs"),"."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Blocking Queries"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"ACL Required"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"NO")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"management"))))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#parameters-4","aria-label":"parameters permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"parameters-4","aria-hidden":""})),"Parameters"),Object(s.b)("ul",null,Object(s.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(s.b)("a",Object(n.a)({parentName:"li"},{id:"stale-1",className:"__target-lic","aria-hidden":""})),Object(s.b)("a",Object(n.a)({parentName:"li"},{href:"#stale-1","aria-label":"stale permalink",className:"__permalink-lic"}),Object(s.b)("inlineCode",{parentName:"a"},"stale"))," - Specifies if the cluster should respond without an active leader.\nThis is specified as a query string parameter.")),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-request-7","aria-label":"sample request permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-request-7","aria-hidden":""})),"Sample Request"),Object(s.b)("pre",{className:"language-shell-session"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token function"}),"curl")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"\\"))),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"    -o snapshot.tgz \\\n    http://127.0.0.1:4646/v1/operator/snapshot\n"))),Object(s.b)("p",null,"The above example results in a tarball named ",Object(s.b)("inlineCode",{parentName:"p"},"snapshot.tgz")," in the current working directory."),Object(s.b)("h2",{className:"g-type-display-3"},Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#restore-snapshot","aria-label":"restore snapshot permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"restore-snapshot","aria-hidden":""})),"Restore Snapshot"),Object(s.b)("p",null,"This endpoint restores a point-in-time snapshot of the Nomad server state."),Object(s.b)("p",null,"Restores involve a potentially dangerous low-level Raft operation that is not\ndesigned to handle server failures during a restore. This operation is primarily\nintended to be used when recovering from a disaster, restoring into a fresh\ncluster of Nomad servers."),Object(s.b)("p",null,"The body of the request should be a snapshot archive returned from a previous\ncall to the ",Object(s.b)("inlineCode",{parentName:"p"},"GET")," method."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Method"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Path"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Produces"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(s.b)("inlineCode",{parentName:"td"},"PUT")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(s.b)("inlineCode",{parentName:"td"},"/v1/operator/snapshot")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"200 text/plain (empty body)"))))),Object(s.b)("p",null,"The table below shows this endpoint's support for\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#blocking-queries"}),"blocking queries")," and\n",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"/api-docs#acls"}),"required ACLs"),"."),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Blocking Queries"),Object(s.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"ACL Required"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"NO")),Object(s.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"management"))))),Object(s.b)("h3",{className:"g-type-display-4"},Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__permalink-h",href:"#sample-request-8","aria-label":"sample request permalink"}),"\xbb"),Object(s.b)("a",Object(n.a)({parentName:"h3"},{className:"__target-h",id:"sample-request-8","aria-hidden":""})),"Sample Request"),Object(s.b)("pre",{className:"language-shell-session"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token function"}),"curl")," ",Object(s.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"\\"))),"\n",Object(s.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"    --request PUT \\\n    --data-binary @snapshot.tgz \\\n    http://127.0.0.1:4646/v1/operator/snapshot\n"))),Object(s.b)("div",{className:"alert alert-warning g-type-body",role:"alert"},Object(s.b)("p",{parentName:"div"},"Some tools default to www/encoded uploads. Nomad expects the snapshot to be\nin pure binary form.")))}i.isMDXComponent=!0},Zpxy:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Sentinel Policies - HTTP API","sidebar_title":"Sentinel Policies","description":"The /sentinel/policy/ endpoints are used to configure and manage Sentinel policies.","__resourcePath":"api-docs/sentinel-policies.mdx"}')},"cz0+":function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Nodes - HTTP API","sidebar_title":"Nodes","description":"The /node endpoints are used to query for and interact with client nodes.","__resourcePath":"api-docs/nodes.mdx"}')},"dS/u":function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Jobs - HTTP API","sidebar_title":"Jobs","description":"The /jobs endpoints are used to query for and interact with jobs.","__resourcePath":"api-docs/jobs.mdx"}')},gCd4:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Quotas - HTTP API","sidebar_title":"Quotas","description":"The /quota endpoints are used to query for and interact with quotas.","__resourcePath":"api-docs/quotas.mdx"}')},"h+3b":function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Volumes - HTTP API","sidebar_title":"Volumes","description":"The `/volume` endpoints are used to query for and interact with volumes.","__resourcePath":"api-docs/volumes.mdx"}')},iVy0:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Plugins - HTTP API","sidebar_title":"Plugins","description":"The `/plugin` endpoints are used to query for and interact with dynamic plugins.","__resourcePath":"api-docs/plugins.mdx"}')},l1k7:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Status - HTTP API","sidebar_title":"Status","description":"The /status endpoints query the Nomad system status.","__resourcePath":"api-docs/status.mdx"}')},u5Rs:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Agent - HTTP API","sidebar_title":"Agent","description":"The /agent endpoints interact with the local Nomad agent to interact with\\nmembers and servers.","__resourcePath":"api-docs/agent.mdx"}')},ud46:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"Libraries and SDKs - HTTP API","sidebar_title":"Libraries &amp; SDKs","description":"There are many third-party libraries for interacting with Nomad\'s HTTP API.\\nThis page lists the HashiCorp and community-maintained Nomad HTTP API client\\nlibraries.","__resourcePath":"api-docs/libraries-and-sdks.mdx"}')},xl0a:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/api-docs/operator",function(){return t("Yn3s")}])},yhEY:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"System - HTTP API","sidebar_title":"System","description":"The /system endpoints are used for system maintenance.","__resourcePath":"api-docs/system.mdx"}')},yzVC:function(e){e.exports=JSON.parse('{"layout":"api","page_title":"JSON Job Specification - HTTP API","sidebar_title":"JSON Jobs","description":"Jobs can also be specified via the HTTP API using a JSON format. This guide\\ndiscusses the job specification in JSON format.","__resourcePath":"api-docs/json-jobs.mdx"}')},zwcN:function(e,a,t){"use strict";t.d(a,"a",(function(){return F}));var n=t("wx14"),c=t("Ff2n"),b=t("q1tI"),r=t.n(b),s=t("8Kt/"),p=t.n(s),l=t("YFqc"),o=t.n(l),i=t("JrEN"),m=t.n(i),O=t("ZrrF"),j=t("0XJD"),d=t("DBvm"),N=t("0op4"),u=t("u5Rs"),h=t("QiVw"),g=t("5SmC"),k=t("DIBJ"),f=t("AWRY"),y=t("W1ts"),_=t("dS/u"),C=t("yzVC"),v=t("ud46"),T=t("RT5o"),S=t("//In"),P=t("cz0+"),w=t("I99S"),x=t("iVy0"),q=t("gCd4"),A=t("97Ra"),I=t("3QYW"),R=t("DXCv"),L=t("Zpxy"),E=t("l1k7"),H=t("yhEY"),J=t("/9Zs"),D=t("WOWB"),M=t("h+3b"),z=t("kw+s"),B=["index","-----------","libraries-and-sdks","json-jobs","-----------","acl-policies","acl-tokens","agent","allocations","client","deployments","evaluations","jobs","namespaces","nodes","metrics","operator","plugins","quotas","regions","scaling-policies","search","sentinel-policies","status","system","ui","validate","volumes"],U=r.a.createElement,Q=[d,N,u,h,g,k,f,y,_,C,v,T,S,P,w,x,q,A,I,R,L,E,H,J,D,M],V=Object(j.a)({product:"nomad"});function F(e){function a(a){var t=a.children,b=Object(c.a)(a,["children"]);return U(V,null,U(m.a,Object(n.a)({},b,{product:"nomad",head:{is:p.a,title:"".concat(e.page_title," | Nomad by HashiCorp"),description:e.description,siteName:"Nomad by HashiCorp"},sidenav:{Link:o.a,category:"api-docs",currentPage:a.path,data:Q,order:B,disableFilter:!0},resourceURL:"https://github.com/hashicorp/nomad/blob/master/website/pages/".concat(e.__resourcePath)}),U(O.SearchProvider,null,U(z.a,null),t)))}return a.getInitialProps=function(e){return{path:e.asPath}},a}}},[["xl0a",0,1,2,4,3,5]]]);