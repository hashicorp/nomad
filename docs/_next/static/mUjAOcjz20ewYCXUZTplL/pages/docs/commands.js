(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{"/DhJ":function(e,a,n){"use strict";n.r(a),n.d(a,"default",(function(){return p}));var t=n("wx14"),s=n("Ff2n"),o=n("q1tI"),c=n.n(o),m=n("7ljp"),l=n("j1un"),i=(c.a.createElement,{}),b=Object(l.a)({layout:"docs",page_title:"Commands (CLI)",sidebar_title:"Commands (CLI)",description:"Nomad can be controlled via a command-line interface. This page documents all the commands Nomad accepts.\n",__resourcePath:"docs/commands/index.mdx",__scans:{}});function p(e){var a=e.components,n=Object(s.a)(e,["components"]);return Object(m.b)(b,Object(t.a)({},i,n,{components:a,mdxType:"MDXLayout"}),Object(m.b)("h1",{className:"g-type-display-2"},Object(m.b)("a",Object(t.a)({parentName:"h1"},{className:"__permalink-h",href:"#nomad-commands-cli","aria-label":"nomad commands cli permalink"}),"\xbb"),Object(m.b)("a",Object(t.a)({parentName:"h1"},{className:"__target-h",id:"nomad-commands-cli","aria-hidden":""})),"Nomad Commands (CLI)"),Object(m.b)("p",null,"Nomad is controlled via a very easy to use command-line interface (CLI).\nNomad is only a single command-line application: ",Object(m.b)("inlineCode",{parentName:"p"},"nomad"),', which\ntakes a subcommand such as "agent" or "status". The complete list of\nsubcommands is in the navigation to the left.'),Object(m.b)("p",null,"The Nomad CLI is a well-behaved command line application. In erroneous cases,\na non-zero exit status will be returned. It also responds to ",Object(m.b)("inlineCode",{parentName:"p"},"-h")," and ",Object(m.b)("inlineCode",{parentName:"p"},"--help"),"\nas you would most likely expect."),Object(m.b)("p",null,"To view a list of the available commands at any time, just run Nomad\nwith no arguments. To get help for any specific subcommand, run the subcommand\nwith the ",Object(m.b)("inlineCode",{parentName:"p"},"-h")," argument."),Object(m.b)("p",null,"Each command has been conveniently documented on this website. Links to each\ncommand can be found on the left."),Object(m.b)("h2",{className:"g-type-display-3"},Object(m.b)("a",Object(t.a)({parentName:"h2"},{className:"__permalink-h",href:"#autocomplete","aria-label":"autocomplete permalink"}),"\xbb"),Object(m.b)("a",Object(t.a)({parentName:"h2"},{className:"__target-h",id:"autocomplete","aria-hidden":""})),"Autocomplete"),Object(m.b)("p",null,"Nomad's CLI supports command autocomplete. Autocomplete can be installed or\nuninstalled by running the following on bash or zsh shells:"),Object(m.b)("pre",{className:"language-shell-session"},Object(m.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell-session"}),Object(m.b)("span",Object(t.a)({parentName:"code"},{className:"token command"}),Object(m.b)("span",Object(t.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(m.b)("span",Object(t.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad -autocomplete-install")),"\n",Object(m.b)("span",Object(t.a)({parentName:"code"},{className:"token command"}),Object(m.b)("span",Object(t.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(m.b)("span",Object(t.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad -autocomplete-uninstall")),"\n")),Object(m.b)("h2",{className:"g-type-display-3"},Object(m.b)("a",Object(t.a)({parentName:"h2"},{className:"__permalink-h",href:"#command-contexts","aria-label":"command contexts permalink"}),"\xbb"),Object(m.b)("a",Object(t.a)({parentName:"h2"},{className:"__target-h",id:"command-contexts","aria-hidden":""})),"Command Contexts"),Object(m.b)("p",null,"Nomad's CLI commands have implied contexts in their naming convention. Because\nthe CLI is most commonly used to manipulate or query jobs, you can assume that\nany given command is working in that context unless the command name implies\notherwise."),Object(m.b)("p",null,"For example, the ",Object(m.b)("inlineCode",{parentName:"p"},"nomad job run")," command is used to run a new job, the ",Object(m.b)("inlineCode",{parentName:"p"},"nomad status")," command queries information about existing jobs, etc. Conversely,\ncommands with a prefix in their name likely operate in a different context.\nExamples include the ",Object(m.b)("inlineCode",{parentName:"p"},"nomad agent-info")," or ",Object(m.b)("inlineCode",{parentName:"p"},"nomad node drain")," commands,\nwhich operate in the agent or node contexts respectively."),Object(m.b)("h3",{className:"g-type-display-4"},Object(m.b)("a",Object(t.a)({parentName:"h3"},{className:"__permalink-h",href:"#remote-usage","aria-label":"remote usage permalink"}),"\xbb"),Object(m.b)("a",Object(t.a)({parentName:"h3"},{className:"__target-h",id:"remote-usage","aria-hidden":""})),"Remote Usage"),Object(m.b)("p",null,"The Nomad CLI may be used to interact with a remote Nomad cluster, even when the\nlocal machine does not have a running Nomad agent. To do so, set the\n",Object(m.b)("inlineCode",{parentName:"p"},"NOMAD_ADDR")," environment variable or use the ",Object(m.b)("inlineCode",{parentName:"p"},"-address=<addr>")," flag when running\ncommands."),Object(m.b)("pre",{className:"language-shell-session"},Object(m.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell-session"}),Object(m.b)("span",Object(t.a)({parentName:"code"},{className:"token command"}),Object(m.b)("span",Object(t.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(m.b)("span",Object(t.a)({parentName:"span"},{className:"token bash language-bash"}),Object(m.b)("span",Object(t.a)({parentName:"span"},{className:"token assign-left variable"}),"NOMAD_ADDR"),Object(m.b)("span",Object(t.a)({parentName:"span"},{className:"token operator"}),"="),"https://remote-address:4646 nomad status")),"\n",Object(m.b)("span",Object(t.a)({parentName:"code"},{className:"token command"}),Object(m.b)("span",Object(t.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(m.b)("span",Object(t.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad status -address",Object(m.b)("span",Object(t.a)({parentName:"span"},{className:"token operator"}),"="),"https://remote-address:4646")),"\n")),Object(m.b)("p",null,"The provided address must be reachable from your local machine. There are a\nvariety of ways to accomplish this (VPN, SSH Tunnel, etc). If the port is\nexposed to the public internet it is highly recommended to configure TLS."))}p.isMDXComponent=!0},"2Imh":function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/commands",function(){return n("/DhJ")}])}},[["2Imh",0,1,2,4,3,5,6]]]);