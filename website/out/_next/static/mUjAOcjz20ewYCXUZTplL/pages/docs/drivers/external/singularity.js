(window.webpackJsonp=window.webpackJsonp||[]).push([[190],{qKe4:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/drivers/external/singularity",function(){return t("rdV4")}])},rdV4:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return o}));var n=t("wx14"),c=t("Ff2n"),b=t("q1tI"),r=t.n(b),i=t("7ljp"),s=t("j1un"),l=(r.a.createElement,{}),p=Object(s.a)({layout:"docs",page_title:"Drivers: Singularity",sidebar_title:"Singularity",description:"The Singularity task driver is used to run application containers using Singularity.",__resourcePath:"docs/drivers/external/singularity.mdx",__scans:{}});function o(e){var a=e.components,t=Object(c.a)(e,["components"]);return Object(i.b)(p,Object(n.a)({},l,t,{components:a,mdxType:"MDXLayout"}),Object(i.b)("h1",{className:"g-type-display-2"},Object(i.b)("a",Object(n.a)({parentName:"h1"},{className:"__permalink-h",href:"#singularity-driver","aria-label":"singularity driver permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h1"},{className:"__target-h",id:"singularity-driver","aria-hidden":""})),"Singularity Driver"),Object(i.b)("p",null,"Name: ",Object(i.b)("inlineCode",{parentName:"p"},"Singularity")),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Singularity")," driver provides an interface for using Singularity for running application\ncontainers. You can download the external Singularity driver ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/sylabs/nomad-driver-singularity"}),"here"),"."),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#task-configuration","aria-label":"task configuration permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"task-configuration","aria-hidden":""})),"Task Configuration"),Object(i.b)("pre",{className:"language-hcl"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),"task ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"lolcow"')," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"driver")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"Singularity"'),"\n\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n     ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"# this example run an image from sylabs container library with the"),"\n     ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"# canonical example of lolcow"),"\n     ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"image")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"library://sylabsed/examples/lolcow:latest"'),"\n     ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token comment"}),"# command can be run, exec or test"),"\n     ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"command")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"run"'),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Singularity")," driver supports the following configuration in the job spec:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"image",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#image","aria-label":"image permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"image"))," - The Singularity image to run. It can be a local path or a supported URI."),Object(i.b)("pre",Object(n.a)({parentName:"li"},{className:"language-hcl"}),Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"image")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"library://sylabsed/examples/lolcow:latest"'),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"verbose",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#verbose","aria-label":"verbose permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"verbose"))," - (Optional) Enables extra verbosity in the Singularity runtime logging.\nDefaults to ",Object(i.b)("inlineCode",{parentName:"p"},"false"),"."),Object(i.b)("pre",Object(n.a)({parentName:"li"},{className:"language-hcl"}),Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"verbose")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"false"'),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"debug",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#debug","aria-label":"debug permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"debug"))," - (Optional) Enables extra debug output in the Singularity runtime\nlogging. Defaults to ",Object(i.b)("inlineCode",{parentName:"p"},"false"),"."),Object(i.b)("pre",Object(n.a)({parentName:"li"},{className:"language-hcl"}),Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"debug")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"false"'),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"command",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#command","aria-label":"command permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"command"))," - Singularity command action; can be ",Object(i.b)("inlineCode",{parentName:"p"},"run"),", ",Object(i.b)("inlineCode",{parentName:"p"},"exec")," or ",Object(i.b)("inlineCode",{parentName:"p"},"test"),"."),Object(i.b)("pre",Object(n.a)({parentName:"li"},{className:"language-hcl"}),Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"command")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"run"'),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"args",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#args","aria-label":"args permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"args"))," - (Optional) Singularity command action arguments, when trying to pass arguments to ",Object(i.b)("inlineCode",{parentName:"p"},"run"),", ",Object(i.b)("inlineCode",{parentName:"p"},"exec")," or ",Object(i.b)("inlineCode",{parentName:"p"},"test"),".\nMultiple args can be given by a comma separated list."),Object(i.b)("pre",Object(n.a)({parentName:"li"},{className:"language-hcl"}),Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"args")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"[")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"echo"'),", ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"hello Cloud"')," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.sylabs.io/guides/3.1/user-guide/bind_paths_and_mounts.html"}),Object(i.b)("inlineCode",{parentName:"a"},"binds"))," - (Optional) A user-bind path specification. This spec has the format ",Object(i.b)("inlineCode",{parentName:"p"},"src[:dest[:opts]]"),", where src and\ndest are outside and inside paths. If dest is not given, it is set equal to src.\nMount options ('opts') may be specified as 'ro' (read-only) or 'rw' (read/write, which\nis the default). Multiple bind paths can be given by a comma separated list."),Object(i.b)("pre",Object(n.a)({parentName:"li"},{className:"language-hcl"}),Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"bind")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"[")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"host/path:/container/path"')," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.sylabs.io/guides/3.1/user-guide/persistent_overlays.html"}),Object(i.b)("inlineCode",{parentName:"a"},"overlay"))," - (Optional) Singularity command action flag, to enable an overlayFS image for persistent data\nstorage or as read-only layer of container. Multiple overlay paths can be given by a comma separated list."),Object(i.b)("pre",Object(n.a)({parentName:"li"},{className:"language-hcl"}),Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"overlay")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"[")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"host/path/to/overlay"')," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.sylabs.io/guides/3.1/user-guide/security_options.html"}),Object(i.b)("inlineCode",{parentName:"a"},"security"))," - (Optional) Allows the root user to leverage security modules such as\nSELinux, AppArmor, and seccomp within your Singularity container.\nYou can also change the UID and GID of the user within the container at runtime."),Object(i.b)("pre",Object(n.a)({parentName:"li"},{className:"language-hcl"}),Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"security")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"[")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"uid:1000 "')," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"contain",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#contain","aria-label":"contain permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"contain"))," - (Optional) Use minimal ",Object(i.b)("inlineCode",{parentName:"p"},"/dev")," and empty other directories (e.g. /tmp and \\$HOME) instead of sharing filesystems from your host."),Object(i.b)("pre",Object(n.a)({parentName:"li"},{className:"language-hcl"}),Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"contain")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"false"'),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"workdir",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#workdir","aria-label":"workdir permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"workdir"))," - (Optional) Working directory to be used for ",Object(i.b)("inlineCode",{parentName:"p"},"/tmp"),", ",Object(i.b)("inlineCode",{parentName:"p"},"/var/tmp")," and \\$HOME (if -c/--contain was also used)."),Object(i.b)("pre",Object(n.a)({parentName:"li"},{className:"language-hcl"}),Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"workdir")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"/path/to/folder"'),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n"))),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"pwd",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#pwd","aria-label":"pwd permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"pwd"))," - (Optional) Initial working directory for payload process inside the container."),Object(i.b)("pre",Object(n.a)({parentName:"li"},{className:"language-hcl"}),Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"pwd")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"/path/to/folder"'),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")))),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#networking","aria-label":"networking permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"networking","aria-hidden":""})),"Networking"),Object(i.b)("p",null,"Currently the ",Object(i.b)("inlineCode",{parentName:"p"},"Singularity")," driver only supports host networking. For more detailed instructions on how to set up networking options, please refer to the ",Object(i.b)("inlineCode",{parentName:"p"},"Singularity")," user guides ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.sylabs.io/guides/3.1/user-guide/networking.html"}),"singularity-network")),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#client-requirements","aria-label":"client requirements permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"client-requirements","aria-hidden":""})),"Client Requirements"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Singularity")," driver requires the following:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),"64-bit Linux host"),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),"The ",Object(i.b)("inlineCode",{parentName:"li"},"linux_amd64")," Nomad binary"),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),"The Singularity driver binary placed in the ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/configuration#plugin_dir"}),"plugin_dir")," directory."),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/sylabs/singularity"}),Object(i.b)("inlineCode",{parentName:"a"},"Singularity"))," v3.1.1+ to be installed")),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#plugin_options","aria-label":"plugin options permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h __compat",id:"plugin_options","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"plugin-options","aria-hidden":""})),"Plugin Options"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"enabled",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#enabled","aria-label":"enabled permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"enabled"))," - The ",Object(i.b)("inlineCode",{parentName:"p"},"Singularity")," driver may be disabled on hosts by setting this option to ",Object(i.b)("inlineCode",{parentName:"p"},"false")," (defaults to ",Object(i.b)("inlineCode",{parentName:"p"},"true"),").")),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"singularity_cache",className:"__target-lic","aria-hidden":""})),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#singularity_cache","aria-label":"singularity_cache permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"singularity_cache"))," - The location in which all containers are stored (commonly defaults to ",Object(i.b)("inlineCode",{parentName:"p"},"/var/lib/singularity"),"). See ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.sylabs.io/guides/3.1/user-guide/appendix.html#c"}),Object(i.b)("inlineCode",{parentName:"a"},"Singularity-cache"))," for more details."))),Object(i.b)("p",null,"An example of using these plugin options with the new ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/configuration/plugin"}),"plugin\nsyntax")," is shown below:"),Object(i.b)("pre",{className:"language-hcl"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),"plugin ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"nomad-driver-Singularity"')," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"config")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"enabled")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"true"),"\n    ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),"singularity_path")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"=")," ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"/var/lib/singularity"'),"\n  ",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(i.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(i.b)("p",null,"Please note the plugin name should match whatever name you have specified for the external driver in the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/configuration#plugin_dir"}),"plugin_dir")," directory."),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#client-attributes","aria-label":"client attributes permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"client-attributes","aria-hidden":""})),"Client Attributes"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Singularity")," driver will set the following client attributes:"),Object(i.b)("ul",null,Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"driver-singularity",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#driver-singularity","aria-label":"driver singularity permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"driver.singularity"))," - Set to ",Object(i.b)("inlineCode",{parentName:"li"},"1")," if Singularity is found and enabled on the host node."),Object(i.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(i.b)("a",Object(n.a)({parentName:"li"},{id:"driver-singularity-version",className:"__target-lic","aria-hidden":""})),Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#driver-singularity-version","aria-label":"driver singularity version permalink",className:"__permalink-lic"}),Object(i.b)("inlineCode",{parentName:"a"},"driver.singularity.version"))," - Version of ",Object(i.b)("inlineCode",{parentName:"li"},"Singularity")," e.g.: ",Object(i.b)("inlineCode",{parentName:"li"},"3.1.0"),".")),Object(i.b)("h2",{className:"g-type-display-3"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#resource-isolation","aria-label":"resource isolation permalink"}),"\xbb"),Object(i.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"resource-isolation","aria-hidden":""})),"Resource Isolation"),Object(i.b)("p",null,"This driver supports CPU and memory isolation via the ",Object(i.b)("inlineCode",{parentName:"p"},"Singularity")," cgroups feature. Network\nisolation is supported via ",Object(i.b)("inlineCode",{parentName:"p"},"--net")," and ",Object(i.b)("inlineCode",{parentName:"p"},"--network")," feature (Singularity v3.1.1+ required)."))}o.isMDXComponent=!0}},[["qKe4",0,1,2,4,3,5,6]]]);