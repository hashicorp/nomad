(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{FsRO:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/autoscaling/cli",function(){return t("bizW")}])},bizW:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return p}));var n=t("wx14"),i=t("Ff2n"),l=t("q1tI"),c=t.n(l),r=t("7ljp"),b=t("j1un"),o=(c.a.createElement,{}),m=Object(b.a)({layout:"docs",page_title:"CLI",sidebar_title:"CLI",description:"The Nomad Autoscaler can be controlled via a command-line interface. This page documents all the commands the Nomad Autoscaler accepts.\n",__resourcePath:"docs/autoscaling/cli.mdx",__scans:{}});function p(e){var a=e.components,t=Object(i.a)(e,["components"]);return Object(r.b)(m,Object(n.a)({},o,t,{components:a,mdxType:"MDXLayout"}),Object(r.b)("h1",{className:"g-type-display-2"},Object(r.b)("a",Object(n.a)({parentName:"h1"},{className:"__permalink-h",href:"#nomad-autoscaler-command-agent","aria-label":"nomad autoscaler command agent permalink"}),"\xbb"),Object(r.b)("a",Object(n.a)({parentName:"h1"},{className:"__target-h",id:"nomad-autoscaler-command-agent","aria-hidden":""})),"Nomad Autoscaler Command: agent"),Object(r.b)("p",null,"The agent command is used to start the Nomad Autoscaler which runs until an\ninterrupt signal is received. The Nomad Autoscaler agent's configuration\nprimarily comes from the config files used, but a subset of the options may\nalso be passed directly as CLI arguments. See the\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/autoscaling/agent"}),"Nomad Autoscaler Agent guide")," for more information\non how to use this command and the options it has."),Object(r.b)("h2",{className:"g-type-display-3"},Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#command-line-options","aria-label":"command line options permalink"}),"\xbb"),Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"command-line-options","aria-hidden":""})),"Command-line Options"),Object(r.b)("p",null,"A subset of the available Nomad Autoscaler agent configuration can optionally be\npassed in via CLI arguments. The ",Object(r.b)("inlineCode",{parentName:"p"},"agent")," command accepts the following arguments:"),Object(r.b)("ul",null,Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"config",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#config","aria-label":"config permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-config=<path>")),": The path to either a single config file or a directory of\nconfig files to use for configuring the Nomad Autoscaler agent.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"log-level",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#log-level","aria-label":"log level permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-log-level=<level>")),": Specify the verbosity level of Nomad Autoscaler's logs.\nValid values include ",Object(r.b)("inlineCode",{parentName:"p"},"DEBUG"),", ",Object(r.b)("inlineCode",{parentName:"p"},"INFO"),", and ",Object(r.b)("inlineCode",{parentName:"p"},"WARN"),", in decreasing order of verbosity.\nThe default is ",Object(r.b)("inlineCode",{parentName:"p"},"INFO"),".")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"log-json",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#log-json","aria-label":"log json permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-log-json")),": Output logs in a JSON format. The default is ",Object(r.b)("inlineCode",{parentName:"p"},"false"),".")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"plugin-dir",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#plugin-dir","aria-label":"plugin dir permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-plugin-dir=<path>")),": The plugin directory is used to discover Nomad Autoscaler\nplugins. If not specified, the plugin directory defaults to be that of\n",Object(r.b)("inlineCode",{parentName:"p"},"<current-dir>/plugins/"),".")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"http-bind-address",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#http-bind-address","aria-label":"http bind address permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-http-bind-address=<addr>")),": The HTTP address that the health server will bind\nto. The default is ",Object(r.b)("inlineCode",{parentName:"p"},"127.0.0.1"),".")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"http-bind-port",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#http-bind-port","aria-label":"http bind port permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-http-bind-port=<port>")),": The port that the health server will bind to. The\ndefault is ",Object(r.b)("inlineCode",{parentName:"p"},"8080"),".")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"nomad-address",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#nomad-address","aria-label":"nomad address permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-nomad-address=<addr>")),": The address of the Nomad server in the form of\n",Object(r.b)("inlineCode",{parentName:"p"},"protocol://addr:port"),". The default is ",Object(r.b)("inlineCode",{parentName:"p"},"http://127.0.0.1:4646"),".")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"nomad-region",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#nomad-region","aria-label":"nomad region permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-nomad-region=<region>")),": The region of the Nomad servers to connect with.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"nomad-namespace",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#nomad-namespace","aria-label":"nomad namespace permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-nomad-namespace=<namespace>")),": The target namespace for queries and actions\nbound to a namespace.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"nomad-token",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#nomad-token","aria-label":"nomad token permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-nomad-token=<token>")),": The SecretID of an ACL token to use to authenticate\nAPI requests with.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"nomad-http-auth",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#nomad-http-auth","aria-label":"nomad http auth permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-nomad-http-auth=<username:password>")),": The authentication information to use\nwhen connecting to a Nomad API which is using HTTP authentication.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"nomad-ca-cert",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#nomad-ca-cert","aria-label":"nomad ca cert permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-nomad-ca-cert=<path>")),": Path to a PEM encoded CA cert file to use to verify\nthe Nomad server SSL certificate.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"nomad-ca-path",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#nomad-ca-path","aria-label":"nomad ca path permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-nomad-ca-path=<path>")),": Path to a directory of PEM encoded CA cert files to\nverify the Nomad server SSL certificate. If both ",Object(r.b)("inlineCode",{parentName:"p"},"-nomad-ca-cert")," and\n",Object(r.b)("inlineCode",{parentName:"p"},"-nomad-ca-path")," are specified, ",Object(r.b)("inlineCode",{parentName:"p"},"-nomad-ca-cert")," is used.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"nomad-client-cert",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#nomad-client-cert","aria-label":"nomad client cert permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-nomad-client-cert=<path>")),": Path to a PEM encoded client certificate for TLS\nauthentication to the Nomad server. Must also specify ",Object(r.b)("inlineCode",{parentName:"p"},"-nomad-client-key"),".")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"nomad-client-key",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#nomad-client-key","aria-label":"nomad client key permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-nomad-client-key=<path>")),": Path to an unencrypted PEM encoded private key\nmatching the client certificate from ",Object(r.b)("inlineCode",{parentName:"p"},"-nomad-client-cert"),".")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"nomad-tls-server-name",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#nomad-tls-server-name","aria-label":"nomad tls server name permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-nomad-tls-server-name=<name>")),": The server name to use as the SNI host when\nconnecting via TLS.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"nomad-skip-verify",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#nomad-skip-verify","aria-label":"nomad skip verify permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-nomad-skip-verify")),": Do not verify TLS certificates. This is strongly discouraged.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"policy-dir",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#policy-dir","aria-label":"policy dir permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-policy-dir=<path>")),": The path to a directory used to load scaling policies.")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"policy-default-cooldown",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#policy-default-cooldown","aria-label":"policy default cooldown permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-policy-default-cooldown=<dur>")),": The default cooldown that will be applied to\nall scaling policies which do not specify a cooldown period. The default is ",Object(r.b)("inlineCode",{parentName:"p"},"5m"),".")),Object(r.b)("li",Object(n.a)({parentName:"ul"},{className:"g-type-long-body"}),Object(r.b)("a",Object(n.a)({parentName:"li"},{id:"policy-default-evaluation-interval",className:"__target-lic","aria-hidden":""})),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#policy-default-evaluation-interval","aria-label":"policy default evaluation interval permalink",className:"__permalink-lic"}),Object(r.b)("inlineCode",{parentName:"a"},"-policy-default-evaluation-interval=<dur>")),":  The default evaluation interval\nthat will be applied to all scaling policies which do not specify an evaluation\ninterval. The default is ",Object(r.b)("inlineCode",{parentName:"p"},"10s"),"."))),Object(r.b)("h1",{className:"g-type-display-2"},Object(r.b)("a",Object(n.a)({parentName:"h1"},{className:"__permalink-h",href:"#nomad-autoscaler-command-version","aria-label":"nomad autoscaler command version permalink"}),"\xbb"),Object(r.b)("a",Object(n.a)({parentName:"h1"},{className:"__target-h",id:"nomad-autoscaler-command-version","aria-hidden":""})),"Nomad Autoscaler Command: version"),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"version")," command displays build information about the running binary,\nincluding the release version and the exact revision."),Object(r.b)("h2",{className:"g-type-display-3"},Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#usage","aria-label":"usage permalink"}),"\xbb"),Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"usage","aria-hidden":""})),"Usage"),Object(r.b)("pre",{className:"language-plaintext"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-plaintext"}),"nomad-autoscaler version\n")),Object(r.b)("h2",{className:"g-type-display-3"},Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#output","aria-label":"output permalink"}),"\xbb"),Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"output","aria-hidden":""})),"Output"),Object(r.b)("p",null,"This command prints both the version number as well as the exact commit SHA used\nduring the build. The SHA may also have the string ",Object(r.b)("inlineCode",{parentName:"p"},"+CHANGES")," appended to the\nend, indicating that local, uncommitted changes were detected at build time."),Object(r.b)("h2",{className:"g-type-display-3"},Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__permalink-h",href:"#examples","aria-label":"examples permalink"}),"\xbb"),Object(r.b)("a",Object(n.a)({parentName:"h2"},{className:"__target-h",id:"examples","aria-hidden":""})),"Examples"),Object(r.b)("pre",{className:"language-shell-session"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell-session"}),Object(r.b)("span",Object(n.a)({parentName:"code"},{className:"token command"}),Object(r.b)("span",Object(n.a)({parentName:"span"},{className:"token sh important"}),"$")," ",Object(r.b)("span",Object(n.a)({parentName:"span"},{className:"token bash language-bash"}),"nomad-autoscaler version")),"\n",Object(r.b)("span",Object(n.a)({parentName:"code"},{className:"token output"}),"Nomad Autoscaler v0.0.3-dev (da91fa9)\n"))))}p.isMDXComponent=!0}},[["FsRO",0,1,2,4,3,5,6]]]);